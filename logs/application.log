2025-06-05 00:02:54 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - createPropertyApplication called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe0@gmail.com, password=$2a$10$115yaFQPRO3ioCqyr0xvR.RkhcZJEJeikH9hE0UDm.VBUlq1WneFm, firstName=asd, lastName=ads, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjQ2NTgsImV4cCI6MTc0OTE1MTA1OH0.RA8pPFDsif9-m6s62sDNDXLYapOuzI6nE5eYqEfn26NepDP6YlzoeIC0b_xU3Yl8BvpPz_UVxjzdKAvrox_gRw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjQ2NTgsImV4cCI6MTc0OTY2OTQ1OH0.0YtSlcfJgJ0EfJHepCIrnbK_wWPTWTLHZjXEyaHPkvbAxDL1XoLcNPhgsFvJetLuZsngc7jkpRlGt3Tfs3nxOw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], Payload: com.strahovka.delivery.Insurance$PropertyApplication@531e1d85
2025-06-05 00:02:55 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe0@gmail.com, password=$2a$10$115yaFQPRO3ioCqyr0xvR.RkhcZJEJeikH9hE0UDm.VBUlq1WneFm, firstName=asd, lastName=ads, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjQ2NTgsImV4cCI6MTc0OTE1MTA1OH0.RA8pPFDsif9-m6s62sDNDXLYapOuzI6nE5eYqEfn26NepDP6YlzoeIC0b_xU3Yl8BvpPz_UVxjzdKAvrox_gRw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjQ2NTgsImV4cCI6MTc0OTY2OTQ1OH0.0YtSlcfJgJ0EfJHepCIrnbK_wWPTWTLHZjXEyaHPkvbAxDL1XoLcNPhgsFvJetLuZsngc7jkpRlGt3Tfs3nxOw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 00:02:55 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe0@gmail.com, password=$2a$10$115yaFQPRO3ioCqyr0xvR.RkhcZJEJeikH9hE0UDm.VBUlq1WneFm, firstName=asd, lastName=ads, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjQ2NTgsImV4cCI6MTc0OTE1MTA1OH0.RA8pPFDsif9-m6s62sDNDXLYapOuzI6nE5eYqEfn26NepDP6YlzoeIC0b_xU3Yl8BvpPz_UVxjzdKAvrox_gRw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjQ2NTgsImV4cCI6MTc0OTY2OTQ1OH0.0YtSlcfJgJ0EfJHepCIrnbK_wWPTWTLHZjXEyaHPkvbAxDL1XoLcNPhgsFvJetLuZsngc7jkpRlGt3Tfs3nxOw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 00:02:55 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe0@gmail.com, password=$2a$10$115yaFQPRO3ioCqyr0xvR.RkhcZJEJeikH9hE0UDm.VBUlq1WneFm, firstName=asd, lastName=ads, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjQ2NTgsImV4cCI6MTc0OTE1MTA1OH0.RA8pPFDsif9-m6s62sDNDXLYapOuzI6nE5eYqEfn26NepDP6YlzoeIC0b_xU3Yl8BvpPz_UVxjzdKAvrox_gRw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjQ2NTgsImV4cCI6MTc0OTY2OTQ1OH0.0YtSlcfJgJ0EfJHepCIrnbK_wWPTWTLHZjXEyaHPkvbAxDL1XoLcNPhgsFvJetLuZsngc7jkpRlGt3Tfs3nxOw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 00:02:55 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe0@gmail.com, password=$2a$10$115yaFQPRO3ioCqyr0xvR.RkhcZJEJeikH9hE0UDm.VBUlq1WneFm, firstName=asd, lastName=ads, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjQ2NTgsImV4cCI6MTc0OTE1MTA1OH0.RA8pPFDsif9-m6s62sDNDXLYapOuzI6nE5eYqEfn26NepDP6YlzoeIC0b_xU3Yl8BvpPz_UVxjzdKAvrox_gRw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjQ2NTgsImV4cCI6MTc0OTY2OTQ1OH0.0YtSlcfJgJ0EfJHepCIrnbK_wWPTWTLHZjXEyaHPkvbAxDL1XoLcNPhgsFvJetLuZsngc7jkpRlGt3Tfs3nxOw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 00:02:55 [http-nio-8081-exec-11] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe0@gmail.com, password=$2a$10$115yaFQPRO3ioCqyr0xvR.RkhcZJEJeikH9hE0UDm.VBUlq1WneFm, firstName=asd, lastName=ads, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjQ2NTgsImV4cCI6MTc0OTE1MTA1OH0.RA8pPFDsif9-m6s62sDNDXLYapOuzI6nE5eYqEfn26NepDP6YlzoeIC0b_xU3Yl8BvpPz_UVxjzdKAvrox_gRw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjQ2NTgsImV4cCI6MTc0OTY2OTQ1OH0.0YtSlcfJgJ0EfJHepCIrnbK_wWPTWTLHZjXEyaHPkvbAxDL1XoLcNPhgsFvJetLuZsngc7jkpRlGt3Tfs3nxOw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 00:02:55 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=11, DeterminedType=HEALTH, User=erwe0@gmail.com, PackageID=5
2025-06-05 00:02:55 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=12, DeterminedType=TRAVEL, User=erwe0@gmail.com, PackageID=5
2025-06-05 00:02:55 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe0@gmail.com, password=$2a$10$115yaFQPRO3ioCqyr0xvR.RkhcZJEJeikH9hE0UDm.VBUlq1WneFm, firstName=asd, lastName=ads, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjQ2NTgsImV4cCI6MTc0OTE1MTA1OH0.RA8pPFDsif9-m6s62sDNDXLYapOuzI6nE5eYqEfn26NepDP6YlzoeIC0b_xU3Yl8BvpPz_UVxjzdKAvrox_gRw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjQ2NTgsImV4cCI6MTc0OTY2OTQ1OH0.0YtSlcfJgJ0EfJHepCIrnbK_wWPTWTLHZjXEyaHPkvbAxDL1XoLcNPhgsFvJetLuZsngc7jkpRlGt3Tfs3nxOw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 00:02:55 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe0@gmail.com, password=$2a$10$115yaFQPRO3ioCqyr0xvR.RkhcZJEJeikH9hE0UDm.VBUlq1WneFm, firstName=asd, lastName=ads, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjQ2NTgsImV4cCI6MTc0OTE1MTA1OH0.RA8pPFDsif9-m6s62sDNDXLYapOuzI6nE5eYqEfn26NepDP6YlzoeIC0b_xU3Yl8BvpPz_UVxjzdKAvrox_gRw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjQ2NTgsImV4cCI6MTc0OTY2OTQ1OH0.0YtSlcfJgJ0EfJHepCIrnbK_wWPTWTLHZjXEyaHPkvbAxDL1XoLcNPhgsFvJetLuZsngc7jkpRlGt3Tfs3nxOw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 00:02:55 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=3, DeterminedType=KASKO, User=erwe0@gmail.com, PackageID=4
2025-06-05 00:02:55 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe0@gmail.com, password=$2a$10$115yaFQPRO3ioCqyr0xvR.RkhcZJEJeikH9hE0UDm.VBUlq1WneFm, firstName=asd, lastName=ads, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjQ2NTgsImV4cCI6MTc0OTE1MTA1OH0.RA8pPFDsif9-m6s62sDNDXLYapOuzI6nE5eYqEfn26NepDP6YlzoeIC0b_xU3Yl8BvpPz_UVxjzdKAvrox_gRw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjQ2NTgsImV4cCI6MTc0OTY2OTQ1OH0.0YtSlcfJgJ0EfJHepCIrnbK_wWPTWTLHZjXEyaHPkvbAxDL1XoLcNPhgsFvJetLuZsngc7jkpRlGt3Tfs3nxOw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 00:02:55 [http-nio-8081-exec-11] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe0@gmail.com, password=$2a$10$115yaFQPRO3ioCqyr0xvR.RkhcZJEJeikH9hE0UDm.VBUlq1WneFm, firstName=asd, lastName=ads, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjQ2NTgsImV4cCI6MTc0OTE1MTA1OH0.RA8pPFDsif9-m6s62sDNDXLYapOuzI6nE5eYqEfn26NepDP6YlzoeIC0b_xU3Yl8BvpPz_UVxjzdKAvrox_gRw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjQ2NTgsImV4cCI6MTc0OTY2OTQ1OH0.0YtSlcfJgJ0EfJHepCIrnbK_wWPTWTLHZjXEyaHPkvbAxDL1XoLcNPhgsFvJetLuZsngc7jkpRlGt3Tfs3nxOw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 00:02:55 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe0@gmail.com, password=$2a$10$115yaFQPRO3ioCqyr0xvR.RkhcZJEJeikH9hE0UDm.VBUlq1WneFm, firstName=asd, lastName=ads, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjQ2NTgsImV4cCI6MTc0OTE1MTA1OH0.RA8pPFDsif9-m6s62sDNDXLYapOuzI6nE5eYqEfn26NepDP6YlzoeIC0b_xU3Yl8BvpPz_UVxjzdKAvrox_gRw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjQ2NTgsImV4cCI6MTc0OTY2OTQ1OH0.0YtSlcfJgJ0EfJHepCIrnbK_wWPTWTLHZjXEyaHPkvbAxDL1XoLcNPhgsFvJetLuZsngc7jkpRlGt3Tfs3nxOw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 00:02:55 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=5, DeterminedType=KASKO, User=erwe0@gmail.com, PackageID=4
2025-06-05 00:02:55 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=6, DeterminedType=OSAGO, User=erwe0@gmail.com, PackageID=4
2025-06-05 00:02:55 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=8, DeterminedType=KASKO, User=erwe0@gmail.com, PackageID=4
2025-06-05 00:02:55 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=9, DeterminedType=OSAGO, User=erwe0@gmail.com, PackageID=4
2025-06-05 00:02:55 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=7, DeterminedType=HEALTH, User=erwe0@gmail.com, PackageID=6
2025-06-05 00:02:55 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=10, DeterminedType=HEALTH, User=erwe0@gmail.com, PackageID=6
2025-06-05 00:02:55 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=13, DeterminedType=HEALTH, User=erwe0@gmail.com, PackageID=6
2025-06-05 00:02:55 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=16, DeterminedType=HEALTH, User=erwe0@gmail.com, PackageID=6
2025-06-05 00:02:55 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=20, DeterminedType=PROPERTY, User=erwe0@gmail.com, PackageID=6
2025-06-05 00:02:55 [http-nio-8081-exec-10] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=11, DeterminedType=HEALTH, User=erwe0@gmail.com, PackageID=5
2025-06-05 00:02:55 [http-nio-8081-exec-10] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=12, DeterminedType=TRAVEL, User=erwe0@gmail.com, PackageID=5
2025-06-05 00:02:55 [http-nio-8081-exec-10] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=3, DeterminedType=KASKO, User=erwe0@gmail.com, PackageID=4
2025-06-05 00:02:55 [http-nio-8081-exec-10] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=5, DeterminedType=KASKO, User=erwe0@gmail.com, PackageID=4
2025-06-05 00:02:55 [http-nio-8081-exec-10] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=6, DeterminedType=OSAGO, User=erwe0@gmail.com, PackageID=4
2025-06-05 00:02:55 [http-nio-8081-exec-10] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=8, DeterminedType=KASKO, User=erwe0@gmail.com, PackageID=4
2025-06-05 00:02:55 [http-nio-8081-exec-10] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=9, DeterminedType=OSAGO, User=erwe0@gmail.com, PackageID=4
2025-06-05 00:02:55 [http-nio-8081-exec-10] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=7, DeterminedType=HEALTH, User=erwe0@gmail.com, PackageID=6
2025-06-05 00:02:55 [http-nio-8081-exec-10] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=10, DeterminedType=HEALTH, User=erwe0@gmail.com, PackageID=6
2025-06-05 00:02:55 [http-nio-8081-exec-10] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=13, DeterminedType=HEALTH, User=erwe0@gmail.com, PackageID=6
2025-06-05 00:02:55 [http-nio-8081-exec-10] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=16, DeterminedType=HEALTH, User=erwe0@gmail.com, PackageID=6
2025-06-05 00:02:55 [http-nio-8081-exec-10] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=20, DeterminedType=PROPERTY, User=erwe0@gmail.com, PackageID=6
2025-06-05 00:11:08 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjc4NjgsImV4cCI6MTc0OTE1NDI2OH0.oI-fr7snpgADHMF-7d1tEdqszkjr5JicPp7ctd1-fCgcVQiWagDcErfyDBWH3qP0hgfiH-oZal-wzMzuKPgOXw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjc4NjgsImV4cCI6MTc0OTY3MjY2OH0.0cjBpDkkZszSzLKGw0ZYAMgva2GLNPEakF9okkP_y2f0lb_vWRklNaZfWmbhsD0jvx0GSMZ86Iy3SCHsmdWrHQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 00:11:08 [http-nio-8081-exec-11] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjc4NjgsImV4cCI6MTc0OTE1NDI2OH0.oI-fr7snpgADHMF-7d1tEdqszkjr5JicPp7ctd1-fCgcVQiWagDcErfyDBWH3qP0hgfiH-oZal-wzMzuKPgOXw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjc4NjgsImV4cCI6MTc0OTY3MjY2OH0.0cjBpDkkZszSzLKGw0ZYAMgva2GLNPEakF9okkP_y2f0lb_vWRklNaZfWmbhsD0jvx0GSMZ86Iy3SCHsmdWrHQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 00:11:08 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjc4NjgsImV4cCI6MTc0OTE1NDI2OH0.oI-fr7snpgADHMF-7d1tEdqszkjr5JicPp7ctd1-fCgcVQiWagDcErfyDBWH3qP0hgfiH-oZal-wzMzuKPgOXw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjc4NjgsImV4cCI6MTc0OTY3MjY2OH0.0cjBpDkkZszSzLKGw0ZYAMgva2GLNPEakF9okkP_y2f0lb_vWRklNaZfWmbhsD0jvx0GSMZ86Iy3SCHsmdWrHQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 00:11:08 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjc4NjgsImV4cCI6MTc0OTE1NDI2OH0.oI-fr7snpgADHMF-7d1tEdqszkjr5JicPp7ctd1-fCgcVQiWagDcErfyDBWH3qP0hgfiH-oZal-wzMzuKPgOXw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjc4NjgsImV4cCI6MTc0OTY3MjY2OH0.0cjBpDkkZszSzLKGw0ZYAMgva2GLNPEakF9okkP_y2f0lb_vWRklNaZfWmbhsD0jvx0GSMZ86Iy3SCHsmdWrHQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 00:11:08 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjc4NjgsImV4cCI6MTc0OTE1NDI2OH0.oI-fr7snpgADHMF-7d1tEdqszkjr5JicPp7ctd1-fCgcVQiWagDcErfyDBWH3qP0hgfiH-oZal-wzMzuKPgOXw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjc4NjgsImV4cCI6MTc0OTY3MjY2OH0.0cjBpDkkZszSzLKGw0ZYAMgva2GLNPEakF9okkP_y2f0lb_vWRklNaZfWmbhsD0jvx0GSMZ86Iy3SCHsmdWrHQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 00:11:08 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjc4NjgsImV4cCI6MTc0OTE1NDI2OH0.oI-fr7snpgADHMF-7d1tEdqszkjr5JicPp7ctd1-fCgcVQiWagDcErfyDBWH3qP0hgfiH-oZal-wzMzuKPgOXw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjc4NjgsImV4cCI6MTc0OTY3MjY2OH0.0cjBpDkkZszSzLKGw0ZYAMgva2GLNPEakF9okkP_y2f0lb_vWRklNaZfWmbhsD0jvx0GSMZ86Iy3SCHsmdWrHQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 00:11:08 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjc4NjgsImV4cCI6MTc0OTE1NDI2OH0.oI-fr7snpgADHMF-7d1tEdqszkjr5JicPp7ctd1-fCgcVQiWagDcErfyDBWH3qP0hgfiH-oZal-wzMzuKPgOXw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjc4NjgsImV4cCI6MTc0OTY3MjY2OH0.0cjBpDkkZszSzLKGw0ZYAMgva2GLNPEakF9okkP_y2f0lb_vWRklNaZfWmbhsD0jvx0GSMZ86Iy3SCHsmdWrHQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 00:11:08 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjc4NjgsImV4cCI6MTc0OTE1NDI2OH0.oI-fr7snpgADHMF-7d1tEdqszkjr5JicPp7ctd1-fCgcVQiWagDcErfyDBWH3qP0hgfiH-oZal-wzMzuKPgOXw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjc4NjgsImV4cCI6MTc0OTY3MjY2OH0.0cjBpDkkZszSzLKGw0ZYAMgva2GLNPEakF9okkP_y2f0lb_vWRklNaZfWmbhsD0jvx0GSMZ86Iy3SCHsmdWrHQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 00:11:08 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjc4NjgsImV4cCI6MTc0OTE1NDI2OH0.oI-fr7snpgADHMF-7d1tEdqszkjr5JicPp7ctd1-fCgcVQiWagDcErfyDBWH3qP0hgfiH-oZal-wzMzuKPgOXw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjc4NjgsImV4cCI6MTc0OTY3MjY2OH0.0cjBpDkkZszSzLKGw0ZYAMgva2GLNPEakF9okkP_y2f0lb_vWRklNaZfWmbhsD0jvx0GSMZ86Iy3SCHsmdWrHQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 00:11:08 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjc4NjgsImV4cCI6MTc0OTE1NDI2OH0.oI-fr7snpgADHMF-7d1tEdqszkjr5JicPp7ctd1-fCgcVQiWagDcErfyDBWH3qP0hgfiH-oZal-wzMzuKPgOXw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjc4NjgsImV4cCI6MTc0OTY3MjY2OH0.0cjBpDkkZszSzLKGw0ZYAMgva2GLNPEakF9okkP_y2f0lb_vWRklNaZfWmbhsD0jvx0GSMZ86Iy3SCHsmdWrHQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 00:11:34 [http-nio-8081-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessApiUsageException: Modifying queries can only use void or int/Integer as return type; Offending method: public abstract com.strahovka.delivery.Insurance$InsuranceGuide com.strahovka.repository.InsuranceRepository.saveGuide(com.strahovka.delivery.Insurance$InsuranceGuide)] with root cause
java.lang.IllegalArgumentException: Modifying queries can only use void or int/Integer as return type; Offending method: public abstract com.strahovka.delivery.Insurance$InsuranceGuide com.strahovka.repository.InsuranceRepository.saveGuide(com.strahovka.delivery.Insurance$InsuranceGuide)
	at org.springframework.util.Assert.isTrue(Assert.java:111)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$ModifyingExecution.<init>(JpaQueryExecution.java:251)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.getExecution(AbstractJpaQuery.java:173)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at jdk.proxy2/jdk.proxy2.$Proxy186.saveGuide(Unknown Source)
	at com.strahovka.service.InsuranceService.createGuide(InsuranceService.java:115)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.strahovka.service.InsuranceService$$SpringCGLIB$$0.createGuide(<generated>)
	at com.strahovka.controller.InsuranceController.createGuide(InsuranceController.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 00:16:49 [http-nio-8081-exec-4] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessApiUsageException: Modifying queries can only use void or int/Integer as return type; Offending method: public abstract com.strahovka.delivery.Insurance$InsuranceGuide com.strahovka.repository.InsuranceRepository.saveGuide(com.strahovka.delivery.Insurance$InsuranceGuide)] with root cause
java.lang.IllegalArgumentException: Modifying queries can only use void or int/Integer as return type; Offending method: public abstract com.strahovka.delivery.Insurance$InsuranceGuide com.strahovka.repository.InsuranceRepository.saveGuide(com.strahovka.delivery.Insurance$InsuranceGuide)
	at org.springframework.util.Assert.isTrue(Assert.java:111)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$ModifyingExecution.<init>(JpaQueryExecution.java:251)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.getExecution(AbstractJpaQuery.java:173)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at jdk.proxy2/jdk.proxy2.$Proxy186.saveGuide(Unknown Source)
	at com.strahovka.service.InsuranceService.createGuide(InsuranceService.java:115)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.strahovka.service.InsuranceService$$SpringCGLIB$$0.createGuide(<generated>)
	at com.strahovka.controller.InsuranceController.createGuide(InsuranceController.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 00:17:02 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 11608 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 00:17:02 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 00:17:05 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 00:17:05 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-06-05 00:17:05 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 00:17:05 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/java.lang.Thread.sleepNanos0(Native Method)
 java.base/java.lang.Thread.sleepNanos(Thread.java:496)
 java.base/java.lang.Thread.sleep(Thread.java:527)
 com.zaxxer.hikari.util.UtilityElf.quietlySleep(UtilityElf.java:53)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:745)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
 java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 00:17:05 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-05 00:17:05 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Found more than one migration with version 97
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V97__add_missing_columns_to_insurance_guides.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V97__fix_status_column_location.sql (SQL)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 94 common frames omitted
Caused by: org.flywaydb.core.api.FlywayException: Found more than one migration with version 97
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V97__add_missing_columns_to_insurance_guides.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V97__fix_status_column_location.sql (SQL)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.checkForIncompatibilities(CompositeMigrationResolver.java:87)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.doFindAvailableMigrations(CompositeMigrationResolver.java:120)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:107)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:113)
	at org.flywaydb.core.internal.info.MigrationInfoServiceImpl.refresh(MigrationInfoServiceImpl.java:79)
	at org.flywaydb.core.internal.command.DbValidate.lambda$validate$0(DbValidate.java:108)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbValidate.validate(DbValidate.java:101)
	at org.flywaydb.core.Flyway.doValidate(Flyway.java:400)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:144)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 103 common frames omitted
2025-06-05 00:19:37 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 16052 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 00:19:37 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 00:19:39 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 00:19:39 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-06-05 00:19:39 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 00:19:39 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/java.lang.Thread.sleepNanos0(Native Method)
 java.base/java.lang.Thread.sleepNanos(Thread.java:496)
 java.base/java.lang.Thread.sleep(Thread.java:527)
 com.zaxxer.hikari.util.UtilityElf.quietlySleep(UtilityElf.java:53)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:745)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
 java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 00:19:39 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-05 00:19:39 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Found more than one migration with version 98
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V98__remove_duplicate_status_column.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V98__add_missing_columns_to_insurance_guides.sql (SQL)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 94 common frames omitted
Caused by: org.flywaydb.core.api.FlywayException: Found more than one migration with version 98
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V98__remove_duplicate_status_column.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V98__add_missing_columns_to_insurance_guides.sql (SQL)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.checkForIncompatibilities(CompositeMigrationResolver.java:87)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.doFindAvailableMigrations(CompositeMigrationResolver.java:120)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:107)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:113)
	at org.flywaydb.core.internal.info.MigrationInfoServiceImpl.refresh(MigrationInfoServiceImpl.java:79)
	at org.flywaydb.core.internal.command.DbValidate.lambda$validate$0(DbValidate.java:108)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbValidate.validate(DbValidate.java:101)
	at org.flywaydb.core.Flyway.doValidate(Flyway.java:400)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:144)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 103 common frames omitted
2025-06-05 00:21:08 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 26488 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 00:21:08 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 00:21:10 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 00:21:10 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-06-05 00:21:10 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 00:21:10 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/sun.security.provider.SHA2.implCompress0(SHA2.java:160)
 java.base/sun.security.provider.SHA2.implCompress(SHA2.java:135)
 java.base/sun.security.provider.DigestBase.implCompressMultiBlock0(DigestBase.java:149)
 java.base/sun.security.provider.DigestBase.implCompressMultiBlock(DigestBase.java:143)
 java.base/sun.security.provider.DigestBase.engineUpdate(DigestBase.java:130)
 java.base/java.security.MessageDigest$Delegate.engineUpdate(MessageDigest.java:655)
 java.base/java.security.MessageDigest.update(MessageDigest.java:357)
 java.base/com.sun.crypto.provider.HmacCore.engineUpdate(HmacCore.java:193)
 java.base/javax.crypto.Mac.update(Mac.java:503)
 java.base/com.sun.crypto.provider.PBKDF2KeyImpl.deriveKey(PBKDF2KeyImpl.java:200)
 java.base/com.sun.crypto.provider.PBKDF2KeyImpl.<init>(PBKDF2KeyImpl.java:115)
 java.base/com.sun.crypto.provider.PBKDF2Core.engineGenerateSecret(PBKDF2Core.java:68)
 java.base/javax.crypto.SecretKeyFactory.generateSecret(SecretKeyFactory.java:337)
 org.postgresql.shaded.com.ongres.scram.common.util.CryptoUtil.hi(CryptoUtil.java:120)
 org.postgresql.shaded.com.ongres.scram.common.ScramMechanisms.saltedPassword(ScramMechanisms.java:154)
 org.postgresql.shaded.com.ongres.scram.common.ScramFunctions.saltedPassword(ScramFunctions.java:59)
 org.postgresql.shaded.com.ongres.scram.client.ScramSession$ClientFinalProcessor.<init>(ScramSession.java:196)
 org.postgresql.shaded.com.ongres.scram.client.ScramSession$ClientFinalProcessor.<init>(ScramSession.java:163)
 org.postgresql.shaded.com.ongres.scram.client.ScramSession$ServerFirstProcessor.clientFinalProcessor(ScramSession.java:130)
 org.postgresql.jre7.sasl.ScramAuthenticator.processServerFirstMessage(ScramAuthenticator.java:147)
 org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:863)
 org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:203)
 org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
 org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
 org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
 org.postgresql.Driver.makeConnection(Driver.java:443)
 org.postgresql.Driver.connect(Driver.java:297)
 com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
 com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
 com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
 com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
 java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 00:21:10 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-05 00:21:10 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Found more than one migration with version 99
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V99__remove_duplicate_status_columns.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V99__add_missing_columns_to_insurance_guides.sql (SQL)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 94 common frames omitted
Caused by: org.flywaydb.core.api.FlywayException: Found more than one migration with version 99
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V99__remove_duplicate_status_columns.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V99__add_missing_columns_to_insurance_guides.sql (SQL)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.checkForIncompatibilities(CompositeMigrationResolver.java:87)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.doFindAvailableMigrations(CompositeMigrationResolver.java:120)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:107)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:113)
	at org.flywaydb.core.internal.info.MigrationInfoServiceImpl.refresh(MigrationInfoServiceImpl.java:79)
	at org.flywaydb.core.internal.command.DbValidate.lambda$validate$0(DbValidate.java:108)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbValidate.validate(DbValidate.java:101)
	at org.flywaydb.core.Flyway.doValidate(Flyway.java:400)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:144)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 103 common frames omitted
2025-06-05 00:26:04 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 15676 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 00:26:04 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 00:26:05 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 00:26:06 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-06-05 00:26:06 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 00:26:06 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/com.sun.crypto.provider.PBKDF2KeyImpl.deriveKey(PBKDF2KeyImpl.java:201)
 java.base/com.sun.crypto.provider.PBKDF2KeyImpl.<init>(PBKDF2KeyImpl.java:115)
 java.base/com.sun.crypto.provider.PBKDF2Core.engineGenerateSecret(PBKDF2Core.java:68)
 java.base/javax.crypto.SecretKeyFactory.generateSecret(SecretKeyFactory.java:337)
 org.postgresql.shaded.com.ongres.scram.common.util.CryptoUtil.hi(CryptoUtil.java:120)
 org.postgresql.shaded.com.ongres.scram.common.ScramMechanisms.saltedPassword(ScramMechanisms.java:154)
 org.postgresql.shaded.com.ongres.scram.common.ScramFunctions.saltedPassword(ScramFunctions.java:59)
 org.postgresql.shaded.com.ongres.scram.client.ScramSession$ClientFinalProcessor.<init>(ScramSession.java:196)
 org.postgresql.shaded.com.ongres.scram.client.ScramSession$ClientFinalProcessor.<init>(ScramSession.java:163)
 org.postgresql.shaded.com.ongres.scram.client.ScramSession$ServerFirstProcessor.clientFinalProcessor(ScramSession.java:130)
 org.postgresql.jre7.sasl.ScramAuthenticator.processServerFirstMessage(ScramAuthenticator.java:147)
 org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:863)
 org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:203)
 org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
 org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
 org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
 org.postgresql.Driver.makeConnection(Driver.java:443)
 org.postgresql.Driver.connect(Driver.java:297)
 com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
 com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
 com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
 com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
 java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 00:26:06 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-05 00:26:06 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Found more than one migration with version 100
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V100__fix_application_status_columns.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V100__add_missing_columns_to_insurance_guides.sql (SQL)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 94 common frames omitted
Caused by: org.flywaydb.core.api.FlywayException: Found more than one migration with version 100
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V100__fix_application_status_columns.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V100__add_missing_columns_to_insurance_guides.sql (SQL)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.checkForIncompatibilities(CompositeMigrationResolver.java:87)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.doFindAvailableMigrations(CompositeMigrationResolver.java:120)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:107)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:113)
	at org.flywaydb.core.internal.info.MigrationInfoServiceImpl.refresh(MigrationInfoServiceImpl.java:79)
	at org.flywaydb.core.internal.command.DbValidate.lambda$validate$0(DbValidate.java:108)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbValidate.validate(DbValidate.java:101)
	at org.flywaydb.core.Flyway.doValidate(Flyway.java:400)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:144)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 103 common frames omitted
2025-06-05 00:27:01 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 3464 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 00:27:01 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 00:27:02 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 00:27:02 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-06-05 00:27:02 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 00:27:02 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/sun.nio.ch.Net.poll(Native Method)
 java.base/sun.nio.ch.NioSocketImpl.park(NioSocketImpl.java:191)
 java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:280)
 java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:304)
 java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:346)
 java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:796)
 java.base/java.net.Socket$SocketInputStream.implRead(Socket.java:1116)
 java.base/java.net.Socket$SocketInputStream.read(Socket.java:1103)
 org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)
 org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)
 org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)
 org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)
 org.postgresql.core.PGStream.receiveChar(PGStream.java:465)
 org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:589)
 org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:191)
 org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
 org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
 org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
 org.postgresql.Driver.makeConnection(Driver.java:443)
 org.postgresql.Driver.connect(Driver.java:297)
 com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
 com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
 com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
 com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
 java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 00:27:02 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-05 00:27:03 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Found more than one migration with version 101
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V101__fix_all_application_status_columns.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V101__add_missing_columns_to_insurance_guides.sql (SQL)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 94 common frames omitted
Caused by: org.flywaydb.core.api.FlywayException: Found more than one migration with version 101
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V101__fix_all_application_status_columns.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V101__add_missing_columns_to_insurance_guides.sql (SQL)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.checkForIncompatibilities(CompositeMigrationResolver.java:87)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.doFindAvailableMigrations(CompositeMigrationResolver.java:120)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:107)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:113)
	at org.flywaydb.core.internal.info.MigrationInfoServiceImpl.refresh(MigrationInfoServiceImpl.java:79)
	at org.flywaydb.core.internal.command.DbValidate.lambda$validate$0(DbValidate.java:108)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbValidate.validate(DbValidate.java:101)
	at org.flywaydb.core.Flyway.doValidate(Flyway.java:400)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:144)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 103 common frames omitted
2025-06-05 00:28:12 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 16260 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 00:28:12 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 00:28:13 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 00:28:13 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-06-05 00:28:13 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 00:28:13 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/sun.nio.ch.Net.poll(Native Method)
 java.base/sun.nio.ch.NioSocketImpl.park(NioSocketImpl.java:191)
 java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:280)
 java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:304)
 java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:346)
 java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:796)
 java.base/java.net.Socket$SocketInputStream.implRead(Socket.java:1116)
 java.base/java.net.Socket$SocketInputStream.read(Socket.java:1103)
 org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)
 org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)
 org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)
 org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)
 org.postgresql.core.PGStream.receiveChar(PGStream.java:465)
 org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:589)
 org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:191)
 org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
 org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
 org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
 org.postgresql.Driver.makeConnection(Driver.java:443)
 org.postgresql.Driver.connect(Driver.java:297)
 com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
 com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
 com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
 com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
 java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 00:28:13 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-05 00:28:13 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Found more than one migration with version 102
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V102__consolidate_status_columns.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V102__add_missing_columns_to_insurance_guides.sql (SQL)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 94 common frames omitted
Caused by: org.flywaydb.core.api.FlywayException: Found more than one migration with version 102
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V102__consolidate_status_columns.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V102__add_missing_columns_to_insurance_guides.sql (SQL)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.checkForIncompatibilities(CompositeMigrationResolver.java:87)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.doFindAvailableMigrations(CompositeMigrationResolver.java:120)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:107)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:113)
	at org.flywaydb.core.internal.info.MigrationInfoServiceImpl.refresh(MigrationInfoServiceImpl.java:79)
	at org.flywaydb.core.internal.command.DbValidate.lambda$validate$0(DbValidate.java:108)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbValidate.validate(DbValidate.java:101)
	at org.flywaydb.core.Flyway.doValidate(Flyway.java:400)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:144)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 103 common frames omitted
2025-06-05 00:29:26 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 7776 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 00:29:26 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 00:29:28 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 00:29:28 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 00:29:28 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "content" отношения "insurance_guides" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 00:29:28 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "updated_at" отношения "insurance_guides" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 00:29:29 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-05 00:29:29 [main] WARN  o.h.boot.model.internal.EntityBinder - HHH000457: Joined inheritance hierarchy [com.strahovka.delivery.Insurance$BaseApplication] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)
2025-06-05 00:29:31 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-05 00:29:32 [main] INFO  com.strahovka.StrahovkaApplication - Started StrahovkaApplication in 6.225 seconds (process running for 6.784)
2025-06-05 00:29:43 [http-nio-8081-exec-7] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessApiUsageException: Modifying queries can only use void or int/Integer as return type; Offending method: public abstract com.strahovka.delivery.Insurance$InsuranceGuide com.strahovka.repository.InsuranceRepository.saveGuide(com.strahovka.delivery.Insurance$InsuranceGuide)] with root cause
java.lang.IllegalArgumentException: Modifying queries can only use void or int/Integer as return type; Offending method: public abstract com.strahovka.delivery.Insurance$InsuranceGuide com.strahovka.repository.InsuranceRepository.saveGuide(com.strahovka.delivery.Insurance$InsuranceGuide)
	at org.springframework.util.Assert.isTrue(Assert.java:111)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$ModifyingExecution.<init>(JpaQueryExecution.java:251)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.getExecution(AbstractJpaQuery.java:173)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at jdk.proxy2/jdk.proxy2.$Proxy186.saveGuide(Unknown Source)
	at com.strahovka.service.InsuranceService.createGuide(InsuranceService.java:115)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.strahovka.service.InsuranceService$$SpringCGLIB$$0.createGuide(<generated>)
	at com.strahovka.controller.InsuranceController.createGuide(InsuranceController.java:63)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 00:32:24 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 12100 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 00:32:24 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 00:32:26 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 00:32:26 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 00:32:26 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-05 00:32:26 [main] WARN  o.h.boot.model.internal.EntityBinder - HHH000457: Joined inheritance hierarchy [com.strahovka.delivery.Insurance$BaseApplication] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)
2025-06-05 00:32:28 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-05 00:32:29 [main] INFO  com.strahovka.StrahovkaApplication - Started StrahovkaApplication in 5.391 seconds (process running for 5.837)
2025-06-05 00:33:16 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjkxOTYsImV4cCI6MTc0OTE1NTU5Nn0.p-cxVZGU8kq-LwuvZ44rN4t5plr-efZKyAAPcPQ8HadENwPIweVa_62L6GHMBbrHlwfW-9OQ_s4FfDhsWX80RQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjkxOTYsImV4cCI6MTc0OTY3Mzk5Nn0.OepU-D2s5sH_8ZCSzrj7AYSBfxaxt8q1546Rx_lsIBtw4u3_R3ICu9dN8Y4Yq8_DdCgrcJ3UzJl9J93pHZkgIw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 00:33:16 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjkxOTYsImV4cCI6MTc0OTE1NTU5Nn0.p-cxVZGU8kq-LwuvZ44rN4t5plr-efZKyAAPcPQ8HadENwPIweVa_62L6GHMBbrHlwfW-9OQ_s4FfDhsWX80RQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjkxOTYsImV4cCI6MTc0OTY3Mzk5Nn0.OepU-D2s5sH_8ZCSzrj7AYSBfxaxt8q1546Rx_lsIBtw4u3_R3ICu9dN8Y4Yq8_DdCgrcJ3UzJl9J93pHZkgIw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 00:33:16 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjkxOTYsImV4cCI6MTc0OTE1NTU5Nn0.p-cxVZGU8kq-LwuvZ44rN4t5plr-efZKyAAPcPQ8HadENwPIweVa_62L6GHMBbrHlwfW-9OQ_s4FfDhsWX80RQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjkxOTYsImV4cCI6MTc0OTY3Mzk5Nn0.OepU-D2s5sH_8ZCSzrj7AYSBfxaxt8q1546Rx_lsIBtw4u3_R3ICu9dN8Y4Yq8_DdCgrcJ3UzJl9J93pHZkgIw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 00:33:16 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjkxOTYsImV4cCI6MTc0OTE1NTU5Nn0.p-cxVZGU8kq-LwuvZ44rN4t5plr-efZKyAAPcPQ8HadENwPIweVa_62L6GHMBbrHlwfW-9OQ_s4FfDhsWX80RQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjkxOTYsImV4cCI6MTc0OTY3Mzk5Nn0.OepU-D2s5sH_8ZCSzrj7AYSBfxaxt8q1546Rx_lsIBtw4u3_R3ICu9dN8Y4Yq8_DdCgrcJ3UzJl9J93pHZkgIw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 00:33:16 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjkxOTYsImV4cCI6MTc0OTE1NTU5Nn0.p-cxVZGU8kq-LwuvZ44rN4t5plr-efZKyAAPcPQ8HadENwPIweVa_62L6GHMBbrHlwfW-9OQ_s4FfDhsWX80RQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjkxOTYsImV4cCI6MTc0OTY3Mzk5Nn0.OepU-D2s5sH_8ZCSzrj7AYSBfxaxt8q1546Rx_lsIBtw4u3_R3ICu9dN8Y4Yq8_DdCgrcJ3UzJl9J93pHZkgIw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 00:33:16 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjkxOTYsImV4cCI6MTc0OTE1NTU5Nn0.p-cxVZGU8kq-LwuvZ44rN4t5plr-efZKyAAPcPQ8HadENwPIweVa_62L6GHMBbrHlwfW-9OQ_s4FfDhsWX80RQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjkxOTYsImV4cCI6MTc0OTY3Mzk5Nn0.OepU-D2s5sH_8ZCSzrj7AYSBfxaxt8q1546Rx_lsIBtw4u3_R3ICu9dN8Y4Yq8_DdCgrcJ3UzJl9J93pHZkgIw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 00:33:16 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjkxOTYsImV4cCI6MTc0OTE1NTU5Nn0.p-cxVZGU8kq-LwuvZ44rN4t5plr-efZKyAAPcPQ8HadENwPIweVa_62L6GHMBbrHlwfW-9OQ_s4FfDhsWX80RQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjkxOTYsImV4cCI6MTc0OTY3Mzk5Nn0.OepU-D2s5sH_8ZCSzrj7AYSBfxaxt8q1546Rx_lsIBtw4u3_R3ICu9dN8Y4Yq8_DdCgrcJ3UzJl9J93pHZkgIw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 00:33:16 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjkxOTYsImV4cCI6MTc0OTE1NTU5Nn0.p-cxVZGU8kq-LwuvZ44rN4t5plr-efZKyAAPcPQ8HadENwPIweVa_62L6GHMBbrHlwfW-9OQ_s4FfDhsWX80RQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjkxOTYsImV4cCI6MTc0OTY3Mzk5Nn0.OepU-D2s5sH_8ZCSzrj7AYSBfxaxt8q1546Rx_lsIBtw4u3_R3ICu9dN8Y4Yq8_DdCgrcJ3UzJl9J93pHZkgIw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 00:33:16 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjkxOTYsImV4cCI6MTc0OTE1NTU5Nn0.p-cxVZGU8kq-LwuvZ44rN4t5plr-efZKyAAPcPQ8HadENwPIweVa_62L6GHMBbrHlwfW-9OQ_s4FfDhsWX80RQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjkxOTYsImV4cCI6MTc0OTY3Mzk5Nn0.OepU-D2s5sH_8ZCSzrj7AYSBfxaxt8q1546Rx_lsIBtw4u3_R3ICu9dN8Y4Yq8_DdCgrcJ3UzJl9J93pHZkgIw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 00:33:16 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjkxOTYsImV4cCI6MTc0OTE1NTU5Nn0.p-cxVZGU8kq-LwuvZ44rN4t5plr-efZKyAAPcPQ8HadENwPIweVa_62L6GHMBbrHlwfW-9OQ_s4FfDhsWX80RQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNjkxOTYsImV4cCI6MTc0OTY3Mzk5Nn0.OepU-D2s5sH_8ZCSzrj7AYSBfxaxt8q1546Rx_lsIBtw4u3_R3ICu9dN8Y4Yq8_DdCgrcJ3UzJl9J93pHZkgIw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 00:37:07 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 12516 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 00:37:07 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 00:37:09 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 00:37:09 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 00:37:09 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-05 00:37:09 [main] WARN  o.h.boot.model.internal.EntityBinder - HHH000457: Joined inheritance hierarchy [com.strahovka.delivery.Insurance$BaseApplication] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)
2025-06-05 00:37:11 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-05 00:37:12 [main] INFO  com.strahovka.StrahovkaApplication - Started StrahovkaApplication in 5.761 seconds (process running for 6.206)
2025-06-05 01:20:07 [http-nio-8081-exec-11] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 01:20:07 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 01:20:07 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 01:20:07 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 01:20:07 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 01:20:07 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 01:20:07 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 01:20:07 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 01:20:07 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 01:20:07 [http-nio-8081-exec-11] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 01:20:12 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - cancelPolicy called for policy ID: 1, by user: erwe1488@gmail.com
2025-06-05 01:20:12 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 01:20:12 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 01:20:12 [http-nio-8081-exec-11] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 01:20:12 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 01:20:12 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 01:20:15 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 01:20:15 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 01:20:15 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 01:20:15 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 01:20:15 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 01:20:15 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 01:20:15 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 01:20:15 [http-nio-8081-exec-11] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 01:20:15 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 01:20:15 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:11:04 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 20660 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 11:11:04 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 11:11:07 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 11:11:07 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 11:11:08 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-05 11:11:08 [main] WARN  o.h.boot.model.internal.EntityBinder - HHH000457: Joined inheritance hierarchy [com.strahovka.delivery.Insurance$BaseApplication] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)
2025-06-05 11:11:10 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-05 11:11:11 [main] INFO  com.strahovka.StrahovkaApplication - Started StrahovkaApplication in 6.874 seconds (process running for 7.445)
2025-06-05 11:14:00 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - createKaskoApplication called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]], Payload: com.strahovka.delivery.Insurance$KaskoApplication@fd61793
2025-06-05 11:14:00 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:14:00 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:14:00 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:14:00 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:14:00 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:14:00 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:14:00 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:14:00 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:14:00 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:14:00 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:14:07 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - processKaskoPayment called for application ID: 22, Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:14:07 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Application ID 22 (type: AUTO) status updated to PAID after policy creation.
2025-06-05 11:14:07 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:14:07 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:14:07 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:14:07 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:14:07 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:14:10 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:14:10 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:14:10 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:14:10 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:14:10 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:15:23 [http-nio-8081-exec-8] INFO  c.strahovka.service.InsuranceService - Selected insurance types in package: [HEALTH]
2025-06-05 11:15:23 [http-nio-8081-exec-8] INFO  c.strahovka.service.InsuranceService - Processing package item. Type: 'HEALTH', Data: {firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=rte, birthDate=2025-06-04, gender=MALE, passport=5555555555, snils=55555555555, address=3rte, phone=543, email=erwe1488@gmail.com, hasChronic=true, chronicDetails=tre, coverageAmount=1000000, startDate=2025-06-04, endDate=2025-06-14}
2025-06-05 11:15:45 [http-nio-8081-exec-7] INFO  c.strahovka.service.InsuranceService - Selected insurance types in package: [TRAVEL]
2025-06-05 11:15:45 [http-nio-8081-exec-7] INFO  c.strahovka.service.InsuranceService - Processing package item. Type: 'TRAVEL', Data: {passportNumber=543, passportExpiry=2025-05-31, destinationCountry=USA, travelStartDate=2025-06-06, travelEndDate=2025-06-17, purposeOfTrip=TOURISM, coverageAmount=6654564, hasChronicDiseases=false, coverSportsActivities=true, plannedSportsActivities=ytr, birthDate=2025-06-04, email=erwe1488@gmail.com, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=hgf, phone=345}
2025-06-05 11:15:51 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:15:51 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:15:51 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:15:51 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:15:51 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:15:51 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:15:51 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:15:51 [http-nio-8081-exec-1] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 11 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 11:15:51 [http-nio-8081-exec-1] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 11. Type in link was HEALTH.
2025-06-05 11:15:51 [http-nio-8081-exec-1] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 12 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 11:15:51 [http-nio-8081-exec-1] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 12. Type in link was TRAVEL.
2025-06-05 11:15:51 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=23, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=5
2025-06-05 11:15:51 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=24, DeterminedType=TRAVEL, User=erwe1488@gmail.com, PackageID=5
2025-06-05 11:15:51 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:15:51 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:15:51 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:15:51 [http-nio-8081-exec-8] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 11 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 11:15:51 [http-nio-8081-exec-8] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 11. Type in link was HEALTH.
2025-06-05 11:15:51 [http-nio-8081-exec-8] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 12 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 11:15:51 [http-nio-8081-exec-8] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 12. Type in link was TRAVEL.
2025-06-05 11:15:51 [http-nio-8081-exec-8] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=23, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=5
2025-06-05 11:15:51 [http-nio-8081-exec-8] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=24, DeterminedType=TRAVEL, User=erwe1488@gmail.com, PackageID=5
2025-06-05 11:16:14 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:16:14 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:16:14 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:16:14 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:16:14 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:16:14 [http-nio-8081-exec-1] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 11 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 11:16:14 [http-nio-8081-exec-1] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 11. Type in link was HEALTH.
2025-06-05 11:16:14 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:16:14 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:16:14 [http-nio-8081-exec-1] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 12 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 11:16:14 [http-nio-8081-exec-1] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 12. Type in link was TRAVEL.
2025-06-05 11:16:14 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=23, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=5
2025-06-05 11:16:14 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=24, DeterminedType=TRAVEL, User=erwe1488@gmail.com, PackageID=5
2025-06-05 11:16:14 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:16:14 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:16:14 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:16:14 [http-nio-8081-exec-2] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 11 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 11:16:14 [http-nio-8081-exec-2] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 11. Type in link was HEALTH.
2025-06-05 11:16:14 [http-nio-8081-exec-2] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 12 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 11:16:14 [http-nio-8081-exec-2] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 12. Type in link was TRAVEL.
2025-06-05 11:16:14 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=23, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=5
2025-06-05 11:16:14 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=24, DeterminedType=TRAVEL, User=erwe1488@gmail.com, PackageID=5
2025-06-05 11:16:31 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - createClaimWithFiles called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTE1ODQwN30.kQS-sMGuap4ovqmHobUjUeu43fGIQ8Xy8B1xgDJWAIIl_q4VxmUbJJNNSMJexumR-RUo7CpwFBEKy6IwbZ8adQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkwNzIwMDcsImV4cCI6MTc0OTY3NjgwN30.CCE5nMqrxMwqHNfNqcOs6CUSZ1Alf8t0BndlbB2Pj5Lt_wmqVM69BGtwqpFbO-b_MhJrueioCPfGFMlkAn80Qg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]], PolicyId: 9
2025-06-05 11:18:14 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:18:14 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:18:14 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:18:14 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:18:14 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:18:14 [http-nio-8081-exec-6] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 11 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 11:18:14 [http-nio-8081-exec-6] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 11. Type in link was HEALTH.
2025-06-05 11:18:14 [http-nio-8081-exec-6] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 12 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 11:18:14 [http-nio-8081-exec-6] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 12. Type in link was TRAVEL.
2025-06-05 11:18:14 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=23, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=5
2025-06-05 11:18:14 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=24, DeterminedType=TRAVEL, User=erwe1488@gmail.com, PackageID=5
2025-06-05 11:18:14 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:18:14 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:18:14 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:18:14 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:18:14 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 11:18:14 [http-nio-8081-exec-7] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 11 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 11:18:14 [http-nio-8081-exec-7] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 11. Type in link was HEALTH.
2025-06-05 11:18:14 [http-nio-8081-exec-7] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 12 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 11:18:14 [http-nio-8081-exec-7] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 12. Type in link was TRAVEL.
2025-06-05 11:18:14 [http-nio-8081-exec-7] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=23, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=5
2025-06-05 11:18:14 [http-nio-8081-exec-7] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=24, DeterminedType=TRAVEL, User=erwe1488@gmail.com, PackageID=5
2025-06-05 11:18:21 [http-nio-8081-exec-4] INFO  c.s.controller.AdminController - Attempting to create moderator with email: erwe228@gmail.com
2025-06-05 11:18:21 [http-nio-8081-exec-4] INFO  c.s.controller.AdminController - Raw password from request for email erwe228@gmail.com: 'erwe228@gmail.com'
2025-06-05 11:18:21 [http-nio-8081-exec-4] INFO  c.s.controller.AdminController - Encoded password for email erwe228@gmail.com: '$2a$10$lAXar8nFhTXk2ytTS/L3I.AauRPdG4V5FRe2F2YqskEbDsMz82GEq'
2025-06-05 11:18:21 [http-nio-8081-exec-4] INFO  c.s.controller.AdminController - NewUser object to be saved for email erwe228@gmail.com: ID='null', Email='erwe228@gmail.com', FirstName='ew', LastName='ew', EncodedPassword='$2a$10$lAXar8nFhTXk2ytTS/L3I.AauRPdG4V5FRe2F2YqskEbDsMz82GEq', Role='MODERATOR'
2025-06-05 11:18:21 [http-nio-8081-exec-4] INFO  c.s.controller.AdminController - SavedUser object after saveAndFlush for email erwe228@gmail.com: ID='5', Email='erwe228@gmail.com', FirstName='ew', LastName='ew', EncodedPasswordFromSaved='$2a$10$lAXar8nFhTXk2ytTS/L3I.AauRPdG4V5FRe2F2YqskEbDsMz82GEq', Role='MODERATOR'
2025-06-05 11:18:21 [http-nio-8081-exec-4] INFO  c.s.controller.AdminController - Just before returning from createModerator (email: erwe228@gmail.com), password on managed savedUser is: '$2a$10$lAXar8nFhTXk2ytTS/L3I.AauRPdG4V5FRe2F2YqskEbDsMz82GEq'
2025-06-05 12:12:27 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:12:27 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:12:27 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:12:27 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:12:27 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:12:27 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:12:27 [http-nio-8081-exec-1] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 11 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:12:27 [http-nio-8081-exec-1] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 11. Type in link was HEALTH.
2025-06-05 12:12:27 [http-nio-8081-exec-1] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 12 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:12:27 [http-nio-8081-exec-1] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 12. Type in link was TRAVEL.
2025-06-05 12:12:27 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=23, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:12:27 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:12:27 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:12:27 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:12:27 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:12:27 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=24, DeterminedType=TRAVEL, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:12:27 [http-nio-8081-exec-4] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 11 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:12:27 [http-nio-8081-exec-4] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 11. Type in link was HEALTH.
2025-06-05 12:12:27 [http-nio-8081-exec-4] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 12 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:12:27 [http-nio-8081-exec-4] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 12. Type in link was TRAVEL.
2025-06-05 12:12:27 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=23, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:12:27 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=24, DeterminedType=TRAVEL, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:30:25 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Processing payment for package ID: 5, User: erwe1488@gmail.com
2025-06-05 12:30:25 [http-nio-8081-exec-2] WARN  c.strahovka.service.InsuranceService - Skipping application ID 11 in package 5 as it belongs to a different user (erwe0@gmail.com). This indicates a data integrity issue.
2025-06-05 12:30:25 [http-nio-8081-exec-2] WARN  c.strahovka.service.InsuranceService - Skipping application ID 12 in package 5 as it belongs to a different user (erwe0@gmail.com). This indicates a data integrity issue.
2025-06-05 12:30:25 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Processing application ID 23 (type: HEALTH) in package 5. Current status: PENDING_PACKAGE
2025-06-05 12:30:25 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Application ID 23 status updated to PAID.
2025-06-05 12:30:25 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Policy ID 10 created for application ID 23 in package 5.
2025-06-05 12:30:25 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Processing application ID 24 (type: TRAVEL) in package 5. Current status: PENDING_PACKAGE
2025-06-05 12:30:25 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Application ID 24 status updated to PAID.
2025-06-05 12:30:26 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Policy ID 11 created for application ID 24 in package 5.
2025-06-05 12:30:26 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Package ID 5 status updated to PAID (now COMPLETED). Payment processing complete.
2025-06-05 12:30:26 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:30:26 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:30:26 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:30:26 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:30:26 [http-nio-8081-exec-8] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 11 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:30:26 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:30:26 [http-nio-8081-exec-8] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 11. Type in link was HEALTH.
2025-06-05 12:30:26 [http-nio-8081-exec-8] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 12 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:30:26 [http-nio-8081-exec-8] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 12. Type in link was TRAVEL.
2025-06-05 12:30:26 [http-nio-8081-exec-8] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=23, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:30:26 [http-nio-8081-exec-8] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=24, DeterminedType=TRAVEL, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:30:45 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - createKaskoApplication called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]], Payload: com.strahovka.delivery.Insurance$KaskoApplication@5f0c4b5b
2025-06-05 12:30:45 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:30:45 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:30:45 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:30:45 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:30:45 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:30:45 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:30:45 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:30:45 [http-nio-8081-exec-7] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 11 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:30:45 [http-nio-8081-exec-7] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 11. Type in link was HEALTH.
2025-06-05 12:30:45 [http-nio-8081-exec-7] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 12 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:30:45 [http-nio-8081-exec-7] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 12. Type in link was TRAVEL.
2025-06-05 12:30:45 [http-nio-8081-exec-7] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=23, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:30:45 [http-nio-8081-exec-7] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=24, DeterminedType=TRAVEL, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:30:45 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:30:45 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:30:45 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:30:45 [http-nio-8081-exec-1] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 11 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:30:45 [http-nio-8081-exec-1] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 11. Type in link was HEALTH.
2025-06-05 12:30:45 [http-nio-8081-exec-1] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 12 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:30:45 [http-nio-8081-exec-1] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 12. Type in link was TRAVEL.
2025-06-05 12:30:45 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=23, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:30:45 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=24, DeterminedType=TRAVEL, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:30:53 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - processKaskoPayment called for application ID: 25, Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:30:53 [http-nio-8081-exec-8] INFO  c.strahovka.service.InsuranceService - Application ID 25 (type: AUTO) status updated to PAID after policy creation.
2025-06-05 12:30:53 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:30:53 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:30:53 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:30:53 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:30:53 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:33:01 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:33:01 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:33:01 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:33:01 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:33:01 [http-nio-8081-exec-4] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 11 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:33:01 [http-nio-8081-exec-4] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 11. Type in link was HEALTH.
2025-06-05 12:33:01 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:33:01 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:33:01 [http-nio-8081-exec-4] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 12 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:33:01 [http-nio-8081-exec-4] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 12. Type in link was TRAVEL.
2025-06-05 12:33:01 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:33:01 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=23, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:33:01 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:33:01 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=24, DeterminedType=TRAVEL, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:33:01 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:33:01 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:33:01 [http-nio-8081-exec-5] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 11 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:33:01 [http-nio-8081-exec-5] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 11. Type in link was HEALTH.
2025-06-05 12:33:01 [http-nio-8081-exec-5] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 12 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:33:01 [http-nio-8081-exec-5] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 12. Type in link was TRAVEL.
2025-06-05 12:33:01 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:33:01 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:33:01 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:33:01 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=23, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:33:01 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:33:01 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTE5NDI5NH0.vuEDEHIQFUfsAmdyqBEg1kVzEveVP1zPPulb0GrZYgMfwxG-6kMV1SYo3xQf_ra7UECFwW5AIihKAoAmz9qEUw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMDc4OTQsImV4cCI6MTc0OTcxMjY5NH0.TLy3m-focnUiv9VRDiMKzHBykpJT1F3TpRZ2VcMd3G5sxU8zF_Jl32Ti7rq6HeQzaYyS78kCEAldLjdPQaq4AQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:33:01 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=24, DeterminedType=TRAVEL, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:33:01 [http-nio-8081-exec-9] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 11 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:33:01 [http-nio-8081-exec-9] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 11. Type in link was HEALTH.
2025-06-05 12:33:01 [http-nio-8081-exec-9] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 12 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:33:01 [http-nio-8081-exec-9] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 12. Type in link was TRAVEL.
2025-06-05 12:33:01 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=23, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:33:01 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=24, DeterminedType=TRAVEL, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:34:53 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 22584 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 12:34:53 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 12:34:55 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 12:34:55 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 12:34:55 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-05 12:34:55 [main] WARN  o.h.boot.model.internal.EntityBinder - HHH000457: Joined inheritance hierarchy [com.strahovka.delivery.Insurance$BaseApplication] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)
2025-06-05 12:34:57 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-05 12:34:59 [main] INFO  com.strahovka.StrahovkaApplication - Started StrahovkaApplication in 6.186 seconds (process running for 6.662)
2025-06-05 12:34:59 [http-nio-8081-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.RuntimeException: User not found] with root cause
java.lang.RuntimeException: User not found
	at com.strahovka.service.AuthService.lambda$login$0(AuthService.java:24)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.strahovka.service.AuthService.login(AuthService.java:24)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.strahovka.service.AuthService$$SpringCGLIB$$0.login(<generated>)
	at com.strahovka.controller.AuthController.login(AuthController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:38)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 12:34:59 [http-nio-8081-exec-4] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.RuntimeException: User not found] with root cause
java.lang.RuntimeException: User not found
	at com.strahovka.service.AuthService.lambda$login$0(AuthService.java:24)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.strahovka.service.AuthService.login(AuthService.java:24)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.strahovka.service.AuthService$$SpringCGLIB$$0.login(<generated>)
	at com.strahovka.controller.AuthController.login(AuthController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:38)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 12:35:00 [http-nio-8081-exec-5] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.RuntimeException: User not found] with root cause
java.lang.RuntimeException: User not found
	at com.strahovka.service.AuthService.lambda$login$0(AuthService.java:24)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.strahovka.service.AuthService.login(AuthService.java:24)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.strahovka.service.AuthService$$SpringCGLIB$$0.login(<generated>)
	at com.strahovka.controller.AuthController.login(AuthController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:38)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 12:35:00 [http-nio-8081-exec-6] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.RuntimeException: User not found] with root cause
java.lang.RuntimeException: User not found
	at com.strahovka.service.AuthService.lambda$login$0(AuthService.java:24)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.strahovka.service.AuthService.login(AuthService.java:24)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.strahovka.service.AuthService$$SpringCGLIB$$0.login(<generated>)
	at com.strahovka.controller.AuthController.login(AuthController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:38)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 12:35:00 [http-nio-8081-exec-7] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.RuntimeException: User not found] with root cause
java.lang.RuntimeException: User not found
	at com.strahovka.service.AuthService.lambda$login$0(AuthService.java:24)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.strahovka.service.AuthService.login(AuthService.java:24)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.strahovka.service.AuthService$$SpringCGLIB$$0.login(<generated>)
	at com.strahovka.controller.AuthController.login(AuthController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:38)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 12:35:04 [http-nio-8081-exec-8] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.RuntimeException: User not found] with root cause
java.lang.RuntimeException: User not found
	at com.strahovka.service.AuthService.lambda$login$0(AuthService.java:24)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.strahovka.service.AuthService.login(AuthService.java:24)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.strahovka.service.AuthService$$SpringCGLIB$$0.login(<generated>)
	at com.strahovka.controller.AuthController.login(AuthController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:38)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 12:35:04 [http-nio-8081-exec-9] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.RuntimeException: User not found] with root cause
java.lang.RuntimeException: User not found
	at com.strahovka.service.AuthService.lambda$login$0(AuthService.java:24)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.strahovka.service.AuthService.login(AuthService.java:24)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.strahovka.service.AuthService$$SpringCGLIB$$0.login(<generated>)
	at com.strahovka.controller.AuthController.login(AuthController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:38)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 12:35:11 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:35:11 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:35:11 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:35:11 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:35:11 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:35:11 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:35:11 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:35:11 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:35:11 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:35:11 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:35:11 [http-nio-8081-exec-2] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 11 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:35:11 [http-nio-8081-exec-2] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 11. Type in link was HEALTH.
2025-06-05 12:35:11 [http-nio-8081-exec-2] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 12 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:35:11 [http-nio-8081-exec-2] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 12. Type in link was TRAVEL.
2025-06-05 12:35:11 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=23, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:35:11 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=24, DeterminedType=TRAVEL, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:35:11 [http-nio-8081-exec-4] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 11 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:35:11 [http-nio-8081-exec-4] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 11. Type in link was HEALTH.
2025-06-05 12:35:11 [http-nio-8081-exec-4] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 12 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:35:11 [http-nio-8081-exec-4] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 12. Type in link was TRAVEL.
2025-06-05 12:35:11 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=23, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:35:11 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=24, DeterminedType=TRAVEL, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:35:38 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - createKaskoApplication called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]], Payload: com.strahovka.delivery.Insurance$KaskoApplication@6f85a22
2025-06-05 12:35:39 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:35:39 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:35:39 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:35:39 [http-nio-8081-exec-1] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 11 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:35:39 [http-nio-8081-exec-1] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 11. Type in link was HEALTH.
2025-06-05 12:35:39 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:35:39 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:35:39 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:35:39 [http-nio-8081-exec-1] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 12 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:35:39 [http-nio-8081-exec-1] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 12. Type in link was TRAVEL.
2025-06-05 12:35:39 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:35:39 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=23, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:35:39 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:35:39 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=24, DeterminedType=TRAVEL, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:35:39 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:35:39 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:35:39 [http-nio-8081-exec-4] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 11 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:35:39 [http-nio-8081-exec-4] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 11. Type in link was HEALTH.
2025-06-05 12:35:39 [http-nio-8081-exec-4] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 12 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:35:39 [http-nio-8081-exec-4] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 12. Type in link was TRAVEL.
2025-06-05 12:35:39 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=23, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:35:39 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=24, DeterminedType=TRAVEL, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:35:43 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:35:43 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:35:43 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:35:43 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:35:43 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:35:43 [http-nio-8081-exec-9] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 11 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:35:43 [http-nio-8081-exec-9] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 11. Type in link was HEALTH.
2025-06-05 12:35:43 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:35:43 [http-nio-8081-exec-9] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 12 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:35:43 [http-nio-8081-exec-9] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 12. Type in link was TRAVEL.
2025-06-05 12:35:43 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:35:43 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=23, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:35:43 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:35:43 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:35:43 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:35:43 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=24, DeterminedType=TRAVEL, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:35:43 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:35:43 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:35:43 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:35:43 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:35:43 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:35:43 [http-nio-8081-exec-10] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 11 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:35:43 [http-nio-8081-exec-10] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 11. Type in link was HEALTH.
2025-06-05 12:35:43 [http-nio-8081-exec-10] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 12 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:35:43 [http-nio-8081-exec-10] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 12. Type in link was TRAVEL.
2025-06-05 12:35:43 [http-nio-8081-exec-10] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=23, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:35:43 [http-nio-8081-exec-10] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=24, DeterminedType=TRAVEL, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:35:43 [http-nio-8081-exec-3] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 11 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:35:43 [http-nio-8081-exec-3] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 11. Type in link was HEALTH.
2025-06-05 12:35:43 [http-nio-8081-exec-3] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 12 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:35:43 [http-nio-8081-exec-3] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 12. Type in link was TRAVEL.
2025-06-05 12:35:43 [http-nio-8081-exec-3] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=23, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:35:43 [http-nio-8081-exec-3] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=24, DeterminedType=TRAVEL, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:40:30 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:40:30 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:40:30 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:40:30 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:40:30 [http-nio-8081-exec-10] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 11 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:40:30 [http-nio-8081-exec-10] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 11. Type in link was HEALTH.
2025-06-05 12:40:30 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:40:30 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:40:30 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:40:30 [http-nio-8081-exec-10] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 12 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:40:30 [http-nio-8081-exec-10] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 12. Type in link was TRAVEL.
2025-06-05 12:40:30 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:40:30 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:40:30 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:40:30 [http-nio-8081-exec-10] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=23, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:40:30 [http-nio-8081-exec-10] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=24, DeterminedType=TRAVEL, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:40:30 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:40:30 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:40:30 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:40:30 [http-nio-8081-exec-6] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 11 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:40:30 [http-nio-8081-exec-6] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 11. Type in link was HEALTH.
2025-06-05 12:40:30 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:40:30 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:40:30 [http-nio-8081-exec-6] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 12 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:40:30 [http-nio-8081-exec-6] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 12. Type in link was TRAVEL.
2025-06-05 12:40:30 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=23, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:40:30 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=24, DeterminedType=TRAVEL, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:40:30 [http-nio-8081-exec-9] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 11 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:40:30 [http-nio-8081-exec-9] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 11. Type in link was HEALTH.
2025-06-05 12:40:30 [http-nio-8081-exec-9] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 12 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:40:30 [http-nio-8081-exec-9] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 12. Type in link was TRAVEL.
2025-06-05 12:40:30 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=23, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:40:30 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=24, DeterminedType=TRAVEL, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:48:13 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:48:13 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:48:13 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:48:13 [http-nio-8081-exec-6] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 11 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:48:13 [http-nio-8081-exec-6] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 11. Type in link was HEALTH.
2025-06-05 12:48:13 [http-nio-8081-exec-6] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 12 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:48:13 [http-nio-8081-exec-6] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 12. Type in link was TRAVEL.
2025-06-05 12:48:13 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:48:13 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=23, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:48:13 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=24, DeterminedType=TRAVEL, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:48:13 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:48:13 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:48:13 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:48:13 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:48:13 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:48:13 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:48:13 [http-nio-8081-exec-10] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 11 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:48:13 [http-nio-8081-exec-10] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 11. Type in link was HEALTH.
2025-06-05 12:48:13 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:48:13 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:48:13 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:48:13 [http-nio-8081-exec-10] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 12 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:48:13 [http-nio-8081-exec-10] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 12. Type in link was TRAVEL.
2025-06-05 12:48:13 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:48:13 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTE5ODkxMX0.sohxfGKyXB8vISmQiAnKSuX3Kf-Vret4wPQHTBREp5v-Unry4HvwXwe1mUuqeLb5nyK3X2BKWSVhMHgETZcEdQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMTI1MTEsImV4cCI6MTc0OTcxNzMxMX0.QiPyWPeXC9dYKk8-5jZsTqMPAspH82LSnG4LWeLW29rHXaL_FU3JFbGlph-BYiUytdVweOlm1dS0uoHI48IuKw, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 12:48:13 [http-nio-8081-exec-10] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=23, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:48:13 [http-nio-8081-exec-10] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=24, DeterminedType=TRAVEL, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:48:13 [http-nio-8081-exec-9] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 11 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:48:13 [http-nio-8081-exec-9] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 11. Type in link was HEALTH.
2025-06-05 12:48:13 [http-nio-8081-exec-9] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 12 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 12:48:13 [http-nio-8081-exec-9] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 12. Type in link was TRAVEL.
2025-06-05 12:48:13 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=23, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=5
2025-06-05 12:48:13 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=24, DeterminedType=TRAVEL, User=erwe1488@gmail.com, PackageID=5
2025-06-05 15:36:15 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 18120 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 15:36:15 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 15:36:17 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 15:36:17 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 15:36:17 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-05 15:36:17 [main] WARN  o.h.boot.model.internal.EntityBinder - HHH000457: Joined inheritance hierarchy [com.strahovka.delivery.Insurance$BaseApplication] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)
2025-06-05 15:36:18 [main] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [applicationDate] in table [`base_applications`]
2025-06-05 15:36:18 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-06-05 15:36:18 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 15:36:18 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1069)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 15:36:18 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-05 15:36:18 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [applicationDate] in table [`base_applications`]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 94 common frames omitted
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [applicationDate] in table [`base_applications`]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:364)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 101 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [applicationDate] in table [`base_applications`]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:145)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:46)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:97)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:75)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:295)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:388)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 105 common frames omitted
2025-06-05 15:37:36 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 10516 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 15:37:36 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 15:37:38 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 15:37:38 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-06-05 15:37:38 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 15:37:38 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.convEndian(Unsafe.java:3819)
 java.base/jdk.internal.misc.Unsafe.getIntUnaligned(Unsafe.java:3576)
 java.base/java.lang.invoke.VarHandleByteArrayAsInts$ArrayHandle.get(VarHandleByteArrayAsInts.java:108)
 java.base/sun.security.provider.ByteArrayAccess.b2iBig64(ByteArrayAccess.java:114)
 java.base/sun.security.provider.SHA2.implCompress0(SHA2.java:157)
 java.base/sun.security.provider.SHA2.implCompress(SHA2.java:135)
 java.base/sun.security.provider.SHA2.implDigest(SHA2.java:114)
 java.base/sun.security.provider.DigestBase.engineDigest(DigestBase.java:205)
 java.base/sun.security.provider.DigestBase.engineDigest(DigestBase.java:185)
 java.base/java.security.MessageDigest$Delegate.engineDigest(MessageDigest.java:675)
 java.base/java.security.MessageDigest.digest(MessageDigest.java:387)
 java.base/com.sun.crypto.provider.HmacCore.engineDoFinal(HmacCore.java:233)
 java.base/javax.crypto.Mac.doFinal(Mac.java:580)
 java.base/javax.crypto.Mac.doFinal(Mac.java:623)
 java.base/com.sun.crypto.provider.PBKDF2KeyImpl.deriveKey(PBKDF2KeyImpl.java:201)
 java.base/com.sun.crypto.provider.PBKDF2KeyImpl.<init>(PBKDF2KeyImpl.java:115)
 java.base/com.sun.crypto.provider.PBKDF2Core.engineGenerateSecret(PBKDF2Core.java:68)
 java.base/javax.crypto.SecretKeyFactory.generateSecret(SecretKeyFactory.java:337)
 org.postgresql.shaded.com.ongres.scram.common.util.CryptoUtil.hi(CryptoUtil.java:120)
 org.postgresql.shaded.com.ongres.scram.common.ScramMechanisms.saltedPassword(ScramMechanisms.java:154)
 org.postgresql.shaded.com.ongres.scram.common.ScramFunctions.saltedPassword(ScramFunctions.java:59)
 org.postgresql.shaded.com.ongres.scram.client.ScramSession$ClientFinalProcessor.<init>(ScramSession.java:196)
 org.postgresql.shaded.com.ongres.scram.client.ScramSession$ClientFinalProcessor.<init>(ScramSession.java:163)
 org.postgresql.shaded.com.ongres.scram.client.ScramSession$ServerFirstProcessor.clientFinalProcessor(ScramSession.java:130)
 org.postgresql.jre7.sasl.ScramAuthenticator.processServerFirstMessage(ScramAuthenticator.java:147)
 org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:863)
 org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:203)
 org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
 org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
 org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
 org.postgresql.Driver.makeConnection(Driver.java:443)
 org.postgresql.Driver.connect(Driver.java:297)
 com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
 com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
 com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
 com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
 java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 15:37:38 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-05 15:37:38 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Found more than one migration with version 103
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V103__add_missing_columns_to_insurance_guides.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V103__fix_application_date_column.sql (SQL)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 94 common frames omitted
Caused by: org.flywaydb.core.api.FlywayException: Found more than one migration with version 103
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V103__add_missing_columns_to_insurance_guides.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V103__fix_application_date_column.sql (SQL)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.checkForIncompatibilities(CompositeMigrationResolver.java:87)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.doFindAvailableMigrations(CompositeMigrationResolver.java:120)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:107)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:113)
	at org.flywaydb.core.internal.info.MigrationInfoServiceImpl.refresh(MigrationInfoServiceImpl.java:79)
	at org.flywaydb.core.internal.command.DbValidate.lambda$validate$0(DbValidate.java:108)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbValidate.validate(DbValidate.java:101)
	at org.flywaydb.core.Flyway.doValidate(Flyway.java:400)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:144)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 103 common frames omitted
2025-06-05 15:39:29 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 23592 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 15:39:29 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 15:39:30 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 15:39:31 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 15:39:31 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-05 15:39:31 [main] WARN  o.h.boot.model.internal.EntityBinder - HHH000457: Joined inheritance hierarchy [com.strahovka.delivery.Insurance$BaseApplication] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)
2025-06-05 15:39:32 [main] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [calculatedAmount] in table [`base_applications`]
2025-06-05 15:39:32 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-06-05 15:39:32 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 15:39:32 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1069)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 15:39:32 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-05 15:39:32 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [calculatedAmount] in table [`base_applications`]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 94 common frames omitted
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [calculatedAmount] in table [`base_applications`]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:364)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 101 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [calculatedAmount] in table [`base_applications`]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:145)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:46)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:97)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:75)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:295)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:388)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 105 common frames omitted
2025-06-05 15:40:37 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 6160 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 15:40:37 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 15:40:38 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 15:40:39 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 15:40:39 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-05 15:40:39 [main] WARN  o.h.boot.model.internal.EntityBinder - HHH000457: Joined inheritance hierarchy [com.strahovka.delivery.Insurance$BaseApplication] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)
2025-06-05 15:40:40 [main] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [calculatedAmount] in table [`base_applications`]
2025-06-05 15:40:40 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-06-05 15:40:40 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 15:40:40 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1069)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 15:40:40 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-05 15:40:40 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [calculatedAmount] in table [`base_applications`]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 94 common frames omitted
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [calculatedAmount] in table [`base_applications`]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:364)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 101 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [calculatedAmount] in table [`base_applications`]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:145)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:46)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:97)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:75)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:295)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:388)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 105 common frames omitted
2025-06-05 15:41:37 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 2536 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 15:41:37 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 15:41:39 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 15:41:39 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 15:41:39 [main] ERROR o.f.core.internal.command.DbMigrate - Migration of schema "public" to version "106 - fix application date column" failed! Changes successfully rolled back.
2025-06-05 15:41:39 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-06-05 15:41:39 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 15:41:39 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/sun.security.provider.SHA2.implCompress0(SHA2.java:193)
 java.base/sun.security.provider.SHA2.implCompress(SHA2.java:135)
 java.base/sun.security.provider.SHA2.implDigest(SHA2.java:114)
 java.base/sun.security.provider.DigestBase.engineDigest(DigestBase.java:205)
 java.base/java.security.MessageDigest$Delegate.engineDigest(MessageDigest.java:681)
 java.base/java.security.MessageDigest.digest(MessageDigest.java:414)
 java.base/com.sun.crypto.provider.HmacCore.engineDoFinal(HmacCore.java:240)
 java.base/javax.crypto.Mac.doFinal(Mac.java:580)
 java.base/javax.crypto.Mac.doFinal(Mac.java:623)
 java.base/com.sun.crypto.provider.PBKDF2KeyImpl.deriveKey(PBKDF2KeyImpl.java:201)
 java.base/com.sun.crypto.provider.PBKDF2KeyImpl.<init>(PBKDF2KeyImpl.java:115)
 java.base/com.sun.crypto.provider.PBKDF2Core.engineGenerateSecret(PBKDF2Core.java:68)
 java.base/javax.crypto.SecretKeyFactory.generateSecret(SecretKeyFactory.java:337)
 org.postgresql.shaded.com.ongres.scram.common.util.CryptoUtil.hi(CryptoUtil.java:120)
 org.postgresql.shaded.com.ongres.scram.common.ScramMechanisms.saltedPassword(ScramMechanisms.java:154)
 org.postgresql.shaded.com.ongres.scram.common.ScramFunctions.saltedPassword(ScramFunctions.java:59)
 org.postgresql.shaded.com.ongres.scram.client.ScramSession$ClientFinalProcessor.<init>(ScramSession.java:196)
 org.postgresql.shaded.com.ongres.scram.client.ScramSession$ClientFinalProcessor.<init>(ScramSession.java:163)
 org.postgresql.shaded.com.ongres.scram.client.ScramSession$ServerFirstProcessor.clientFinalProcessor(ScramSession.java:130)
 org.postgresql.jre7.sasl.ScramAuthenticator.processServerFirstMessage(ScramAuthenticator.java:147)
 org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:863)
 org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:203)
 org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
 org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
 org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
 org.postgresql.Driver.makeConnection(Driver.java:443)
 org.postgresql.Driver.connect(Driver.java:297)
 com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
 com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
 com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
 com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
 java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 15:41:39 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-05 15:41:39 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V106__fix_application_date_column.sql failed
------------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ОШИБКА: столбец "application_date" не существует
Location   : db/migration/V106__fix_application_date_column.sql (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V106__fix_application_date_column.sql)
Line       : 2
Statement  : -- Rename application_date column to applicationDate in base_applications table
ALTER TABLE base_applications RENAME COLUMN application_date TO "applicationDate"

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 94 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V106__fix_application_date_column.sql failed
------------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ОШИБКА: столбец "application_date" не существует
Location   : db/migration/V106__fix_application_date_column.sql (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V106__fix_application_date_column.sql)
Line       : 2
Statement  : -- Rename application_date column to applicationDate in base_applications table
ALTER TABLE base_applications RENAME COLUMN application_date TO "applicationDate"

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 103 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V106__fix_application_date_column.sql failed
------------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ОШИБКА: столбец "application_date" не существует
Location   : db/migration/V106__fix_application_date_column.sql (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V106__fix_application_date_column.sql)
Line       : 2
Statement  : -- Rename application_date column to applicationDate in base_applications table
ALTER TABLE base_applications RENAME COLUMN application_date TO "applicationDate"

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 122 common frames omitted
Caused by: org.postgresql.util.PSQLException: ОШИБКА: столбец "application_date" не существует
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 128 common frames omitted
2025-06-05 15:42:40 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 11704 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 15:42:40 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 15:42:42 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 15:42:42 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 15:42:42 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-05 15:42:42 [main] WARN  o.h.boot.model.internal.EntityBinder - HHH000457: Joined inheritance hierarchy [com.strahovka.delivery.Insurance$BaseApplication] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)
2025-06-05 15:42:43 [main] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [email] in table [`base_applications`]
2025-06-05 15:42:43 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-06-05 15:42:43 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 15:42:43 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1069)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 15:42:43 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-05 15:42:43 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [email] in table [`base_applications`]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 94 common frames omitted
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [email] in table [`base_applications`]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:364)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 101 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [email] in table [`base_applications`]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:145)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:46)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:97)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:75)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:295)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:388)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 105 common frames omitted
2025-06-05 15:43:20 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 10084 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 15:43:20 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 15:43:22 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 15:43:22 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 15:43:22 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-05 15:43:22 [main] WARN  o.h.boot.model.internal.EntityBinder - HHH000457: Joined inheritance hierarchy [com.strahovka.delivery.Insurance$BaseApplication] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)
2025-06-05 15:43:23 [main] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [endDate] in table [`base_applications`]
2025-06-05 15:43:23 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-06-05 15:43:23 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 15:43:23 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1069)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 15:43:23 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-05 15:43:23 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [endDate] in table [`base_applications`]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 94 common frames omitted
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [endDate] in table [`base_applications`]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:364)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 101 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [endDate] in table [`base_applications`]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:145)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:46)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:97)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:75)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:295)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:388)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 105 common frames omitted
2025-06-05 15:43:57 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 7324 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 15:43:57 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 15:43:59 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 15:43:59 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 15:43:59 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-05 15:43:59 [main] WARN  o.h.boot.model.internal.EntityBinder - HHH000457: Joined inheritance hierarchy [com.strahovka.delivery.Insurance$BaseApplication] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)
2025-06-05 15:44:00 [main] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [endDate] in table [`base_applications`]; found [timestamp (Types#TIMESTAMP)], but expecting [date (Types#DATE)]
2025-06-05 15:44:00 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-06-05 15:44:00 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 15:44:00 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1069)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 15:44:00 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-05 15:44:00 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [endDate] in table [`base_applications`]; found [timestamp (Types#TIMESTAMP)], but expecting [date (Types#DATE)]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 94 common frames omitted
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [endDate] in table [`base_applications`]; found [timestamp (Types#TIMESTAMP)], but expecting [date (Types#DATE)]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:364)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 101 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [endDate] in table [`base_applications`]; found [timestamp (Types#TIMESTAMP)], but expecting [date (Types#DATE)]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateColumnType(AbstractSchemaValidator.java:165)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:152)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:46)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:97)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:75)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:295)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:388)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 105 common frames omitted
2025-06-05 15:49:55 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 8836 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 15:49:55 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 15:49:57 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 15:49:57 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 15:49:58 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-05 15:49:58 [main] WARN  o.h.boot.model.internal.EntityBinder - HHH000457: Joined inheritance hierarchy [com.strahovka.delivery.Insurance$BaseApplication] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)
2025-06-05 15:49:59 [main] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [startDate] in table [`base_applications`]
2025-06-05 15:49:59 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-06-05 15:49:59 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 15:49:59 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1069)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 15:49:59 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-05 15:49:59 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [startDate] in table [`base_applications`]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 94 common frames omitted
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [startDate] in table [`base_applications`]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:364)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 101 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [startDate] in table [`base_applications`]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:145)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:46)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:97)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:75)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:295)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:388)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 105 common frames omitted
2025-06-05 15:51:10 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 18676 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 15:51:10 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 15:51:12 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 15:51:12 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 15:51:12 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-05 15:51:12 [main] WARN  o.h.boot.model.internal.EntityBinder - HHH000457: Joined inheritance hierarchy [com.strahovka.delivery.Insurance$BaseApplication] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)
2025-06-05 15:51:14 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'insuranceController' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\controller\InsuranceController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'insuranceService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\InsuranceService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'applicationRepository' defined in com.strahovka.repository.ApplicationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.strahovka.repository.ApplicationRepository.findByPolicyId(java.lang.Long); Reason: Failed to create query for method public abstract java.util.List com.strahovka.repository.ApplicationRepository.findByPolicyId(java.lang.Long); No property 'policyId' found for type 'BaseApplication'
2025-06-05 15:51:14 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'insuranceController' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\controller\InsuranceController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'insuranceService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\InsuranceService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'applicationRepository' defined in com.strahovka.repository.ApplicationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.strahovka.repository.ApplicationRepository.findByPolicyId(java.lang.Long); Reason: Failed to create query for method public abstract java.util.List com.strahovka.repository.ApplicationRepository.findByPolicyId(java.lang.Long); No property 'policyId' found for type 'BaseApplication'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:959)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'insuranceService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\InsuranceService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'applicationRepository' defined in com.strahovka.repository.ApplicationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.strahovka.repository.ApplicationRepository.findByPolicyId(java.lang.Long); Reason: Failed to create query for method public abstract java.util.List com.strahovka.repository.ApplicationRepository.findByPolicyId(java.lang.Long); No property 'policyId' found for type 'BaseApplication'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 19 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'applicationRepository' defined in com.strahovka.repository.ApplicationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.strahovka.repository.ApplicationRepository.findByPolicyId(java.lang.Long); Reason: Failed to create query for method public abstract java.util.List com.strahovka.repository.ApplicationRepository.findByPolicyId(java.lang.Long); No property 'policyId' found for type 'BaseApplication'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 33 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List com.strahovka.repository.ApplicationRepository.findByPolicyId(java.lang.Long); Reason: Failed to create query for method public abstract java.util.List com.strahovka.repository.ApplicationRepository.findByPolicyId(java.lang.Long); No property 'policyId' found for type 'BaseApplication'
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:115)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:88)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:88)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:357)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 44 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List com.strahovka.repository.ApplicationRepository.findByPolicyId(java.lang.Long); No property 'policyId' found for type 'BaseApplication'
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:106)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:124)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:258)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:95)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:111)
	... 56 common frames omitted
Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'policyId' found for type 'BaseApplication'
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:90)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:443)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:419)
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:372)
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:354)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:332)
	at org.springframework.data.repository.query.parser.Part.<init>(Part.java:81)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:259)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:260)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:389)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:727)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:390)
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:103)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:100)
	... 60 common frames omitted
2025-06-05 15:52:56 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 18712 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 15:52:56 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 15:52:58 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 15:52:58 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 15:52:58 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-05 15:52:58 [main] WARN  o.h.boot.model.internal.EntityBinder - HHH000457: Joined inheritance hierarchy [com.strahovka.delivery.Insurance$BaseApplication] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)
2025-06-05 15:53:00 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-05 15:53:01 [main] INFO  com.strahovka.StrahovkaApplication - Started StrahovkaApplication in 5.281 seconds (process running for 5.731)
2025-06-05 15:53:09 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjQzODksImV4cCI6MTc0OTIxMDc4OX0.2vu789jLdrsjXiQLJ5pOssY623gwv9l5ZeSm8OuMdQKB_e4LlXZ204uADnZlOBglN1U0P_rMqXIO7jH1FuHzbw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjQzODksImV4cCI6MTc0OTcyOTE4OX0.Y06l8aki_jjkz0G0RjIt0XbJ3HKivWr7OWFipskDJswWv54MrZy114-ACzmR69jzDeIQNC0ob_HG5PwxYjD6mA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 15:53:09 [http-nio-8081-exec-11] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjQzODksImV4cCI6MTc0OTIxMDc4OX0.2vu789jLdrsjXiQLJ5pOssY623gwv9l5ZeSm8OuMdQKB_e4LlXZ204uADnZlOBglN1U0P_rMqXIO7jH1FuHzbw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjQzODksImV4cCI6MTc0OTcyOTE4OX0.Y06l8aki_jjkz0G0RjIt0XbJ3HKivWr7OWFipskDJswWv54MrZy114-ACzmR69jzDeIQNC0ob_HG5PwxYjD6mA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 15:53:09 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjQzODksImV4cCI6MTc0OTIxMDc4OX0.2vu789jLdrsjXiQLJ5pOssY623gwv9l5ZeSm8OuMdQKB_e4LlXZ204uADnZlOBglN1U0P_rMqXIO7jH1FuHzbw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjQzODksImV4cCI6MTc0OTcyOTE4OX0.Y06l8aki_jjkz0G0RjIt0XbJ3HKivWr7OWFipskDJswWv54MrZy114-ACzmR69jzDeIQNC0ob_HG5PwxYjD6mA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 15:53:09 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 4 active policies, new level: SILVER
2025-06-05 15:53:09 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjQzODksImV4cCI6MTc0OTIxMDc4OX0.2vu789jLdrsjXiQLJ5pOssY623gwv9l5ZeSm8OuMdQKB_e4LlXZ204uADnZlOBglN1U0P_rMqXIO7jH1FuHzbw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjQzODksImV4cCI6MTc0OTcyOTE4OX0.Y06l8aki_jjkz0G0RjIt0XbJ3HKivWr7OWFipskDJswWv54MrZy114-ACzmR69jzDeIQNC0ob_HG5PwxYjD6mA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 15:53:09 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjQzODksImV4cCI6MTc0OTIxMDc4OX0.2vu789jLdrsjXiQLJ5pOssY623gwv9l5ZeSm8OuMdQKB_e4LlXZ204uADnZlOBglN1U0P_rMqXIO7jH1FuHzbw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjQzODksImV4cCI6MTc0OTcyOTE4OX0.Y06l8aki_jjkz0G0RjIt0XbJ3HKivWr7OWFipskDJswWv54MrZy114-ACzmR69jzDeIQNC0ob_HG5PwxYjD6mA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 15:53:09 [http-nio-8081-exec-1] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 11 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 15:53:09 [http-nio-8081-exec-1] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 11. Type in link was HEALTH.
2025-06-05 15:53:09 [http-nio-8081-exec-1] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 12 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 15:53:09 [http-nio-8081-exec-1] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 12. Type in link was TRAVEL.
2025-06-05 15:53:09 [http-nio-8081-exec-9] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor]] with root cause
com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]->com.strahovka.delivery.Insurance$HealthApplication["user"]->com.strahovka.delivery.User$HibernateProxy$rErqzGQH["hibernateLazyInitializer"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1308)
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:479)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:399)
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1568)
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:483)
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:114)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:297)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 15:53:09 [http-nio-8081-exec-10] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor]] with root cause
com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]->com.strahovka.delivery.Insurance$KaskoApplication["user"]->com.strahovka.delivery.User$HibernateProxy$rErqzGQH["hibernateLazyInitializer"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1308)
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:479)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:399)
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1568)
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:483)
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:114)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:297)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 15:53:09 [http-nio-8081-exec-11] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor]] with root cause
com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]->com.strahovka.delivery.Insurance$TravelApplication["user"]->com.strahovka.delivery.User$HibernateProxy$rErqzGQH["hibernateLazyInitializer"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1308)
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:479)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:399)
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1568)
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:483)
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:114)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:297)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 15:53:09 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=23, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=5
2025-06-05 15:53:09 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=24, DeterminedType=TRAVEL, User=erwe1488@gmail.com, PackageID=5
2025-06-05 15:53:09 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjQzODksImV4cCI6MTc0OTIxMDc4OX0.2vu789jLdrsjXiQLJ5pOssY623gwv9l5ZeSm8OuMdQKB_e4LlXZ204uADnZlOBglN1U0P_rMqXIO7jH1FuHzbw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjQzODksImV4cCI6MTc0OTcyOTE4OX0.Y06l8aki_jjkz0G0RjIt0XbJ3HKivWr7OWFipskDJswWv54MrZy114-ACzmR69jzDeIQNC0ob_HG5PwxYjD6mA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 15:53:09 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjQzODksImV4cCI6MTc0OTIxMDc4OX0.2vu789jLdrsjXiQLJ5pOssY623gwv9l5ZeSm8OuMdQKB_e4LlXZ204uADnZlOBglN1U0P_rMqXIO7jH1FuHzbw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjQzODksImV4cCI6MTc0OTcyOTE4OX0.Y06l8aki_jjkz0G0RjIt0XbJ3HKivWr7OWFipskDJswWv54MrZy114-ACzmR69jzDeIQNC0ob_HG5PwxYjD6mA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 15:53:09 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjQzODksImV4cCI6MTc0OTIxMDc4OX0.2vu789jLdrsjXiQLJ5pOssY623gwv9l5ZeSm8OuMdQKB_e4LlXZ204uADnZlOBglN1U0P_rMqXIO7jH1FuHzbw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjQzODksImV4cCI6MTc0OTcyOTE4OX0.Y06l8aki_jjkz0G0RjIt0XbJ3HKivWr7OWFipskDJswWv54MrZy114-ACzmR69jzDeIQNC0ob_HG5PwxYjD6mA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 15:53:09 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjQzODksImV4cCI6MTc0OTIxMDc4OX0.2vu789jLdrsjXiQLJ5pOssY623gwv9l5ZeSm8OuMdQKB_e4LlXZ204uADnZlOBglN1U0P_rMqXIO7jH1FuHzbw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjQzODksImV4cCI6MTc0OTcyOTE4OX0.Y06l8aki_jjkz0G0RjIt0XbJ3HKivWr7OWFipskDJswWv54MrZy114-ACzmR69jzDeIQNC0ob_HG5PwxYjD6mA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 15:53:09 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjQzODksImV4cCI6MTc0OTIxMDc4OX0.2vu789jLdrsjXiQLJ5pOssY623gwv9l5ZeSm8OuMdQKB_e4LlXZ204uADnZlOBglN1U0P_rMqXIO7jH1FuHzbw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjQzODksImV4cCI6MTc0OTcyOTE4OX0.Y06l8aki_jjkz0G0RjIt0XbJ3HKivWr7OWFipskDJswWv54MrZy114-ACzmR69jzDeIQNC0ob_HG5PwxYjD6mA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 15:53:09 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 4 active policies, new level: SILVER
2025-06-05 15:53:09 [http-nio-8081-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor]] with root cause
com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]->com.strahovka.delivery.Insurance$HealthApplication["user"]->com.strahovka.delivery.User$HibernateProxy$rErqzGQH["hibernateLazyInitializer"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1308)
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:479)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:399)
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1568)
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:483)
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:114)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:297)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 15:53:09 [http-nio-8081-exec-7] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor]] with root cause
com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]->com.strahovka.delivery.Insurance$TravelApplication["user"]->com.strahovka.delivery.User$HibernateProxy$rErqzGQH["hibernateLazyInitializer"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1308)
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:479)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:399)
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1568)
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:483)
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:114)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:297)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 15:53:09 [http-nio-8081-exec-6] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor]] with root cause
com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]->com.strahovka.delivery.Insurance$KaskoApplication["user"]->com.strahovka.delivery.User$HibernateProxy$rErqzGQH["hibernateLazyInitializer"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1308)
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:479)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:399)
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1568)
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:483)
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:114)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:297)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 15:53:09 [http-nio-8081-exec-4] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 11 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 15:53:09 [http-nio-8081-exec-4] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 11. Type in link was HEALTH.
2025-06-05 15:53:09 [http-nio-8081-exec-4] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 12 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 15:53:09 [http-nio-8081-exec-4] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 12. Type in link was TRAVEL.
2025-06-05 15:53:09 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=23, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=5
2025-06-05 15:53:09 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=24, DeterminedType=TRAVEL, User=erwe1488@gmail.com, PackageID=5
2025-06-05 16:11:14 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 8712 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 16:11:14 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 16:11:16 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 16:11:16 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 16:11:16 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-05 16:11:16 [main] WARN  o.h.boot.model.internal.EntityBinder - HHH000457: Joined inheritance hierarchy [com.strahovka.delivery.Insurance$BaseApplication] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)
2025-06-05 16:11:19 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-05 16:11:20 [main] INFO  com.strahovka.StrahovkaApplication - Started StrahovkaApplication in 6.255 seconds (process running for 6.737)
2025-06-05 16:11:49 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjU1MDksImV4cCI6MTc0OTIxMTkwOX0.jK3JEhxP1r18n_9PuC_Ey_2kbtbB7RHF2SPkBTbFFM-s_nphlOQQ3Z9OC2nRWXNiqiwY74ezBMbMFmH1QZegBg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjU1MDksImV4cCI6MTc0OTczMDMwOX0.OZ0fWawjYD8FCnC0PlrrPpdZhq1xG9QJIELg1i32S0k-HZtnfAo1Ys00Nqbch-LFuLHvJuxQZGppTrQ9OTAJ0w, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 16:11:49 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjU1MDksImV4cCI6MTc0OTIxMTkwOX0.jK3JEhxP1r18n_9PuC_Ey_2kbtbB7RHF2SPkBTbFFM-s_nphlOQQ3Z9OC2nRWXNiqiwY74ezBMbMFmH1QZegBg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjU1MDksImV4cCI6MTc0OTczMDMwOX0.OZ0fWawjYD8FCnC0PlrrPpdZhq1xG9QJIELg1i32S0k-HZtnfAo1Ys00Nqbch-LFuLHvJuxQZGppTrQ9OTAJ0w, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 16:11:49 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjU1MDksImV4cCI6MTc0OTIxMTkwOX0.jK3JEhxP1r18n_9PuC_Ey_2kbtbB7RHF2SPkBTbFFM-s_nphlOQQ3Z9OC2nRWXNiqiwY74ezBMbMFmH1QZegBg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjU1MDksImV4cCI6MTc0OTczMDMwOX0.OZ0fWawjYD8FCnC0PlrrPpdZhq1xG9QJIELg1i32S0k-HZtnfAo1Ys00Nqbch-LFuLHvJuxQZGppTrQ9OTAJ0w, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 16:11:49 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 4 active policies, new level: SILVER
2025-06-05 16:11:49 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjU1MDksImV4cCI6MTc0OTIxMTkwOX0.jK3JEhxP1r18n_9PuC_Ey_2kbtbB7RHF2SPkBTbFFM-s_nphlOQQ3Z9OC2nRWXNiqiwY74ezBMbMFmH1QZegBg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjU1MDksImV4cCI6MTc0OTczMDMwOX0.OZ0fWawjYD8FCnC0PlrrPpdZhq1xG9QJIELg1i32S0k-HZtnfAo1Ys00Nqbch-LFuLHvJuxQZGppTrQ9OTAJ0w, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 16:11:49 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjU1MDksImV4cCI6MTc0OTIxMTkwOX0.jK3JEhxP1r18n_9PuC_Ey_2kbtbB7RHF2SPkBTbFFM-s_nphlOQQ3Z9OC2nRWXNiqiwY74ezBMbMFmH1QZegBg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjU1MDksImV4cCI6MTc0OTczMDMwOX0.OZ0fWawjYD8FCnC0PlrrPpdZhq1xG9QJIELg1i32S0k-HZtnfAo1Ys00Nqbch-LFuLHvJuxQZGppTrQ9OTAJ0w, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 16:11:49 [http-nio-8081-exec-2] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 11 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 16:11:49 [http-nio-8081-exec-2] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 11. Type in link was HEALTH.
2025-06-05 16:11:49 [http-nio-8081-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor]] with root cause
com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]->com.strahovka.delivery.Insurance$KaskoApplication["user"]->com.strahovka.delivery.User$HibernateProxy$d2U7RGbv["hibernateLazyInitializer"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1308)
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:479)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:399)
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1568)
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:483)
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:114)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:297)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 16:11:49 [http-nio-8081-exec-2] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 12 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 16:11:49 [http-nio-8081-exec-6] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor]] with root cause
com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]->com.strahovka.delivery.Insurance$HealthApplication["user"]->com.strahovka.delivery.User$HibernateProxy$d2U7RGbv["hibernateLazyInitializer"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1308)
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:479)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:399)
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1568)
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:483)
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:114)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:297)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 16:11:49 [http-nio-8081-exec-2] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 12. Type in link was TRAVEL.
2025-06-05 16:11:49 [http-nio-8081-exec-5] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor]] with root cause
com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]->com.strahovka.delivery.Insurance$TravelApplication["user"]->com.strahovka.delivery.User$HibernateProxy$d2U7RGbv["hibernateLazyInitializer"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1308)
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:479)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:399)
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1568)
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:483)
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:114)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:297)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 16:11:49 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=23, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=5
2025-06-05 16:11:49 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=24, DeterminedType=TRAVEL, User=erwe1488@gmail.com, PackageID=5
2025-06-05 16:11:49 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjU1MDksImV4cCI6MTc0OTIxMTkwOX0.jK3JEhxP1r18n_9PuC_Ey_2kbtbB7RHF2SPkBTbFFM-s_nphlOQQ3Z9OC2nRWXNiqiwY74ezBMbMFmH1QZegBg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjU1MDksImV4cCI6MTc0OTczMDMwOX0.OZ0fWawjYD8FCnC0PlrrPpdZhq1xG9QJIELg1i32S0k-HZtnfAo1Ys00Nqbch-LFuLHvJuxQZGppTrQ9OTAJ0w, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 16:11:49 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjU1MDksImV4cCI6MTc0OTIxMTkwOX0.jK3JEhxP1r18n_9PuC_Ey_2kbtbB7RHF2SPkBTbFFM-s_nphlOQQ3Z9OC2nRWXNiqiwY74ezBMbMFmH1QZegBg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjU1MDksImV4cCI6MTc0OTczMDMwOX0.OZ0fWawjYD8FCnC0PlrrPpdZhq1xG9QJIELg1i32S0k-HZtnfAo1Ys00Nqbch-LFuLHvJuxQZGppTrQ9OTAJ0w, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 16:11:49 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjU1MDksImV4cCI6MTc0OTIxMTkwOX0.jK3JEhxP1r18n_9PuC_Ey_2kbtbB7RHF2SPkBTbFFM-s_nphlOQQ3Z9OC2nRWXNiqiwY74ezBMbMFmH1QZegBg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjU1MDksImV4cCI6MTc0OTczMDMwOX0.OZ0fWawjYD8FCnC0PlrrPpdZhq1xG9QJIELg1i32S0k-HZtnfAo1Ys00Nqbch-LFuLHvJuxQZGppTrQ9OTAJ0w, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 16:11:49 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjU1MDksImV4cCI6MTc0OTIxMTkwOX0.jK3JEhxP1r18n_9PuC_Ey_2kbtbB7RHF2SPkBTbFFM-s_nphlOQQ3Z9OC2nRWXNiqiwY74ezBMbMFmH1QZegBg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjU1MDksImV4cCI6MTc0OTczMDMwOX0.OZ0fWawjYD8FCnC0PlrrPpdZhq1xG9QJIELg1i32S0k-HZtnfAo1Ys00Nqbch-LFuLHvJuxQZGppTrQ9OTAJ0w, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 16:11:49 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjU1MDksImV4cCI6MTc0OTIxMTkwOX0.jK3JEhxP1r18n_9PuC_Ey_2kbtbB7RHF2SPkBTbFFM-s_nphlOQQ3Z9OC2nRWXNiqiwY74ezBMbMFmH1QZegBg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjU1MDksImV4cCI6MTc0OTczMDMwOX0.OZ0fWawjYD8FCnC0PlrrPpdZhq1xG9QJIELg1i32S0k-HZtnfAo1Ys00Nqbch-LFuLHvJuxQZGppTrQ9OTAJ0w, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 16:11:49 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 4 active policies, new level: SILVER
2025-06-05 16:11:49 [http-nio-8081-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor]] with root cause
com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]->com.strahovka.delivery.Insurance$TravelApplication["user"]->com.strahovka.delivery.User$HibernateProxy$d2U7RGbv["hibernateLazyInitializer"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1308)
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:479)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:399)
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1568)
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:483)
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:114)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:297)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 16:11:49 [http-nio-8081-exec-7] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor]] with root cause
com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]->com.strahovka.delivery.Insurance$HealthApplication["user"]->com.strahovka.delivery.User$HibernateProxy$d2U7RGbv["hibernateLazyInitializer"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1308)
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:479)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:399)
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1568)
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:483)
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:114)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:297)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 16:11:49 [http-nio-8081-exec-8] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor]] with root cause
com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]->com.strahovka.delivery.Insurance$KaskoApplication["user"]->com.strahovka.delivery.User$HibernateProxy$d2U7RGbv["hibernateLazyInitializer"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1308)
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:479)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:399)
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1568)
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:483)
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:114)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:297)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 16:11:49 [http-nio-8081-exec-3] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 11 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 16:11:49 [http-nio-8081-exec-3] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 11. Type in link was HEALTH.
2025-06-05 16:11:49 [http-nio-8081-exec-3] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 12 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 16:11:49 [http-nio-8081-exec-3] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 12. Type in link was TRAVEL.
2025-06-05 16:11:49 [http-nio-8081-exec-3] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=23, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=5
2025-06-05 16:11:49 [http-nio-8081-exec-3] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=24, DeterminedType=TRAVEL, User=erwe1488@gmail.com, PackageID=5
2025-06-05 16:11:50 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 4 active policies, new level: SILVER
2025-06-05 16:11:50 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 4 active policies, new level: SILVER
2025-06-05 16:12:10 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - createKaskoApplication called. Authenticated user email: erwe1488@gmail.com. Application payload email: null
2025-06-05 16:12:10 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Authenticated user: erwe1488@gmail.com. Email in application DTO: null
2025-06-05 16:12:10 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjU1MDksImV4cCI6MTc0OTIxMTkwOX0.jK3JEhxP1r18n_9PuC_Ey_2kbtbB7RHF2SPkBTbFFM-s_nphlOQQ3Z9OC2nRWXNiqiwY74ezBMbMFmH1QZegBg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjU1MDksImV4cCI6MTc0OTczMDMwOX0.OZ0fWawjYD8FCnC0PlrrPpdZhq1xG9QJIELg1i32S0k-HZtnfAo1Ys00Nqbch-LFuLHvJuxQZGppTrQ9OTAJ0w, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 16:12:10 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjU1MDksImV4cCI6MTc0OTIxMTkwOX0.jK3JEhxP1r18n_9PuC_Ey_2kbtbB7RHF2SPkBTbFFM-s_nphlOQQ3Z9OC2nRWXNiqiwY74ezBMbMFmH1QZegBg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjU1MDksImV4cCI6MTc0OTczMDMwOX0.OZ0fWawjYD8FCnC0PlrrPpdZhq1xG9QJIELg1i32S0k-HZtnfAo1Ys00Nqbch-LFuLHvJuxQZGppTrQ9OTAJ0w, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 16:12:10 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjU1MDksImV4cCI6MTc0OTIxMTkwOX0.jK3JEhxP1r18n_9PuC_Ey_2kbtbB7RHF2SPkBTbFFM-s_nphlOQQ3Z9OC2nRWXNiqiwY74ezBMbMFmH1QZegBg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjU1MDksImV4cCI6MTc0OTczMDMwOX0.OZ0fWawjYD8FCnC0PlrrPpdZhq1xG9QJIELg1i32S0k-HZtnfAo1Ys00Nqbch-LFuLHvJuxQZGppTrQ9OTAJ0w, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 16:12:10 [http-nio-8081-exec-7] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 4 active policies, new level: SILVER
2025-06-05 16:12:10 [http-nio-8081-exec-8] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor]] with root cause
com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]->com.strahovka.delivery.Insurance$KaskoApplication["user"]->com.strahovka.delivery.User$HibernateProxy$d2U7RGbv["hibernateLazyInitializer"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1308)
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:479)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:399)
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1568)
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:483)
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:114)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:297)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 16:12:10 [http-nio-8081-exec-6] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor]] with root cause
com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]->com.strahovka.delivery.Insurance$TravelApplication["user"]->com.strahovka.delivery.User$HibernateProxy$d2U7RGbv["hibernateLazyInitializer"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1308)
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:479)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:399)
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1568)
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:483)
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:114)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:297)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 16:12:10 [http-nio-8081-exec-1] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 11 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 16:12:10 [http-nio-8081-exec-1] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 11. Type in link was HEALTH.
2025-06-05 16:12:10 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjU1MDksImV4cCI6MTc0OTIxMTkwOX0.jK3JEhxP1r18n_9PuC_Ey_2kbtbB7RHF2SPkBTbFFM-s_nphlOQQ3Z9OC2nRWXNiqiwY74ezBMbMFmH1QZegBg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjU1MDksImV4cCI6MTc0OTczMDMwOX0.OZ0fWawjYD8FCnC0PlrrPpdZhq1xG9QJIELg1i32S0k-HZtnfAo1Ys00Nqbch-LFuLHvJuxQZGppTrQ9OTAJ0w, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 16:12:10 [http-nio-8081-exec-1] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 12 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 16:12:10 [http-nio-8081-exec-1] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 12. Type in link was TRAVEL.
2025-06-05 16:12:10 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=23, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=5
2025-06-05 16:12:10 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=24, DeterminedType=TRAVEL, User=erwe1488@gmail.com, PackageID=5
2025-06-05 16:12:10 [http-nio-8081-exec-9] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor]] with root cause
com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]->com.strahovka.delivery.Insurance$HealthApplication["user"]->com.strahovka.delivery.User$HibernateProxy$d2U7RGbv["hibernateLazyInitializer"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1308)
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:479)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:399)
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1568)
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:483)
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:114)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:297)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 16:12:10 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjU1MDksImV4cCI6MTc0OTIxMTkwOX0.jK3JEhxP1r18n_9PuC_Ey_2kbtbB7RHF2SPkBTbFFM-s_nphlOQQ3Z9OC2nRWXNiqiwY74ezBMbMFmH1QZegBg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjU1MDksImV4cCI6MTc0OTczMDMwOX0.OZ0fWawjYD8FCnC0PlrrPpdZhq1xG9QJIELg1i32S0k-HZtnfAo1Ys00Nqbch-LFuLHvJuxQZGppTrQ9OTAJ0w, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 16:12:10 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjU1MDksImV4cCI6MTc0OTIxMTkwOX0.jK3JEhxP1r18n_9PuC_Ey_2kbtbB7RHF2SPkBTbFFM-s_nphlOQQ3Z9OC2nRWXNiqiwY74ezBMbMFmH1QZegBg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjU1MDksImV4cCI6MTc0OTczMDMwOX0.OZ0fWawjYD8FCnC0PlrrPpdZhq1xG9QJIELg1i32S0k-HZtnfAo1Ys00Nqbch-LFuLHvJuxQZGppTrQ9OTAJ0w, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 16:12:10 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjU1MDksImV4cCI6MTc0OTIxMTkwOX0.jK3JEhxP1r18n_9PuC_Ey_2kbtbB7RHF2SPkBTbFFM-s_nphlOQQ3Z9OC2nRWXNiqiwY74ezBMbMFmH1QZegBg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjU1MDksImV4cCI6MTc0OTczMDMwOX0.OZ0fWawjYD8FCnC0PlrrPpdZhq1xG9QJIELg1i32S0k-HZtnfAo1Ys00Nqbch-LFuLHvJuxQZGppTrQ9OTAJ0w, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 16:12:10 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjU1MDksImV4cCI6MTc0OTIxMTkwOX0.jK3JEhxP1r18n_9PuC_Ey_2kbtbB7RHF2SPkBTbFFM-s_nphlOQQ3Z9OC2nRWXNiqiwY74ezBMbMFmH1QZegBg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjU1MDksImV4cCI6MTc0OTczMDMwOX0.OZ0fWawjYD8FCnC0PlrrPpdZhq1xG9QJIELg1i32S0k-HZtnfAo1Ys00Nqbch-LFuLHvJuxQZGppTrQ9OTAJ0w, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 16:12:10 [http-nio-8081-exec-4] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor]] with root cause
com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]->com.strahovka.delivery.Insurance$TravelApplication["user"]->com.strahovka.delivery.User$HibernateProxy$d2U7RGbv["hibernateLazyInitializer"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1308)
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:479)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:399)
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1568)
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:483)
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:114)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:297)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 16:12:10 [http-nio-8081-exec-10] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor]] with root cause
com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]->com.strahovka.delivery.Insurance$KaskoApplication["user"]->com.strahovka.delivery.User$HibernateProxy$d2U7RGbv["hibernateLazyInitializer"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1308)
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:479)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:399)
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1568)
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:483)
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:114)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:297)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 16:12:10 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjU1MDksImV4cCI6MTc0OTIxMTkwOX0.jK3JEhxP1r18n_9PuC_Ey_2kbtbB7RHF2SPkBTbFFM-s_nphlOQQ3Z9OC2nRWXNiqiwY74ezBMbMFmH1QZegBg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjU1MDksImV4cCI6MTc0OTczMDMwOX0.OZ0fWawjYD8FCnC0PlrrPpdZhq1xG9QJIELg1i32S0k-HZtnfAo1Ys00Nqbch-LFuLHvJuxQZGppTrQ9OTAJ0w, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 16:12:10 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 4 active policies, new level: SILVER
2025-06-05 16:12:10 [http-nio-8081-exec-6] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor]] with root cause
com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]->com.strahovka.delivery.Insurance$HealthApplication["user"]->com.strahovka.delivery.User$HibernateProxy$d2U7RGbv["hibernateLazyInitializer"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1308)
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:414)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:53)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:30)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serializeContents(CollectionSerializer.java:145)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:107)
	at com.fasterxml.jackson.databind.ser.std.CollectionSerializer.serialize(CollectionSerializer.java:25)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:479)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:399)
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1568)
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:483)
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:114)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:297)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 16:12:10 [http-nio-8081-exec-8] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 11 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 16:12:10 [http-nio-8081-exec-8] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 11. Type in link was HEALTH.
2025-06-05 16:12:10 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$EXHxyU1ZPosvWCK3QNKlQ.92kL1WCyZDYlmQcNXMs.1Rld25vdNsG, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjU1MDksImV4cCI6MTc0OTIxMTkwOX0.jK3JEhxP1r18n_9PuC_Ey_2kbtbB7RHF2SPkBTbFFM-s_nphlOQQ3Z9OC2nRWXNiqiwY74ezBMbMFmH1QZegBg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjU1MDksImV4cCI6MTc0OTczMDMwOX0.OZ0fWawjYD8FCnC0PlrrPpdZhq1xG9QJIELg1i32S0k-HZtnfAo1Ys00Nqbch-LFuLHvJuxQZGppTrQ9OTAJ0w, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 16:12:10 [http-nio-8081-exec-8] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 (user erwe1488@gmail.com) contains link to Application ID 12 (user erwe0@gmail.com) which belongs to a different user (4). Skipping application.
2025-06-05 16:12:10 [http-nio-8081-exec-8] WARN  c.strahovka.service.InsuranceService - Data integrity issue: Package ID 5 contains link to non-existent Application ID 12. Type in link was TRAVEL.
2025-06-05 16:12:10 [http-nio-8081-exec-8] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=23, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=5
2025-06-05 16:12:10 [http-nio-8081-exec-8] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=24, DeterminedType=TRAVEL, User=erwe1488@gmail.com, PackageID=5
2025-06-05 16:18:50 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 18044 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 16:18:50 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 16:18:52 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 16:18:52 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 16:18:52 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-05 16:18:52 [main] WARN  o.h.boot.model.internal.EntityBinder - HHH000457: Joined inheritance hierarchy [com.strahovka.delivery.Insurance$BaseApplication] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)
2025-06-05 16:18:54 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-05 16:18:55 [main] INFO  com.strahovka.StrahovkaApplication - Started StrahovkaApplication in 5.502 seconds (process running for 5.967)
2025-06-05 16:19:55 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - createKaskoApplication called. Authenticated user email: null. Application payload email: erwe8@gmail.com
2025-06-05 16:19:55 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Unauthenticated flow. Using email from payload: erwe8@gmail.com to find/create user.
2025-06-05 16:19:55 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Finding or creating user for email: erwe8@gmail.com
2025-06-05 16:19:55 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - User 6 found/created for email: erwe8@gmail.com
2025-06-05 16:19:55 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Updated user 6 profile with firstName: erwe8. Ensure lastName is handled if available from DTOs.
2025-06-05 16:20:06 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjYwMDYsImV4cCI6MTc0OTIxMjQwNn0.k2bN2-QuyZbqMdh6fBJR4gBjxUHVxQdQyY0mVpRRDnEDXKBa1rhyWC6sczUgm2HDtxaasY5tp0xf9efdb3Meuw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjYwMDYsImV4cCI6MTc0OTczMDgwNn0.CLQfOCkPOiUkdBETnWtrA4DtAOvSMNpxolrdFAj0scAc4k6C8CkgnJiRoa8y9KxTJgoZKsJ8ZhK3TdLdmYiAGQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 16:20:06 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjYwMDYsImV4cCI6MTc0OTIxMjQwNn0.k2bN2-QuyZbqMdh6fBJR4gBjxUHVxQdQyY0mVpRRDnEDXKBa1rhyWC6sczUgm2HDtxaasY5tp0xf9efdb3Meuw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjYwMDYsImV4cCI6MTc0OTczMDgwNn0.CLQfOCkPOiUkdBETnWtrA4DtAOvSMNpxolrdFAj0scAc4k6C8CkgnJiRoa8y9KxTJgoZKsJ8ZhK3TdLdmYiAGQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 16:20:06 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjYwMDYsImV4cCI6MTc0OTIxMjQwNn0.k2bN2-QuyZbqMdh6fBJR4gBjxUHVxQdQyY0mVpRRDnEDXKBa1rhyWC6sczUgm2HDtxaasY5tp0xf9efdb3Meuw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjYwMDYsImV4cCI6MTc0OTczMDgwNn0.CLQfOCkPOiUkdBETnWtrA4DtAOvSMNpxolrdFAj0scAc4k6C8CkgnJiRoa8y9KxTJgoZKsJ8ZhK3TdLdmYiAGQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 16:20:06 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjYwMDYsImV4cCI6MTc0OTIxMjQwNn0.k2bN2-QuyZbqMdh6fBJR4gBjxUHVxQdQyY0mVpRRDnEDXKBa1rhyWC6sczUgm2HDtxaasY5tp0xf9efdb3Meuw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjYwMDYsImV4cCI6MTc0OTczMDgwNn0.CLQfOCkPOiUkdBETnWtrA4DtAOvSMNpxolrdFAj0scAc4k6C8CkgnJiRoa8y9KxTJgoZKsJ8ZhK3TdLdmYiAGQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 16:20:06 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjYwMDYsImV4cCI6MTc0OTIxMjQwNn0.k2bN2-QuyZbqMdh6fBJR4gBjxUHVxQdQyY0mVpRRDnEDXKBa1rhyWC6sczUgm2HDtxaasY5tp0xf9efdb3Meuw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjYwMDYsImV4cCI6MTc0OTczMDgwNn0.CLQfOCkPOiUkdBETnWtrA4DtAOvSMNpxolrdFAj0scAc4k6C8CkgnJiRoa8y9KxTJgoZKsJ8ZhK3TdLdmYiAGQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 16:20:06 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 16:20:06 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjYwMDYsImV4cCI6MTc0OTIxMjQwNn0.k2bN2-QuyZbqMdh6fBJR4gBjxUHVxQdQyY0mVpRRDnEDXKBa1rhyWC6sczUgm2HDtxaasY5tp0xf9efdb3Meuw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjYwMDYsImV4cCI6MTc0OTczMDgwNn0.CLQfOCkPOiUkdBETnWtrA4DtAOvSMNpxolrdFAj0scAc4k6C8CkgnJiRoa8y9KxTJgoZKsJ8ZhK3TdLdmYiAGQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 16:20:06 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjYwMDYsImV4cCI6MTc0OTIxMjQwNn0.k2bN2-QuyZbqMdh6fBJR4gBjxUHVxQdQyY0mVpRRDnEDXKBa1rhyWC6sczUgm2HDtxaasY5tp0xf9efdb3Meuw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjYwMDYsImV4cCI6MTc0OTczMDgwNn0.CLQfOCkPOiUkdBETnWtrA4DtAOvSMNpxolrdFAj0scAc4k6C8CkgnJiRoa8y9KxTJgoZKsJ8ZhK3TdLdmYiAGQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 16:20:06 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjYwMDYsImV4cCI6MTc0OTIxMjQwNn0.k2bN2-QuyZbqMdh6fBJR4gBjxUHVxQdQyY0mVpRRDnEDXKBa1rhyWC6sczUgm2HDtxaasY5tp0xf9efdb3Meuw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjYwMDYsImV4cCI6MTc0OTczMDgwNn0.CLQfOCkPOiUkdBETnWtrA4DtAOvSMNpxolrdFAj0scAc4k6C8CkgnJiRoa8y9KxTJgoZKsJ8ZhK3TdLdmYiAGQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 16:20:06 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjYwMDYsImV4cCI6MTc0OTIxMjQwNn0.k2bN2-QuyZbqMdh6fBJR4gBjxUHVxQdQyY0mVpRRDnEDXKBa1rhyWC6sczUgm2HDtxaasY5tp0xf9efdb3Meuw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjYwMDYsImV4cCI6MTc0OTczMDgwNn0.CLQfOCkPOiUkdBETnWtrA4DtAOvSMNpxolrdFAj0scAc4k6C8CkgnJiRoa8y9KxTJgoZKsJ8ZhK3TdLdmYiAGQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 16:20:06 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjYwMDYsImV4cCI6MTc0OTIxMjQwNn0.k2bN2-QuyZbqMdh6fBJR4gBjxUHVxQdQyY0mVpRRDnEDXKBa1rhyWC6sczUgm2HDtxaasY5tp0xf9efdb3Meuw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjYwMDYsImV4cCI6MTc0OTczMDgwNn0.CLQfOCkPOiUkdBETnWtrA4DtAOvSMNpxolrdFAj0scAc4k6C8CkgnJiRoa8y9KxTJgoZKsJ8ZhK3TdLdmYiAGQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 16:20:06 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 16:20:09 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - processKaskoPayment called for application ID: 28. Authenticated user email: erwe8@gmail.com
2025-06-05 16:20:09 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Finding or creating user for email: erwe8@gmail.com
2025-06-05 16:20:09 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - User 6 found/created for email: erwe8@gmail.com
2025-06-05 16:20:09 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 16:20:09 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Application ID 28 (type: AUTO) status updated to PAID after policy creation for user erwe8@gmail.com.
2025-06-05 16:20:09 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjYwMDYsImV4cCI6MTc0OTIxMjQwNn0.k2bN2-QuyZbqMdh6fBJR4gBjxUHVxQdQyY0mVpRRDnEDXKBa1rhyWC6sczUgm2HDtxaasY5tp0xf9efdb3Meuw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjYwMDYsImV4cCI6MTc0OTczMDgwNn0.CLQfOCkPOiUkdBETnWtrA4DtAOvSMNpxolrdFAj0scAc4k6C8CkgnJiRoa8y9KxTJgoZKsJ8ZhK3TdLdmYiAGQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 16:20:09 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjYwMDYsImV4cCI6MTc0OTIxMjQwNn0.k2bN2-QuyZbqMdh6fBJR4gBjxUHVxQdQyY0mVpRRDnEDXKBa1rhyWC6sczUgm2HDtxaasY5tp0xf9efdb3Meuw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjYwMDYsImV4cCI6MTc0OTczMDgwNn0.CLQfOCkPOiUkdBETnWtrA4DtAOvSMNpxolrdFAj0scAc4k6C8CkgnJiRoa8y9KxTJgoZKsJ8ZhK3TdLdmYiAGQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 16:20:09 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjYwMDYsImV4cCI6MTc0OTIxMjQwNn0.k2bN2-QuyZbqMdh6fBJR4gBjxUHVxQdQyY0mVpRRDnEDXKBa1rhyWC6sczUgm2HDtxaasY5tp0xf9efdb3Meuw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjYwMDYsImV4cCI6MTc0OTczMDgwNn0.CLQfOCkPOiUkdBETnWtrA4DtAOvSMNpxolrdFAj0scAc4k6C8CkgnJiRoa8y9KxTJgoZKsJ8ZhK3TdLdmYiAGQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 16:20:09 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjYwMDYsImV4cCI6MTc0OTIxMjQwNn0.k2bN2-QuyZbqMdh6fBJR4gBjxUHVxQdQyY0mVpRRDnEDXKBa1rhyWC6sczUgm2HDtxaasY5tp0xf9efdb3Meuw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjYwMDYsImV4cCI6MTc0OTczMDgwNn0.CLQfOCkPOiUkdBETnWtrA4DtAOvSMNpxolrdFAj0scAc4k6C8CkgnJiRoa8y9KxTJgoZKsJ8ZhK3TdLdmYiAGQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 16:20:09 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjYwMDYsImV4cCI6MTc0OTIxMjQwNn0.k2bN2-QuyZbqMdh6fBJR4gBjxUHVxQdQyY0mVpRRDnEDXKBa1rhyWC6sczUgm2HDtxaasY5tp0xf9efdb3Meuw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMjYwMDYsImV4cCI6MTc0OTczMDgwNn0.CLQfOCkPOiUkdBETnWtrA4DtAOvSMNpxolrdFAj0scAc4k6C8CkgnJiRoa8y9KxTJgoZKsJ8ZhK3TdLdmYiAGQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 16:20:09 [http-nio-8081-exec-3] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 16:21:00 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - createTravelApplication called. Authenticated user email: null. Application payload email: erwe000@gmail.com
2025-06-05 16:21:00 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Unauthenticated flow. Using email from payload: erwe000@gmail.com to find/create user.
2025-06-05 16:21:00 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Finding or creating user for email: erwe000@gmail.com
2025-06-05 16:21:00 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - User 7 found/created for email: erwe000@gmail.com
2025-06-05 16:21:00 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Updated user 7 profile with firstName: erwe000. Ensure lastName is handled if available from DTOs.
2025-06-05 20:13:40 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 12332 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 20:13:40 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 20:13:42 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 20:13:42 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 20:13:42 [main] WARN  o.f.core.internal.command.DbMigrate - Schema "public" has a version (112) that is newer than the latest available migration (111) !
2025-06-05 20:13:42 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-05 20:13:42 [main] WARN  o.h.boot.model.internal.EntityBinder - HHH000457: Joined inheritance hierarchy [com.strahovka.delivery.Insurance$BaseApplication] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)
2025-06-05 20:13:44 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-05 20:13:45 [main] INFO  com.strahovka.StrahovkaApplication - Started StrahovkaApplication in 5.096 seconds (process running for 5.545)
2025-06-05 20:13:50 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMzk0OTcsImV4cCI6MTc0OTIyNTg5N30.67F6re8SgAgVhlB4poUP6HJl_VwLn7vpD9nRtKULXPhMhuecWSDCmN0okMmSdnYWXpdUPmFtA5UnbdeWww0m0A, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMzk0OTcsImV4cCI6MTc0OTc0NDI5N30.-pO1EcUfqW3ITsb2-EMUI8myzTKc3GmCOgXTE2eBVCTuGGKus3WoslDVoTPTYmGzBQ__q9zvXA8cmwvGcTaMug, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:13:50 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMzk0OTcsImV4cCI6MTc0OTIyNTg5N30.67F6re8SgAgVhlB4poUP6HJl_VwLn7vpD9nRtKULXPhMhuecWSDCmN0okMmSdnYWXpdUPmFtA5UnbdeWww0m0A, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMzk0OTcsImV4cCI6MTc0OTc0NDI5N30.-pO1EcUfqW3ITsb2-EMUI8myzTKc3GmCOgXTE2eBVCTuGGKus3WoslDVoTPTYmGzBQ__q9zvXA8cmwvGcTaMug, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:13:50 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMzk0OTcsImV4cCI6MTc0OTIyNTg5N30.67F6re8SgAgVhlB4poUP6HJl_VwLn7vpD9nRtKULXPhMhuecWSDCmN0okMmSdnYWXpdUPmFtA5UnbdeWww0m0A, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMzk0OTcsImV4cCI6MTc0OTc0NDI5N30.-pO1EcUfqW3ITsb2-EMUI8myzTKc3GmCOgXTE2eBVCTuGGKus3WoslDVoTPTYmGzBQ__q9zvXA8cmwvGcTaMug, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:13:50 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMzk0OTcsImV4cCI6MTc0OTIyNTg5N30.67F6re8SgAgVhlB4poUP6HJl_VwLn7vpD9nRtKULXPhMhuecWSDCmN0okMmSdnYWXpdUPmFtA5UnbdeWww0m0A, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMzk0OTcsImV4cCI6MTc0OTc0NDI5N30.-pO1EcUfqW3ITsb2-EMUI8myzTKc3GmCOgXTE2eBVCTuGGKus3WoslDVoTPTYmGzBQ__q9zvXA8cmwvGcTaMug, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:13:51 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMzk0OTcsImV4cCI6MTc0OTIyNTg5N30.67F6re8SgAgVhlB4poUP6HJl_VwLn7vpD9nRtKULXPhMhuecWSDCmN0okMmSdnYWXpdUPmFtA5UnbdeWww0m0A, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMzk0OTcsImV4cCI6MTc0OTc0NDI5N30.-pO1EcUfqW3ITsb2-EMUI8myzTKc3GmCOgXTE2eBVCTuGGKus3WoslDVoTPTYmGzBQ__q9zvXA8cmwvGcTaMug, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:13:51 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 20:13:51 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMzk0OTcsImV4cCI6MTc0OTIyNTg5N30.67F6re8SgAgVhlB4poUP6HJl_VwLn7vpD9nRtKULXPhMhuecWSDCmN0okMmSdnYWXpdUPmFtA5UnbdeWww0m0A, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMzk0OTcsImV4cCI6MTc0OTc0NDI5N30.-pO1EcUfqW3ITsb2-EMUI8myzTKc3GmCOgXTE2eBVCTuGGKus3WoslDVoTPTYmGzBQ__q9zvXA8cmwvGcTaMug, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:13:51 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMzk0OTcsImV4cCI6MTc0OTIyNTg5N30.67F6re8SgAgVhlB4poUP6HJl_VwLn7vpD9nRtKULXPhMhuecWSDCmN0okMmSdnYWXpdUPmFtA5UnbdeWww0m0A, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMzk0OTcsImV4cCI6MTc0OTc0NDI5N30.-pO1EcUfqW3ITsb2-EMUI8myzTKc3GmCOgXTE2eBVCTuGGKus3WoslDVoTPTYmGzBQ__q9zvXA8cmwvGcTaMug, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:13:51 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMzk0OTcsImV4cCI6MTc0OTIyNTg5N30.67F6re8SgAgVhlB4poUP6HJl_VwLn7vpD9nRtKULXPhMhuecWSDCmN0okMmSdnYWXpdUPmFtA5UnbdeWww0m0A, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMzk0OTcsImV4cCI6MTc0OTc0NDI5N30.-pO1EcUfqW3ITsb2-EMUI8myzTKc3GmCOgXTE2eBVCTuGGKus3WoslDVoTPTYmGzBQ__q9zvXA8cmwvGcTaMug, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:13:51 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMzk0OTcsImV4cCI6MTc0OTIyNTg5N30.67F6re8SgAgVhlB4poUP6HJl_VwLn7vpD9nRtKULXPhMhuecWSDCmN0okMmSdnYWXpdUPmFtA5UnbdeWww0m0A, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMzk0OTcsImV4cCI6MTc0OTc0NDI5N30.-pO1EcUfqW3ITsb2-EMUI8myzTKc3GmCOgXTE2eBVCTuGGKus3WoslDVoTPTYmGzBQ__q9zvXA8cmwvGcTaMug, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:13:51 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMzk0OTcsImV4cCI6MTc0OTIyNTg5N30.67F6re8SgAgVhlB4poUP6HJl_VwLn7vpD9nRtKULXPhMhuecWSDCmN0okMmSdnYWXpdUPmFtA5UnbdeWww0m0A, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMzk0OTcsImV4cCI6MTc0OTc0NDI5N30.-pO1EcUfqW3ITsb2-EMUI8myzTKc3GmCOgXTE2eBVCTuGGKus3WoslDVoTPTYmGzBQ__q9zvXA8cmwvGcTaMug, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:13:51 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMzk0OTcsImV4cCI6MTc0OTIyNTg5N30.67F6re8SgAgVhlB4poUP6HJl_VwLn7vpD9nRtKULXPhMhuecWSDCmN0okMmSdnYWXpdUPmFtA5UnbdeWww0m0A, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMzk0OTcsImV4cCI6MTc0OTc0NDI5N30.-pO1EcUfqW3ITsb2-EMUI8myzTKc3GmCOgXTE2eBVCTuGGKus3WoslDVoTPTYmGzBQ__q9zvXA8cmwvGcTaMug, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:13:51 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMzk0OTcsImV4cCI6MTc0OTIyNTg5N30.67F6re8SgAgVhlB4poUP6HJl_VwLn7vpD9nRtKULXPhMhuecWSDCmN0okMmSdnYWXpdUPmFtA5UnbdeWww0m0A, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMzk0OTcsImV4cCI6MTc0OTc0NDI5N30.-pO1EcUfqW3ITsb2-EMUI8myzTKc3GmCOgXTE2eBVCTuGGKus3WoslDVoTPTYmGzBQ__q9zvXA8cmwvGcTaMug, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:13:51 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMzk0OTcsImV4cCI6MTc0OTIyNTg5N30.67F6re8SgAgVhlB4poUP6HJl_VwLn7vpD9nRtKULXPhMhuecWSDCmN0okMmSdnYWXpdUPmFtA5UnbdeWww0m0A, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMzk0OTcsImV4cCI6MTc0OTc0NDI5N30.-pO1EcUfqW3ITsb2-EMUI8myzTKc3GmCOgXTE2eBVCTuGGKus3WoslDVoTPTYmGzBQ__q9zvXA8cmwvGcTaMug, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:13:51 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMzk0OTcsImV4cCI6MTc0OTIyNTg5N30.67F6re8SgAgVhlB4poUP6HJl_VwLn7vpD9nRtKULXPhMhuecWSDCmN0okMmSdnYWXpdUPmFtA5UnbdeWww0m0A, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMzk0OTcsImV4cCI6MTc0OTc0NDI5N30.-pO1EcUfqW3ITsb2-EMUI8myzTKc3GmCOgXTE2eBVCTuGGKus3WoslDVoTPTYmGzBQ__q9zvXA8cmwvGcTaMug, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:13:51 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMzk0OTcsImV4cCI6MTc0OTIyNTg5N30.67F6re8SgAgVhlB4poUP6HJl_VwLn7vpD9nRtKULXPhMhuecWSDCmN0okMmSdnYWXpdUPmFtA5UnbdeWww0m0A, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxMzk0OTcsImV4cCI6MTc0OTc0NDI5N30.-pO1EcUfqW3ITsb2-EMUI8myzTKc3GmCOgXTE2eBVCTuGGKus3WoslDVoTPTYmGzBQ__q9zvXA8cmwvGcTaMug, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:13:51 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 20:13:51 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 20:13:54 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDAwMzQsImV4cCI6MTc0OTIyNjQzNH0.n80oNOti9DkaUd7DkSXEaM699abQTMf25w9lZifbdOJcL3HT6Qtnh8Jmjs6fhIN_S4b_jpXazApA-3lD834ejg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDAwMzQsImV4cCI6MTc0OTc0NDgzNH0.HMmqbMp4ChhoP0-YIg9KbmcYyyESfdFm_2sMR22tGeBinKagkVmrXWA9H6B7CSQSVPTzMelS9aX0V_5g3zFqiA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:13:54 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDAwMzQsImV4cCI6MTc0OTIyNjQzNH0.n80oNOti9DkaUd7DkSXEaM699abQTMf25w9lZifbdOJcL3HT6Qtnh8Jmjs6fhIN_S4b_jpXazApA-3lD834ejg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDAwMzQsImV4cCI6MTc0OTc0NDgzNH0.HMmqbMp4ChhoP0-YIg9KbmcYyyESfdFm_2sMR22tGeBinKagkVmrXWA9H6B7CSQSVPTzMelS9aX0V_5g3zFqiA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:13:54 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDAwMzQsImV4cCI6MTc0OTIyNjQzNH0.n80oNOti9DkaUd7DkSXEaM699abQTMf25w9lZifbdOJcL3HT6Qtnh8Jmjs6fhIN_S4b_jpXazApA-3lD834ejg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDAwMzQsImV4cCI6MTc0OTc0NDgzNH0.HMmqbMp4ChhoP0-YIg9KbmcYyyESfdFm_2sMR22tGeBinKagkVmrXWA9H6B7CSQSVPTzMelS9aX0V_5g3zFqiA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:13:54 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 20:13:54 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDAwMzQsImV4cCI6MTc0OTIyNjQzNH0.n80oNOti9DkaUd7DkSXEaM699abQTMf25w9lZifbdOJcL3HT6Qtnh8Jmjs6fhIN_S4b_jpXazApA-3lD834ejg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDAwMzQsImV4cCI6MTc0OTc0NDgzNH0.HMmqbMp4ChhoP0-YIg9KbmcYyyESfdFm_2sMR22tGeBinKagkVmrXWA9H6B7CSQSVPTzMelS9aX0V_5g3zFqiA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:13:54 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDAwMzQsImV4cCI6MTc0OTIyNjQzNH0.n80oNOti9DkaUd7DkSXEaM699abQTMf25w9lZifbdOJcL3HT6Qtnh8Jmjs6fhIN_S4b_jpXazApA-3lD834ejg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDAwMzQsImV4cCI6MTc0OTc0NDgzNH0.HMmqbMp4ChhoP0-YIg9KbmcYyyESfdFm_2sMR22tGeBinKagkVmrXWA9H6B7CSQSVPTzMelS9aX0V_5g3zFqiA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:13:54 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDAwMzQsImV4cCI6MTc0OTIyNjQzNH0.n80oNOti9DkaUd7DkSXEaM699abQTMf25w9lZifbdOJcL3HT6Qtnh8Jmjs6fhIN_S4b_jpXazApA-3lD834ejg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDAwMzQsImV4cCI6MTc0OTc0NDgzNH0.HMmqbMp4ChhoP0-YIg9KbmcYyyESfdFm_2sMR22tGeBinKagkVmrXWA9H6B7CSQSVPTzMelS9aX0V_5g3zFqiA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:13:54 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDAwMzQsImV4cCI6MTc0OTIyNjQzNH0.n80oNOti9DkaUd7DkSXEaM699abQTMf25w9lZifbdOJcL3HT6Qtnh8Jmjs6fhIN_S4b_jpXazApA-3lD834ejg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDAwMzQsImV4cCI6MTc0OTc0NDgzNH0.HMmqbMp4ChhoP0-YIg9KbmcYyyESfdFm_2sMR22tGeBinKagkVmrXWA9H6B7CSQSVPTzMelS9aX0V_5g3zFqiA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:13:54 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDAwMzQsImV4cCI6MTc0OTIyNjQzNH0.n80oNOti9DkaUd7DkSXEaM699abQTMf25w9lZifbdOJcL3HT6Qtnh8Jmjs6fhIN_S4b_jpXazApA-3lD834ejg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDAwMzQsImV4cCI6MTc0OTc0NDgzNH0.HMmqbMp4ChhoP0-YIg9KbmcYyyESfdFm_2sMR22tGeBinKagkVmrXWA9H6B7CSQSVPTzMelS9aX0V_5g3zFqiA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:13:54 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDAwMzQsImV4cCI6MTc0OTIyNjQzNH0.n80oNOti9DkaUd7DkSXEaM699abQTMf25w9lZifbdOJcL3HT6Qtnh8Jmjs6fhIN_S4b_jpXazApA-3lD834ejg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDAwMzQsImV4cCI6MTc0OTc0NDgzNH0.HMmqbMp4ChhoP0-YIg9KbmcYyyESfdFm_2sMR22tGeBinKagkVmrXWA9H6B7CSQSVPTzMelS9aX0V_5g3zFqiA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:13:54 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDAwMzQsImV4cCI6MTc0OTIyNjQzNH0.n80oNOti9DkaUd7DkSXEaM699abQTMf25w9lZifbdOJcL3HT6Qtnh8Jmjs6fhIN_S4b_jpXazApA-3lD834ejg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDAwMzQsImV4cCI6MTc0OTc0NDgzNH0.HMmqbMp4ChhoP0-YIg9KbmcYyyESfdFm_2sMR22tGeBinKagkVmrXWA9H6B7CSQSVPTzMelS9aX0V_5g3zFqiA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:13:54 [http-nio-8081-exec-8] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 20:14:21 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 20:14:21 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 20:14:25 [http-nio-8081-exec-3] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 20:14:25 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 20:16:17 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 14392 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 20:16:17 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 20:16:19 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 20:16:19 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 20:16:19 [main] WARN  o.f.core.internal.command.DbMigrate - Schema "public" has a version (112) that is newer than the latest available migration (111) !
2025-06-05 20:16:19 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-05 20:16:20 [main] WARN  o.h.boot.model.internal.EntityBinder - HHH000457: Joined inheritance hierarchy [com.strahovka.delivery.Insurance$BaseApplication] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)
2025-06-05 20:16:21 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-05 20:16:22 [main] INFO  com.strahovka.StrahovkaApplication - Started StrahovkaApplication in 5.169 seconds (process running for 5.604)
2025-06-05 20:20:54 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:20:54 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:20:54 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:20:54 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 20:20:54 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:20:54 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:20:54 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:20:54 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:20:54 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:20:54 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:20:54 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:20:54 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 20:20:57 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - processKaskoPayment called for application ID: 30. Authenticated user email: erwe8@gmail.com
2025-06-05 20:20:57 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Finding or creating user for email: erwe8@gmail.com
2025-06-05 20:20:57 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - User 6 found/created for email: erwe8@gmail.com
2025-06-05 20:20:57 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 2 active policies, new level: BRONZE
2025-06-05 20:20:57 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Application ID 30 (type: AUTO) status updated to PAID after policy creation for user erwe8@gmail.com.
2025-06-05 20:20:58 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:20:58 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:20:58 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:20:58 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:20:58 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:20:58 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 2 active policies, new level: BRONZE
2025-06-05 20:20:59 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - cancelPolicy called for policy ID: 14, by user: erwe8@gmail.com
2025-06-05 20:20:59 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 20:20:59 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:20:59 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:20:59 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:20:59 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:20:59 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:20:59 [http-nio-8081-exec-8] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 20:21:08 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 20:21:08 [http-nio-8081-exec-10] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 20:21:15 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - createClaimWithFiles called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], PolicyId: 13
2025-06-05 20:21:20 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:21:20 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:21:20 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:21:20 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 20:21:20 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:21:20 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:21:20 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:21:20 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:21:20 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:21:20 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:21:20 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:21:20 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 20:21:26 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:21:26 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:21:26 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:21:26 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 20:21:26 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:21:26 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:21:26 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:21:26 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:21:26 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:21:26 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:21:26 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:21:26 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 20:21:27 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 20:21:27 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 20:21:28 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:21:28 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:21:28 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:21:28 [http-nio-8081-exec-8] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 20:21:28 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:21:28 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:21:28 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:21:28 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:21:28 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:21:28 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:21:28 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:21:28 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 20:21:30 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:21:30 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:21:30 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:21:30 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 20:21:30 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:21:30 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:21:30 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:21:30 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:21:30 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:21:30 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:21:30 [http-nio-8081-exec-7] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 20:21:30 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$HuGIrR0kAwzt4zHXKx8fJegglmwOfFMcx2x2LqRkP8esFuBNArW/O, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTIyNjg1NH0.W4xuhBcmqsisyXlx0RNqj7AW3F7VpjkfPl2KGqRKaKj3nGFi3-KEpUcG5aHhq64XmOwVJW83ghvc_nXjjnBN2w, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA0NTQsImV4cCI6MTc0OTc0NTI1NH0.WBa38w_eMw9CiMLMgU2MuSj3fP7i5CamBvG6w8_cAk54vtLNbuIsmbZrQHJbWXIq9mcgJEQKbBTdAAXj3ihQFQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:21:39 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 20:21:39 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 20:21:41 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 20:21:41 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 20:22:02 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$f3P61wu.msOhxSmS/cFc2.wqBpENMICnH.kkynOwm853cPxj6HQlW, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA1MjIsImV4cCI6MTc0OTIyNjkyMn0.kQUlcOP7FVYdX3hrKWZhPrJOvM-OSy_z8C-8SpFPTaTWl-TV4llO8bzFhdlT-sndLvXOjqbWbKLxOp_f2S6yKQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA1MjIsImV4cCI6MTc0OTc0NTMyMn0.gp5qcUwAyEzT9IFIU7CjFOvA2rJPjuO0f7bqI6XKRiZWdIatbmJtUKjstqxIKUuc-_XV0eGin2f6Vf_VWmxsug, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:22:02 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$f3P61wu.msOhxSmS/cFc2.wqBpENMICnH.kkynOwm853cPxj6HQlW, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA1MjIsImV4cCI6MTc0OTIyNjkyMn0.kQUlcOP7FVYdX3hrKWZhPrJOvM-OSy_z8C-8SpFPTaTWl-TV4llO8bzFhdlT-sndLvXOjqbWbKLxOp_f2S6yKQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA1MjIsImV4cCI6MTc0OTc0NTMyMn0.gp5qcUwAyEzT9IFIU7CjFOvA2rJPjuO0f7bqI6XKRiZWdIatbmJtUKjstqxIKUuc-_XV0eGin2f6Vf_VWmxsug, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:22:02 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$f3P61wu.msOhxSmS/cFc2.wqBpENMICnH.kkynOwm853cPxj6HQlW, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA1MjIsImV4cCI6MTc0OTIyNjkyMn0.kQUlcOP7FVYdX3hrKWZhPrJOvM-OSy_z8C-8SpFPTaTWl-TV4llO8bzFhdlT-sndLvXOjqbWbKLxOp_f2S6yKQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA1MjIsImV4cCI6MTc0OTc0NTMyMn0.gp5qcUwAyEzT9IFIU7CjFOvA2rJPjuO0f7bqI6XKRiZWdIatbmJtUKjstqxIKUuc-_XV0eGin2f6Vf_VWmxsug, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:22:02 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 20:22:02 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$f3P61wu.msOhxSmS/cFc2.wqBpENMICnH.kkynOwm853cPxj6HQlW, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA1MjIsImV4cCI6MTc0OTIyNjkyMn0.kQUlcOP7FVYdX3hrKWZhPrJOvM-OSy_z8C-8SpFPTaTWl-TV4llO8bzFhdlT-sndLvXOjqbWbKLxOp_f2S6yKQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA1MjIsImV4cCI6MTc0OTc0NTMyMn0.gp5qcUwAyEzT9IFIU7CjFOvA2rJPjuO0f7bqI6XKRiZWdIatbmJtUKjstqxIKUuc-_XV0eGin2f6Vf_VWmxsug, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:22:02 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$f3P61wu.msOhxSmS/cFc2.wqBpENMICnH.kkynOwm853cPxj6HQlW, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA1MjIsImV4cCI6MTc0OTIyNjkyMn0.kQUlcOP7FVYdX3hrKWZhPrJOvM-OSy_z8C-8SpFPTaTWl-TV4llO8bzFhdlT-sndLvXOjqbWbKLxOp_f2S6yKQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA1MjIsImV4cCI6MTc0OTc0NTMyMn0.gp5qcUwAyEzT9IFIU7CjFOvA2rJPjuO0f7bqI6XKRiZWdIatbmJtUKjstqxIKUuc-_XV0eGin2f6Vf_VWmxsug, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:22:02 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$f3P61wu.msOhxSmS/cFc2.wqBpENMICnH.kkynOwm853cPxj6HQlW, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA1MjIsImV4cCI6MTc0OTIyNjkyMn0.kQUlcOP7FVYdX3hrKWZhPrJOvM-OSy_z8C-8SpFPTaTWl-TV4llO8bzFhdlT-sndLvXOjqbWbKLxOp_f2S6yKQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA1MjIsImV4cCI6MTc0OTc0NTMyMn0.gp5qcUwAyEzT9IFIU7CjFOvA2rJPjuO0f7bqI6XKRiZWdIatbmJtUKjstqxIKUuc-_XV0eGin2f6Vf_VWmxsug, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:22:02 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$f3P61wu.msOhxSmS/cFc2.wqBpENMICnH.kkynOwm853cPxj6HQlW, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA1MjIsImV4cCI6MTc0OTIyNjkyMn0.kQUlcOP7FVYdX3hrKWZhPrJOvM-OSy_z8C-8SpFPTaTWl-TV4llO8bzFhdlT-sndLvXOjqbWbKLxOp_f2S6yKQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA1MjIsImV4cCI6MTc0OTc0NTMyMn0.gp5qcUwAyEzT9IFIU7CjFOvA2rJPjuO0f7bqI6XKRiZWdIatbmJtUKjstqxIKUuc-_XV0eGin2f6Vf_VWmxsug, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:22:02 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$f3P61wu.msOhxSmS/cFc2.wqBpENMICnH.kkynOwm853cPxj6HQlW, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA1MjIsImV4cCI6MTc0OTIyNjkyMn0.kQUlcOP7FVYdX3hrKWZhPrJOvM-OSy_z8C-8SpFPTaTWl-TV4llO8bzFhdlT-sndLvXOjqbWbKLxOp_f2S6yKQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA1MjIsImV4cCI6MTc0OTc0NTMyMn0.gp5qcUwAyEzT9IFIU7CjFOvA2rJPjuO0f7bqI6XKRiZWdIatbmJtUKjstqxIKUuc-_XV0eGin2f6Vf_VWmxsug, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:22:02 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$f3P61wu.msOhxSmS/cFc2.wqBpENMICnH.kkynOwm853cPxj6HQlW, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA1MjIsImV4cCI6MTc0OTIyNjkyMn0.kQUlcOP7FVYdX3hrKWZhPrJOvM-OSy_z8C-8SpFPTaTWl-TV4llO8bzFhdlT-sndLvXOjqbWbKLxOp_f2S6yKQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA1MjIsImV4cCI6MTc0OTc0NTMyMn0.gp5qcUwAyEzT9IFIU7CjFOvA2rJPjuO0f7bqI6XKRiZWdIatbmJtUKjstqxIKUuc-_XV0eGin2f6Vf_VWmxsug, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:22:02 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$f3P61wu.msOhxSmS/cFc2.wqBpENMICnH.kkynOwm853cPxj6HQlW, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA1MjIsImV4cCI6MTc0OTIyNjkyMn0.kQUlcOP7FVYdX3hrKWZhPrJOvM-OSy_z8C-8SpFPTaTWl-TV4llO8bzFhdlT-sndLvXOjqbWbKLxOp_f2S6yKQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA1MjIsImV4cCI6MTc0OTc0NTMyMn0.gp5qcUwAyEzT9IFIU7CjFOvA2rJPjuO0f7bqI6XKRiZWdIatbmJtUKjstqxIKUuc-_XV0eGin2f6Vf_VWmxsug, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:22:02 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 20:22:06 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 20:22:06 [http-nio-8081-exec-8] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 20:22:12 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$f3P61wu.msOhxSmS/cFc2.wqBpENMICnH.kkynOwm853cPxj6HQlW, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA1MjIsImV4cCI6MTc0OTIyNjkyMn0.kQUlcOP7FVYdX3hrKWZhPrJOvM-OSy_z8C-8SpFPTaTWl-TV4llO8bzFhdlT-sndLvXOjqbWbKLxOp_f2S6yKQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA1MjIsImV4cCI6MTc0OTc0NTMyMn0.gp5qcUwAyEzT9IFIU7CjFOvA2rJPjuO0f7bqI6XKRiZWdIatbmJtUKjstqxIKUuc-_XV0eGin2f6Vf_VWmxsug, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:22:12 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$f3P61wu.msOhxSmS/cFc2.wqBpENMICnH.kkynOwm853cPxj6HQlW, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA1MjIsImV4cCI6MTc0OTIyNjkyMn0.kQUlcOP7FVYdX3hrKWZhPrJOvM-OSy_z8C-8SpFPTaTWl-TV4llO8bzFhdlT-sndLvXOjqbWbKLxOp_f2S6yKQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA1MjIsImV4cCI6MTc0OTc0NTMyMn0.gp5qcUwAyEzT9IFIU7CjFOvA2rJPjuO0f7bqI6XKRiZWdIatbmJtUKjstqxIKUuc-_XV0eGin2f6Vf_VWmxsug, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:22:12 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$f3P61wu.msOhxSmS/cFc2.wqBpENMICnH.kkynOwm853cPxj6HQlW, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA1MjIsImV4cCI6MTc0OTIyNjkyMn0.kQUlcOP7FVYdX3hrKWZhPrJOvM-OSy_z8C-8SpFPTaTWl-TV4llO8bzFhdlT-sndLvXOjqbWbKLxOp_f2S6yKQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA1MjIsImV4cCI6MTc0OTc0NTMyMn0.gp5qcUwAyEzT9IFIU7CjFOvA2rJPjuO0f7bqI6XKRiZWdIatbmJtUKjstqxIKUuc-_XV0eGin2f6Vf_VWmxsug, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:22:12 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 20:22:12 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$f3P61wu.msOhxSmS/cFc2.wqBpENMICnH.kkynOwm853cPxj6HQlW, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA1MjIsImV4cCI6MTc0OTIyNjkyMn0.kQUlcOP7FVYdX3hrKWZhPrJOvM-OSy_z8C-8SpFPTaTWl-TV4llO8bzFhdlT-sndLvXOjqbWbKLxOp_f2S6yKQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA1MjIsImV4cCI6MTc0OTc0NTMyMn0.gp5qcUwAyEzT9IFIU7CjFOvA2rJPjuO0f7bqI6XKRiZWdIatbmJtUKjstqxIKUuc-_XV0eGin2f6Vf_VWmxsug, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:22:12 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$f3P61wu.msOhxSmS/cFc2.wqBpENMICnH.kkynOwm853cPxj6HQlW, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA1MjIsImV4cCI6MTc0OTIyNjkyMn0.kQUlcOP7FVYdX3hrKWZhPrJOvM-OSy_z8C-8SpFPTaTWl-TV4llO8bzFhdlT-sndLvXOjqbWbKLxOp_f2S6yKQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA1MjIsImV4cCI6MTc0OTc0NTMyMn0.gp5qcUwAyEzT9IFIU7CjFOvA2rJPjuO0f7bqI6XKRiZWdIatbmJtUKjstqxIKUuc-_XV0eGin2f6Vf_VWmxsug, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:22:12 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$f3P61wu.msOhxSmS/cFc2.wqBpENMICnH.kkynOwm853cPxj6HQlW, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA1MjIsImV4cCI6MTc0OTIyNjkyMn0.kQUlcOP7FVYdX3hrKWZhPrJOvM-OSy_z8C-8SpFPTaTWl-TV4llO8bzFhdlT-sndLvXOjqbWbKLxOp_f2S6yKQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA1MjIsImV4cCI6MTc0OTc0NTMyMn0.gp5qcUwAyEzT9IFIU7CjFOvA2rJPjuO0f7bqI6XKRiZWdIatbmJtUKjstqxIKUuc-_XV0eGin2f6Vf_VWmxsug, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:22:12 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$f3P61wu.msOhxSmS/cFc2.wqBpENMICnH.kkynOwm853cPxj6HQlW, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA1MjIsImV4cCI6MTc0OTIyNjkyMn0.kQUlcOP7FVYdX3hrKWZhPrJOvM-OSy_z8C-8SpFPTaTWl-TV4llO8bzFhdlT-sndLvXOjqbWbKLxOp_f2S6yKQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA1MjIsImV4cCI6MTc0OTc0NTMyMn0.gp5qcUwAyEzT9IFIU7CjFOvA2rJPjuO0f7bqI6XKRiZWdIatbmJtUKjstqxIKUuc-_XV0eGin2f6Vf_VWmxsug, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:22:12 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$f3P61wu.msOhxSmS/cFc2.wqBpENMICnH.kkynOwm853cPxj6HQlW, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA1MjIsImV4cCI6MTc0OTIyNjkyMn0.kQUlcOP7FVYdX3hrKWZhPrJOvM-OSy_z8C-8SpFPTaTWl-TV4llO8bzFhdlT-sndLvXOjqbWbKLxOp_f2S6yKQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA1MjIsImV4cCI6MTc0OTc0NTMyMn0.gp5qcUwAyEzT9IFIU7CjFOvA2rJPjuO0f7bqI6XKRiZWdIatbmJtUKjstqxIKUuc-_XV0eGin2f6Vf_VWmxsug, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:22:12 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$f3P61wu.msOhxSmS/cFc2.wqBpENMICnH.kkynOwm853cPxj6HQlW, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA1MjIsImV4cCI6MTc0OTIyNjkyMn0.kQUlcOP7FVYdX3hrKWZhPrJOvM-OSy_z8C-8SpFPTaTWl-TV4llO8bzFhdlT-sndLvXOjqbWbKLxOp_f2S6yKQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA1MjIsImV4cCI6MTc0OTc0NTMyMn0.gp5qcUwAyEzT9IFIU7CjFOvA2rJPjuO0f7bqI6XKRiZWdIatbmJtUKjstqxIKUuc-_XV0eGin2f6Vf_VWmxsug, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:22:12 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=6, email=erwe8@gmail.com, password=$2a$10$f3P61wu.msOhxSmS/cFc2.wqBpENMICnH.kkynOwm853cPxj6HQlW, firstName=erwe8, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA1MjIsImV4cCI6MTc0OTIyNjkyMn0.kQUlcOP7FVYdX3hrKWZhPrJOvM-OSy_z8C-8SpFPTaTWl-TV4llO8bzFhdlT-sndLvXOjqbWbKLxOp_f2S6yKQ, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlOEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDA1MjIsImV4cCI6MTc0OTc0NTMyMn0.gp5qcUwAyEzT9IFIU7CjFOvA2rJPjuO0f7bqI6XKRiZWdIatbmJtUKjstqxIKUuc-_XV0eGin2f6Vf_VWmxsug, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 20:22:12 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 20:22:48 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 20:22:48 [http-nio-8081-exec-7] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 20:22:49 [http-nio-8081-exec-10] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 20:22:49 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe8@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 20:33:50 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 19668 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 20:33:50 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 20:33:52 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 20:33:52 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-06-05 20:33:52 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 20:33:52 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/sun.nio.ch.Net.poll(Native Method)
 java.base/sun.nio.ch.NioSocketImpl.park(NioSocketImpl.java:191)
 java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:280)
 java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:304)
 java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:346)
 java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:796)
 java.base/java.net.Socket$SocketInputStream.implRead(Socket.java:1116)
 java.base/java.net.Socket$SocketInputStream.read(Socket.java:1103)
 org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)
 org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)
 org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)
 org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)
 org.postgresql.core.PGStream.receiveChar(PGStream.java:465)
 org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:589)
 org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:191)
 org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
 org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
 org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
 org.postgresql.Driver.makeConnection(Driver.java:443)
 org.postgresql.Driver.connect(Driver.java:297)
 com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
 com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
 com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
 com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
 java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 20:33:52 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-05 20:33:52 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Found more than one migration with version 10
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V10__consolidated_health_applications.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V10__add_family_doctor_needed_to_health_applications.sql (SQL)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 94 common frames omitted
Caused by: org.flywaydb.core.api.FlywayException: Found more than one migration with version 10
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V10__consolidated_health_applications.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V10__add_family_doctor_needed_to_health_applications.sql (SQL)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.checkForIncompatibilities(CompositeMigrationResolver.java:87)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.doFindAvailableMigrations(CompositeMigrationResolver.java:120)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:107)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:113)
	at org.flywaydb.core.internal.info.MigrationInfoServiceImpl.refresh(MigrationInfoServiceImpl.java:79)
	at org.flywaydb.core.internal.command.DbValidate.lambda$validate$0(DbValidate.java:108)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbValidate.validate(DbValidate.java:101)
	at org.flywaydb.core.Flyway.doValidate(Flyway.java:400)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:144)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 103 common frames omitted
2025-06-05 20:35:05 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 16032 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 20:35:05 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 20:35:07 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 20:35:07 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-06-05 20:35:07 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 20:35:07 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/sun.nio.ch.Net.poll(Native Method)
 java.base/sun.nio.ch.NioSocketImpl.park(NioSocketImpl.java:191)
 java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:280)
 java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:304)
 java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:346)
 java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:796)
 java.base/java.net.Socket$SocketInputStream.implRead(Socket.java:1116)
 java.base/java.net.Socket$SocketInputStream.read(Socket.java:1103)
 org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)
 org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)
 org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)
 org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)
 org.postgresql.core.PGStream.receiveChar(PGStream.java:465)
 org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:589)
 org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:191)
 org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
 org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
 org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
 org.postgresql.Driver.makeConnection(Driver.java:443)
 org.postgresql.Driver.connect(Driver.java:297)
 com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
 com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
 com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
 com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
 java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 20:35:07 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-05 20:35:07 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Found more than one migration with version 10
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V10__add_family_doctor_needed_to_health_applications.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V10__consolidated_health_applications.sql (SQL)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 94 common frames omitted
Caused by: org.flywaydb.core.api.FlywayException: Found more than one migration with version 10
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V10__add_family_doctor_needed_to_health_applications.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V10__consolidated_health_applications.sql (SQL)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.checkForIncompatibilities(CompositeMigrationResolver.java:87)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.doFindAvailableMigrations(CompositeMigrationResolver.java:120)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:107)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:113)
	at org.flywaydb.core.internal.info.MigrationInfoServiceImpl.refresh(MigrationInfoServiceImpl.java:79)
	at org.flywaydb.core.internal.command.DbValidate.lambda$validate$0(DbValidate.java:108)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbValidate.validate(DbValidate.java:101)
	at org.flywaydb.core.Flyway.doValidate(Flyway.java:400)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:144)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 103 common frames omitted
2025-06-05 20:37:28 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 15424 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 20:37:28 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 20:37:30 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 20:37:30 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-06-05 20:37:30 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 20:37:30 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/sun.nio.ch.Net.poll(Native Method)
 java.base/sun.nio.ch.NioSocketImpl.park(NioSocketImpl.java:191)
 java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:280)
 java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:304)
 java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:346)
 java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:796)
 java.base/java.net.Socket$SocketInputStream.implRead(Socket.java:1116)
 java.base/java.net.Socket$SocketInputStream.read(Socket.java:1103)
 org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)
 org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)
 org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)
 org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)
 org.postgresql.core.PGStream.receiveChar(PGStream.java:465)
 org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:589)
 org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:191)
 org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
 org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
 org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
 org.postgresql.Driver.makeConnection(Driver.java:443)
 org.postgresql.Driver.connect(Driver.java:297)
 com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
 com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
 com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
 com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
 java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 20:37:30 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-05 20:37:30 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Found more than one migration with version 19
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V19__add_active_column_to_insurance_guides.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V19__consolidated_insurance_guides.sql (SQL)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 94 common frames omitted
Caused by: org.flywaydb.core.api.FlywayException: Found more than one migration with version 19
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V19__add_active_column_to_insurance_guides.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V19__consolidated_insurance_guides.sql (SQL)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.checkForIncompatibilities(CompositeMigrationResolver.java:87)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.doFindAvailableMigrations(CompositeMigrationResolver.java:120)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:107)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:113)
	at org.flywaydb.core.internal.info.MigrationInfoServiceImpl.refresh(MigrationInfoServiceImpl.java:79)
	at org.flywaydb.core.internal.command.DbValidate.lambda$validate$0(DbValidate.java:108)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbValidate.validate(DbValidate.java:101)
	at org.flywaydb.core.Flyway.doValidate(Flyway.java:400)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:144)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 103 common frames omitted
2025-06-05 20:39:50 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 25232 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 20:39:50 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 20:39:52 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 20:39:52 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-06-05 20:39:52 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 20:39:52 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/sun.security.provider.ByteArrayAccess.i2bBig(ByteArrayAccess.java:126)
 java.base/sun.security.provider.SHA2.implDigest(SHA2.java:116)
 java.base/sun.security.provider.DigestBase.engineDigest(DigestBase.java:205)
 java.base/java.security.MessageDigest$Delegate.engineDigest(MessageDigest.java:681)
 java.base/java.security.MessageDigest.digest(MessageDigest.java:414)
 java.base/com.sun.crypto.provider.HmacCore.engineDoFinal(HmacCore.java:240)
 java.base/javax.crypto.Mac.doFinal(Mac.java:580)
 java.base/javax.crypto.Mac.doFinal(Mac.java:623)
 java.base/com.sun.crypto.provider.PBKDF2KeyImpl.deriveKey(PBKDF2KeyImpl.java:201)
 java.base/com.sun.crypto.provider.PBKDF2KeyImpl.<init>(PBKDF2KeyImpl.java:115)
 java.base/com.sun.crypto.provider.PBKDF2Core.engineGenerateSecret(PBKDF2Core.java:68)
 java.base/javax.crypto.SecretKeyFactory.generateSecret(SecretKeyFactory.java:337)
 org.postgresql.shaded.com.ongres.scram.common.util.CryptoUtil.hi(CryptoUtil.java:120)
 org.postgresql.shaded.com.ongres.scram.common.ScramMechanisms.saltedPassword(ScramMechanisms.java:154)
 org.postgresql.shaded.com.ongres.scram.common.ScramFunctions.saltedPassword(ScramFunctions.java:59)
 org.postgresql.shaded.com.ongres.scram.client.ScramSession$ClientFinalProcessor.<init>(ScramSession.java:196)
 org.postgresql.shaded.com.ongres.scram.client.ScramSession$ClientFinalProcessor.<init>(ScramSession.java:163)
 org.postgresql.shaded.com.ongres.scram.client.ScramSession$ServerFirstProcessor.clientFinalProcessor(ScramSession.java:130)
 org.postgresql.jre7.sasl.ScramAuthenticator.processServerFirstMessage(ScramAuthenticator.java:147)
 org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:863)
 org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:203)
 org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
 org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
 org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
 org.postgresql.Driver.makeConnection(Driver.java:443)
 org.postgresql.Driver.connect(Driver.java:297)
 com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
 com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
 com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
 com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
 java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 20:39:52 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-05 20:39:52 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Found more than one migration with version 28
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V28__consolidated_insurance_policies.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V28__add_cancelled_at_to_insurance_policies.sql (SQL)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 94 common frames omitted
Caused by: org.flywaydb.core.api.FlywayException: Found more than one migration with version 28
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V28__consolidated_insurance_policies.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V28__add_cancelled_at_to_insurance_policies.sql (SQL)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.checkForIncompatibilities(CompositeMigrationResolver.java:87)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.doFindAvailableMigrations(CompositeMigrationResolver.java:120)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:107)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:113)
	at org.flywaydb.core.internal.info.MigrationInfoServiceImpl.refresh(MigrationInfoServiceImpl.java:79)
	at org.flywaydb.core.internal.command.DbValidate.lambda$validate$0(DbValidate.java:108)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbValidate.validate(DbValidate.java:101)
	at org.flywaydb.core.Flyway.doValidate(Flyway.java:400)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:144)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 103 common frames omitted
2025-06-05 20:41:45 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 12100 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 20:41:45 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 20:41:47 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 20:41:47 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-06-05 20:41:47 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 20:41:47 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/sun.nio.ch.Net.poll(Native Method)
 java.base/sun.nio.ch.NioSocketImpl.park(NioSocketImpl.java:191)
 java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:280)
 java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:304)
 java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:346)
 java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:796)
 java.base/java.net.Socket$SocketInputStream.implRead(Socket.java:1116)
 java.base/java.net.Socket$SocketInputStream.read(Socket.java:1103)
 org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)
 org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)
 org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)
 org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)
 org.postgresql.core.PGStream.receiveChar(PGStream.java:465)
 org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:589)
 org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:191)
 org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
 org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
 org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
 org.postgresql.Driver.makeConnection(Driver.java:443)
 org.postgresql.Driver.connect(Driver.java:297)
 com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
 com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
 com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
 com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
 java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 20:41:47 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-05 20:41:47 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Found more than one migration with version 34
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V34__consolidated_osago_applications.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V34__add_duration_months_to_osago_applications.sql (SQL)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 94 common frames omitted
Caused by: org.flywaydb.core.api.FlywayException: Found more than one migration with version 34
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V34__consolidated_osago_applications.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V34__add_duration_months_to_osago_applications.sql (SQL)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.checkForIncompatibilities(CompositeMigrationResolver.java:87)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.doFindAvailableMigrations(CompositeMigrationResolver.java:120)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:107)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:113)
	at org.flywaydb.core.internal.info.MigrationInfoServiceImpl.refresh(MigrationInfoServiceImpl.java:79)
	at org.flywaydb.core.internal.command.DbValidate.lambda$validate$0(DbValidate.java:108)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbValidate.validate(DbValidate.java:101)
	at org.flywaydb.core.Flyway.doValidate(Flyway.java:400)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:144)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 103 common frames omitted
2025-06-05 20:42:48 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 10880 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 20:42:48 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 20:42:50 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 20:42:50 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-06-05 20:42:50 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 20:42:50 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/sun.nio.ch.Net.poll(Native Method)
 java.base/sun.nio.ch.NioSocketImpl.park(NioSocketImpl.java:191)
 java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:280)
 java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:304)
 java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:346)
 java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:796)
 java.base/java.net.Socket$SocketInputStream.implRead(Socket.java:1116)
 java.base/java.net.Socket$SocketInputStream.read(Socket.java:1103)
 org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)
 org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)
 org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)
 org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)
 org.postgresql.core.PGStream.receiveChar(PGStream.java:465)
 org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:589)
 org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:191)
 org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
 org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
 org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
 org.postgresql.Driver.makeConnection(Driver.java:443)
 org.postgresql.Driver.connect(Driver.java:297)
 com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
 com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
 com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
 com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
 java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 20:42:50 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-05 20:42:50 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Found more than one migration with version 34
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V34__add_duration_months_to_osago_applications.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V34__consolidated_osago_applications.sql (SQL)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 94 common frames omitted
Caused by: org.flywaydb.core.api.FlywayException: Found more than one migration with version 34
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V34__add_duration_months_to_osago_applications.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V34__consolidated_osago_applications.sql (SQL)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.checkForIncompatibilities(CompositeMigrationResolver.java:87)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.doFindAvailableMigrations(CompositeMigrationResolver.java:120)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:107)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:113)
	at org.flywaydb.core.internal.info.MigrationInfoServiceImpl.refresh(MigrationInfoServiceImpl.java:79)
	at org.flywaydb.core.internal.command.DbValidate.lambda$validate$0(DbValidate.java:108)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbValidate.validate(DbValidate.java:101)
	at org.flywaydb.core.Flyway.doValidate(Flyway.java:400)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:144)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 103 common frames omitted
2025-06-05 20:43:48 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 22904 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 20:43:48 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 20:43:49 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 20:43:49 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-06-05 20:43:49 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 20:43:49 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/sun.nio.ch.Net.poll(Native Method)
 java.base/sun.nio.ch.NioSocketImpl.park(NioSocketImpl.java:191)
 java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:280)
 java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:304)
 java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:346)
 java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:796)
 java.base/java.net.Socket$SocketInputStream.implRead(Socket.java:1116)
 java.base/java.net.Socket$SocketInputStream.read(Socket.java:1103)
 org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)
 org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)
 org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)
 org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)
 org.postgresql.core.PGStream.receiveChar(PGStream.java:465)
 org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:589)
 org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:191)
 org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
 org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
 org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
 org.postgresql.Driver.makeConnection(Driver.java:443)
 org.postgresql.Driver.connect(Driver.java:297)
 com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
 com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
 com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
 com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
 java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 20:43:49 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-05 20:43:49 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Found more than one migration with version 42
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V42__consolidated_property_applications.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V42__add_cadastral_number_to_property_applications.sql (SQL)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 94 common frames omitted
Caused by: org.flywaydb.core.api.FlywayException: Found more than one migration with version 42
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V42__consolidated_property_applications.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V42__add_cadastral_number_to_property_applications.sql (SQL)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.checkForIncompatibilities(CompositeMigrationResolver.java:87)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.doFindAvailableMigrations(CompositeMigrationResolver.java:120)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:107)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:113)
	at org.flywaydb.core.internal.info.MigrationInfoServiceImpl.refresh(MigrationInfoServiceImpl.java:79)
	at org.flywaydb.core.internal.command.DbValidate.lambda$validate$0(DbValidate.java:108)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbValidate.validate(DbValidate.java:101)
	at org.flywaydb.core.Flyway.doValidate(Flyway.java:400)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:144)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 103 common frames omitted
2025-06-05 20:44:46 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 9592 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 20:44:46 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 20:44:48 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 20:44:48 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-06-05 20:44:48 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 20:44:48 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/sun.nio.ch.Net.poll(Native Method)
 java.base/sun.nio.ch.NioSocketImpl.park(NioSocketImpl.java:191)
 java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:280)
 java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:304)
 java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:346)
 java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:796)
 java.base/java.net.Socket$SocketInputStream.implRead(Socket.java:1116)
 java.base/java.net.Socket$SocketInputStream.read(Socket.java:1103)
 org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)
 org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)
 org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)
 org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)
 org.postgresql.core.PGStream.receiveChar(PGStream.java:465)
 org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:589)
 org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:191)
 org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
 org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
 org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
 org.postgresql.Driver.makeConnection(Driver.java:443)
 org.postgresql.Driver.connect(Driver.java:297)
 com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
 com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
 com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
 com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
 java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 20:44:48 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-05 20:44:48 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Found more than one migration with version 42
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V42__add_cadastral_number_to_property_applications.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V42__consolidated_property_applications.sql (SQL)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 94 common frames omitted
Caused by: org.flywaydb.core.api.FlywayException: Found more than one migration with version 42
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V42__add_cadastral_number_to_property_applications.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V42__consolidated_property_applications.sql (SQL)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.checkForIncompatibilities(CompositeMigrationResolver.java:87)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.doFindAvailableMigrations(CompositeMigrationResolver.java:120)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:107)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:113)
	at org.flywaydb.core.internal.info.MigrationInfoServiceImpl.refresh(MigrationInfoServiceImpl.java:79)
	at org.flywaydb.core.internal.command.DbValidate.lambda$validate$0(DbValidate.java:108)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbValidate.validate(DbValidate.java:101)
	at org.flywaydb.core.Flyway.doValidate(Flyway.java:400)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:144)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 103 common frames omitted
2025-06-05 20:46:08 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 7684 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 20:46:08 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 20:46:09 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 20:46:09 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 20:46:10 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "status" отношения "base_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:46:10 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "user_id" отношения "base_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:46:10 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: отношение "insurance_packages" уже существует, пропускается (SQL State: 42P07 - Error Code: 0)
2025-06-05 20:46:10 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "calculation_rules" отношения "insurance_guides" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:46:10 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "coverage_details" отношения "insurance_guides" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:46:10 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "description" отношения "insurance_guides" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:46:10 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "display_order" отношения "insurance_guides" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:46:10 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "important_notes" отношения "insurance_guides" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:46:10 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "required_documents" отношения "insurance_guides" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:46:10 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "status" отношения "insurance_policies" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:46:10 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "cashback" отношения "insurance_policies" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:46:10 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "status" отношения "insurance_policies" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:46:10 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "details" отношения "insurance_policies" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:46:10 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "package_discount" отношения "insurance_policies" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:46:10 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "package_name" отношения "insurance_policies" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:46:10 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "engine_power" отношения "osago_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:46:10 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "has_accidents_last_year" отношения "osago_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:46:10 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "is_unlimited_drivers" отношения "osago_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:46:10 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "previous_policy_number" отношения "osago_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:46:10 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "registration_certificate" отношения "osago_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:46:10 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "region_registration" отношения "osago_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:46:10 [main] ERROR o.f.core.internal.command.DbMigrate - Migration of schema "public" to version "42 - consolidated property applications" failed! Changes successfully rolled back.
2025-06-05 20:46:10 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-06-05 20:46:10 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 20:46:10 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/sun.nio.ch.Net.poll(Native Method)
 java.base/sun.nio.ch.NioSocketImpl.park(NioSocketImpl.java:191)
 java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:280)
 java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:304)
 java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:346)
 java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:796)
 java.base/java.net.Socket$SocketInputStream.implRead(Socket.java:1116)
 java.base/java.net.Socket$SocketInputStream.read(Socket.java:1103)
 org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)
 org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)
 org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)
 org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)
 org.postgresql.core.PGStream.receiveChar(PGStream.java:465)
 org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:589)
 org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:191)
 org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
 org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
 org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
 org.postgresql.Driver.makeConnection(Driver.java:443)
 org.postgresql.Driver.connect(Driver.java:297)
 com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
 com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
 com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
 com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
 java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 20:46:10 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-05 20:46:10 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V42__consolidated_property_applications.sql failed
------------------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ОШИБКА: столбец "property_area" в таблице "property_applications" не существует
Location   : db/migration/V42__consolidated_property_applications.sql (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V42__consolidated_property_applications.sql)
Line       : 3
Statement  : -- Консолидированные изменения для property_applications

ALTER TABLE property_applications
    ADD COLUMN IF NOT EXISTS cadastral_number VARCHAR(255),
    ADD COLUMN IF NOT EXISTS construction_type VARCHAR(100),
    ADD COLUMN IF NOT EXISTS cover_natural_disasters BOOLEAN DEFAULT FALSE,
    ADD COLUMN IF NOT EXISTS cover_theft BOOLEAN DEFAULT FALSE,
    ADD COLUMN IF NOT EXISTS cover_third_party_liability BOOLEAN DEFAULT FALSE,
    ADD COLUMN IF NOT EXISTS has_fire_alarm BOOLEAN DEFAULT FALSE,
    ADD COLUMN IF NOT EXISTS has_mortage BOOLEAN DEFAULT FALSE,
    ADD COLUMN IF NOT EXISTS has_security_system BOOLEAN DEFAULT FALSE,
    ADD COLUMN IF NOT EXISTS mortage_bank VARCHAR(255),
    ADD COLUMN IF NOT EXISTS ownership_document_number VARCHAR(255),
    ADD COLUMN IF NOT EXISTS property_address TEXT,
    ADD COLUMN IF NOT EXISTS property_area DECIMAL(10,2),
    ALTER COLUMN property_area TYPE DECIMAL(10,2)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 94 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V42__consolidated_property_applications.sql failed
------------------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ОШИБКА: столбец "property_area" в таблице "property_applications" не существует
Location   : db/migration/V42__consolidated_property_applications.sql (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V42__consolidated_property_applications.sql)
Line       : 3
Statement  : -- Консолидированные изменения для property_applications

ALTER TABLE property_applications
    ADD COLUMN IF NOT EXISTS cadastral_number VARCHAR(255),
    ADD COLUMN IF NOT EXISTS construction_type VARCHAR(100),
    ADD COLUMN IF NOT EXISTS cover_natural_disasters BOOLEAN DEFAULT FALSE,
    ADD COLUMN IF NOT EXISTS cover_theft BOOLEAN DEFAULT FALSE,
    ADD COLUMN IF NOT EXISTS cover_third_party_liability BOOLEAN DEFAULT FALSE,
    ADD COLUMN IF NOT EXISTS has_fire_alarm BOOLEAN DEFAULT FALSE,
    ADD COLUMN IF NOT EXISTS has_mortage BOOLEAN DEFAULT FALSE,
    ADD COLUMN IF NOT EXISTS has_security_system BOOLEAN DEFAULT FALSE,
    ADD COLUMN IF NOT EXISTS mortage_bank VARCHAR(255),
    ADD COLUMN IF NOT EXISTS ownership_document_number VARCHAR(255),
    ADD COLUMN IF NOT EXISTS property_address TEXT,
    ADD COLUMN IF NOT EXISTS property_area DECIMAL(10,2),
    ALTER COLUMN property_area TYPE DECIMAL(10,2)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 103 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V42__consolidated_property_applications.sql failed
------------------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ОШИБКА: столбец "property_area" в таблице "property_applications" не существует
Location   : db/migration/V42__consolidated_property_applications.sql (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V42__consolidated_property_applications.sql)
Line       : 3
Statement  : -- Консолидированные изменения для property_applications

ALTER TABLE property_applications
    ADD COLUMN IF NOT EXISTS cadastral_number VARCHAR(255),
    ADD COLUMN IF NOT EXISTS construction_type VARCHAR(100),
    ADD COLUMN IF NOT EXISTS cover_natural_disasters BOOLEAN DEFAULT FALSE,
    ADD COLUMN IF NOT EXISTS cover_theft BOOLEAN DEFAULT FALSE,
    ADD COLUMN IF NOT EXISTS cover_third_party_liability BOOLEAN DEFAULT FALSE,
    ADD COLUMN IF NOT EXISTS has_fire_alarm BOOLEAN DEFAULT FALSE,
    ADD COLUMN IF NOT EXISTS has_mortage BOOLEAN DEFAULT FALSE,
    ADD COLUMN IF NOT EXISTS has_security_system BOOLEAN DEFAULT FALSE,
    ADD COLUMN IF NOT EXISTS mortage_bank VARCHAR(255),
    ADD COLUMN IF NOT EXISTS ownership_document_number VARCHAR(255),
    ADD COLUMN IF NOT EXISTS property_address TEXT,
    ADD COLUMN IF NOT EXISTS property_area DECIMAL(10,2),
    ALTER COLUMN property_area TYPE DECIMAL(10,2)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 122 common frames omitted
Caused by: org.postgresql.util.PSQLException: ОШИБКА: столбец "property_area" в таблице "property_applications" не существует
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 128 common frames omitted
2025-06-05 20:48:22 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 23604 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 20:48:22 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 20:48:24 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 20:48:24 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 20:48:24 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "construction_type" отношения "property_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:48:24 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "cover_natural_disasters" отношения "property_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:48:24 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "cover_theft" отношения "property_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:48:24 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "cover_third_party_liability" отношения "property_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:48:24 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "has_fire_alarm" отношения "property_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:48:24 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "has_mortage" отношения "property_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:48:24 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "has_security_system" отношения "property_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:48:24 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "mortage_bank" отношения "property_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:48:24 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "ownership_document_number" отношения "property_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:48:24 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "property_address" отношения "property_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:48:24 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "property_area" отношения "property_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:48:24 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "cover_luggage" отношения "travel_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:48:24 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "cover_medical_expenses" отношения "travel_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:48:24 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "cover_sports_activities" отношения "travel_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:48:24 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "cover_trip_cancellation" отношения "travel_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:48:24 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "has_chronic_diseases" отношения "travel_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:48:24 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "passport_expiry" отношения "travel_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:48:24 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "planned_sports_activities" отношения "travel_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:48:24 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "purpose_of_trip" отношения "travel_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:48:24 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "status" отношения "base_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:48:24 [main] ERROR o.f.core.internal.command.DbMigrate - Migration of schema "public" to version "98 - consolidated status changes" failed! Changes successfully rolled back.
2025-06-05 20:48:24 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-06-05 20:48:24 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 20:48:24 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/sun.nio.ch.Net.poll(Native Method)
 java.base/sun.nio.ch.NioSocketImpl.park(NioSocketImpl.java:191)
 java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:280)
 java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:304)
 java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:346)
 java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:796)
 java.base/java.net.Socket$SocketInputStream.implRead(Socket.java:1116)
 java.base/java.net.Socket$SocketInputStream.read(Socket.java:1103)
 org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)
 org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)
 org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)
 org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)
 org.postgresql.core.PGStream.receiveChar(PGStream.java:465)
 org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:589)
 org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:191)
 org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
 org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
 org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
 org.postgresql.Driver.makeConnection(Driver.java:443)
 org.postgresql.Driver.connect(Driver.java:297)
 com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
 com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
 com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
 com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
 java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 20:48:24 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-05 20:48:24 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V98__consolidated_status_changes.sql failed
-----------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ОШИБКА: столбец "status" в таблице "kasko_applications" не существует
Location   : db/migration/V98__consolidated_status_changes.sql (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V98__consolidated_status_changes.sql)
Line       : 11
Statement  : -- Обновление типов колонок статуса
ALTER TABLE kasko_applications ALTER COLUMN status TYPE VARCHAR(50)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 94 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V98__consolidated_status_changes.sql failed
-----------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ОШИБКА: столбец "status" в таблице "kasko_applications" не существует
Location   : db/migration/V98__consolidated_status_changes.sql (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V98__consolidated_status_changes.sql)
Line       : 11
Statement  : -- Обновление типов колонок статуса
ALTER TABLE kasko_applications ALTER COLUMN status TYPE VARCHAR(50)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 103 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V98__consolidated_status_changes.sql failed
-----------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ОШИБКА: столбец "status" в таблице "kasko_applications" не существует
Location   : db/migration/V98__consolidated_status_changes.sql (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V98__consolidated_status_changes.sql)
Line       : 11
Statement  : -- Обновление типов колонок статуса
ALTER TABLE kasko_applications ALTER COLUMN status TYPE VARCHAR(50)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 122 common frames omitted
Caused by: org.postgresql.util.PSQLException: ОШИБКА: столбец "status" в таблице "kasko_applications" не существует
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 128 common frames omitted
2025-06-05 20:49:21 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 9480 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 20:49:21 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 20:49:23 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 20:49:23 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 20:49:23 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "status" отношения "osago_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:49:23 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "status" отношения "travel_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:49:23 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "status" отношения "health_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:49:23 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "status" отношения "property_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:49:23 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "status" отношения "insurance_policies" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:49:23 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "status" отношения "insurance_claims" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:49:23 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "status" отношения "insurance_packages" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:49:23 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "status" отношения "base_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:49:23 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "content" отношения "insurance_guides" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:49:23 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "updated_at" отношения "insurance_guides" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:49:23 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "passport_number" отношения "health_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:49:23 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "preferred_clinic" отношения "health_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:49:23 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "smoking_status" отношения "health_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:49:23 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "snils" отношения "health_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 20:49:23 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-05 20:49:24 [main] WARN  o.h.boot.model.internal.EntityBinder - HHH000457: Joined inheritance hierarchy [com.strahovka.delivery.Insurance$BaseApplication] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)
2025-06-05 20:49:24 [main] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [package_discount] in table [`insurance_policies`]; found [numeric (Types#NUMERIC)], but expecting [integer (Types#INTEGER)]
2025-06-05 20:49:24 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-06-05 20:49:24 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 20:49:24 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1069)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 20:49:25 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-05 20:49:25 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [package_discount] in table [`insurance_policies`]; found [numeric (Types#NUMERIC)], but expecting [integer (Types#INTEGER)]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 94 common frames omitted
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [package_discount] in table [`insurance_policies`]; found [numeric (Types#NUMERIC)], but expecting [integer (Types#INTEGER)]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:364)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 101 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [package_discount] in table [`insurance_policies`]; found [numeric (Types#NUMERIC)], but expecting [integer (Types#INTEGER)]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateColumnType(AbstractSchemaValidator.java:165)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:152)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:46)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:97)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:75)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:295)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:388)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 105 common frames omitted
2025-06-05 20:51:06 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 18944 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 20:51:06 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 20:51:08 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 20:51:08 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 20:51:08 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-05 20:51:08 [main] WARN  o.h.boot.model.internal.EntityBinder - HHH000457: Joined inheritance hierarchy [com.strahovka.delivery.Insurance$BaseApplication] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)
2025-06-05 20:51:10 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'insuranceController' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\controller\InsuranceController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'insuranceService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\InsuranceService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'applicationRepository' defined in com.strahovka.repository.ApplicationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.Optional com.strahovka.repository.ApplicationRepository.findByIdAndType(java.lang.Long,java.lang.Class); Reason: Validation failed for query for method public abstract java.util.Optional com.strahovka.repository.ApplicationRepository.findByIdAndType(java.lang.Long,java.lang.Class)
2025-06-05 20:51:10 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'insuranceController' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\controller\InsuranceController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'insuranceService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\InsuranceService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'applicationRepository' defined in com.strahovka.repository.ApplicationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.Optional com.strahovka.repository.ApplicationRepository.findByIdAndType(java.lang.Long,java.lang.Class); Reason: Validation failed for query for method public abstract java.util.Optional com.strahovka.repository.ApplicationRepository.findByIdAndType(java.lang.Long,java.lang.Class)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:959)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'insuranceService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\InsuranceService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'applicationRepository' defined in com.strahovka.repository.ApplicationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.Optional com.strahovka.repository.ApplicationRepository.findByIdAndType(java.lang.Long,java.lang.Class); Reason: Validation failed for query for method public abstract java.util.Optional com.strahovka.repository.ApplicationRepository.findByIdAndType(java.lang.Long,java.lang.Class)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 19 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'applicationRepository' defined in com.strahovka.repository.ApplicationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.Optional com.strahovka.repository.ApplicationRepository.findByIdAndType(java.lang.Long,java.lang.Class); Reason: Validation failed for query for method public abstract java.util.Optional com.strahovka.repository.ApplicationRepository.findByIdAndType(java.lang.Long,java.lang.Class)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 33 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.Optional com.strahovka.repository.ApplicationRepository.findByIdAndType(java.lang.Long,java.lang.Class); Reason: Validation failed for query for method public abstract java.util.Optional com.strahovka.repository.ApplicationRepository.findByIdAndType(java.lang.Long,java.lang.Class)
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:115)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:88)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:88)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:357)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 44 common frames omitted
Caused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.Optional com.strahovka.repository.ApplicationRepository.findByIdAndType(java.lang.Long,java.lang.Class)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:100)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:70)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:60)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:170)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:252)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:95)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:111)
	... 56 common frames omitted
Caused by: java.lang.IllegalArgumentException: org.hibernate.query.sqm.UnknownEntityException: Could not resolve root entity 'BaseApplication'
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:143)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:167)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:173)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:848)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:753)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:136)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy2/jdk.proxy2.$Proxy169.createQuery(Unknown Source)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:94)
	... 62 common frames omitted
Caused by: org.hibernate.query.sqm.UnknownEntityException: Could not resolve root entity 'BaseApplication'
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.resolveRootEntity(SemanticQueryBuilder.java:2013)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitRootEntity(SemanticQueryBuilder.java:1944)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitRootEntity(SemanticQueryBuilder.java:269)
	at org.hibernate.grammars.hql.HqlParser$RootEntityContext.accept(HqlParser.java:2549)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitEntityWithJoins(SemanticQueryBuilder.java:1914)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitFromClause(SemanticQueryBuilder.java:1901)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuery(SemanticQueryBuilder.java:1148)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuerySpecExpression(SemanticQueryBuilder.java:941)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuerySpecExpression(SemanticQueryBuilder.java:269)
	at org.hibernate.grammars.hql.HqlParser$QuerySpecExpressionContext.accept(HqlParser.java:1869)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimpleQueryGroup(SemanticQueryBuilder.java:926)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimpleQueryGroup(SemanticQueryBuilder.java:269)
	at org.hibernate.grammars.hql.HqlParser$SimpleQueryGroupContext.accept(HqlParser.java:1740)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSelectStatement(SemanticQueryBuilder.java:443)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitStatement(SemanticQueryBuilder.java:402)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.buildSemanticModel(SemanticQueryBuilder.java:311)
	at org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:71)
	at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.createHqlInterpretation(QueryInterpretationCacheStandardImpl.java:165)
	at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.resolveHqlInterpretation(QueryInterpretationCacheStandardImpl.java:147)
	at org.hibernate.internal.AbstractSharedSessionContract.interpretHql(AbstractSharedSessionContract.java:790)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:840)
	... 69 common frames omitted
2025-06-05 20:52:43 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 18888 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 20:52:43 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 20:52:45 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 20:52:45 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 20:52:45 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-05 20:52:46 [main] WARN  o.h.boot.model.internal.EntityBinder - HHH000457: Joined inheritance hierarchy [com.strahovka.delivery.Insurance$BaseApplication] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)
2025-06-05 20:52:47 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'insuranceController' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\controller\InsuranceController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'insuranceService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\InsuranceService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'applicationRepository' defined in com.strahovka.repository.ApplicationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.Optional com.strahovka.repository.ApplicationRepository.findByIdAndType(java.lang.Long,java.lang.Class); Reason: Validation failed for query for method public abstract java.util.Optional com.strahovka.repository.ApplicationRepository.findByIdAndType(java.lang.Long,java.lang.Class)
2025-06-05 20:52:47 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'insuranceController' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\controller\InsuranceController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'insuranceService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\InsuranceService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'applicationRepository' defined in com.strahovka.repository.ApplicationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.Optional com.strahovka.repository.ApplicationRepository.findByIdAndType(java.lang.Long,java.lang.Class); Reason: Validation failed for query for method public abstract java.util.Optional com.strahovka.repository.ApplicationRepository.findByIdAndType(java.lang.Long,java.lang.Class)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:959)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'insuranceService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\InsuranceService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'applicationRepository' defined in com.strahovka.repository.ApplicationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.Optional com.strahovka.repository.ApplicationRepository.findByIdAndType(java.lang.Long,java.lang.Class); Reason: Validation failed for query for method public abstract java.util.Optional com.strahovka.repository.ApplicationRepository.findByIdAndType(java.lang.Long,java.lang.Class)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 19 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'applicationRepository' defined in com.strahovka.repository.ApplicationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.Optional com.strahovka.repository.ApplicationRepository.findByIdAndType(java.lang.Long,java.lang.Class); Reason: Validation failed for query for method public abstract java.util.Optional com.strahovka.repository.ApplicationRepository.findByIdAndType(java.lang.Long,java.lang.Class)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 33 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.Optional com.strahovka.repository.ApplicationRepository.findByIdAndType(java.lang.Long,java.lang.Class); Reason: Validation failed for query for method public abstract java.util.Optional com.strahovka.repository.ApplicationRepository.findByIdAndType(java.lang.Long,java.lang.Class)
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:115)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:88)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:88)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:357)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 44 common frames omitted
Caused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.Optional com.strahovka.repository.ApplicationRepository.findByIdAndType(java.lang.Long,java.lang.Class)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:100)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:70)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:60)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:170)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:252)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:95)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:111)
	... 56 common frames omitted
Caused by: java.lang.IllegalArgumentException: org.hibernate.query.sqm.UnknownEntityException: Could not resolve root entity 'BaseApplication'
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:143)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:167)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:173)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:848)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:753)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:136)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy2/jdk.proxy2.$Proxy169.createQuery(Unknown Source)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:94)
	... 62 common frames omitted
Caused by: org.hibernate.query.sqm.UnknownEntityException: Could not resolve root entity 'BaseApplication'
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.resolveRootEntity(SemanticQueryBuilder.java:2013)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitRootEntity(SemanticQueryBuilder.java:1944)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitRootEntity(SemanticQueryBuilder.java:269)
	at org.hibernate.grammars.hql.HqlParser$RootEntityContext.accept(HqlParser.java:2549)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitEntityWithJoins(SemanticQueryBuilder.java:1914)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitFromClause(SemanticQueryBuilder.java:1901)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuery(SemanticQueryBuilder.java:1148)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuerySpecExpression(SemanticQueryBuilder.java:941)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuerySpecExpression(SemanticQueryBuilder.java:269)
	at org.hibernate.grammars.hql.HqlParser$QuerySpecExpressionContext.accept(HqlParser.java:1869)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimpleQueryGroup(SemanticQueryBuilder.java:926)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimpleQueryGroup(SemanticQueryBuilder.java:269)
	at org.hibernate.grammars.hql.HqlParser$SimpleQueryGroupContext.accept(HqlParser.java:1740)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSelectStatement(SemanticQueryBuilder.java:443)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitStatement(SemanticQueryBuilder.java:402)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.buildSemanticModel(SemanticQueryBuilder.java:311)
	at org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:71)
	at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.createHqlInterpretation(QueryInterpretationCacheStandardImpl.java:165)
	at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.resolveHqlInterpretation(QueryInterpretationCacheStandardImpl.java:147)
	at org.hibernate.internal.AbstractSharedSessionContract.interpretHql(AbstractSharedSessionContract.java:790)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:840)
	... 69 common frames omitted
2025-06-05 20:53:34 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 24032 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 20:53:34 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 20:53:36 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 20:53:36 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 20:53:36 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-05 20:53:36 [main] WARN  o.h.boot.model.internal.EntityBinder - HHH000457: Joined inheritance hierarchy [com.strahovka.delivery.Insurance$BaseApplication] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)
2025-06-05 20:53:38 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'insuranceController' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\controller\InsuranceController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'insuranceService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\InsuranceService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'applicationRepository' defined in com.strahovka.repository.ApplicationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.strahovka.repository.ApplicationRepository.findByPolicyId(java.lang.Long); Reason: Validation failed for query for method public abstract java.util.List com.strahovka.repository.ApplicationRepository.findByPolicyId(java.lang.Long)
2025-06-05 20:53:38 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'insuranceController' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\controller\InsuranceController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'insuranceService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\InsuranceService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'applicationRepository' defined in com.strahovka.repository.ApplicationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.strahovka.repository.ApplicationRepository.findByPolicyId(java.lang.Long); Reason: Validation failed for query for method public abstract java.util.List com.strahovka.repository.ApplicationRepository.findByPolicyId(java.lang.Long)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:959)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'insuranceService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\InsuranceService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'applicationRepository' defined in com.strahovka.repository.ApplicationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.strahovka.repository.ApplicationRepository.findByPolicyId(java.lang.Long); Reason: Validation failed for query for method public abstract java.util.List com.strahovka.repository.ApplicationRepository.findByPolicyId(java.lang.Long)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 19 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'applicationRepository' defined in com.strahovka.repository.ApplicationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.strahovka.repository.ApplicationRepository.findByPolicyId(java.lang.Long); Reason: Validation failed for query for method public abstract java.util.List com.strahovka.repository.ApplicationRepository.findByPolicyId(java.lang.Long)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 33 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List com.strahovka.repository.ApplicationRepository.findByPolicyId(java.lang.Long); Reason: Validation failed for query for method public abstract java.util.List com.strahovka.repository.ApplicationRepository.findByPolicyId(java.lang.Long)
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:115)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:88)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:88)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:357)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 44 common frames omitted
Caused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List com.strahovka.repository.ApplicationRepository.findByPolicyId(java.lang.Long)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:100)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:70)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:60)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:170)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:252)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:95)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:111)
	... 56 common frames omitted
Caused by: java.lang.IllegalArgumentException: org.hibernate.query.sqm.UnknownPathException: Could not resolve attribute 'policy' of 'com.strahovka.delivery.Insurance$BaseApplication' [SELECT a FROM com.strahovka.delivery.Insurance$BaseApplication a WHERE a.policy.id = :policyId]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:143)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:167)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:173)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:848)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:753)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:136)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy2/jdk.proxy2.$Proxy169.createQuery(Unknown Source)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:94)
	... 62 common frames omitted
Caused by: org.hibernate.query.sqm.UnknownPathException: Could not resolve attribute 'policy' of 'com.strahovka.delivery.Insurance$BaseApplication' [SELECT a FROM com.strahovka.delivery.Insurance$BaseApplication a WHERE a.policy.id = :policyId]
	at org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:87)
	at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.createHqlInterpretation(QueryInterpretationCacheStandardImpl.java:165)
	at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.resolveHqlInterpretation(QueryInterpretationCacheStandardImpl.java:147)
	at org.hibernate.internal.AbstractSharedSessionContract.interpretHql(AbstractSharedSessionContract.java:790)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:840)
	... 69 common frames omitted
Caused by: org.hibernate.query.sqm.PathElementException: Could not resolve attribute 'policy' of 'com.strahovka.delivery.Insurance$BaseApplication'
	at org.hibernate.query.sqm.SqmPathSource.getSubPathSource(SqmPathSource.java:95)
	at org.hibernate.query.sqm.tree.domain.AbstractSqmPath.get(AbstractSqmPath.java:202)
	at org.hibernate.query.sqm.tree.domain.AbstractSqmFrom.resolvePathPart(AbstractSqmFrom.java:196)
	at org.hibernate.query.hql.internal.DomainPathPart.resolvePathPart(DomainPathPart.java:42)
	at org.hibernate.query.hql.internal.BasicDotIdentifierConsumer.consumeIdentifier(BasicDotIdentifierConsumer.java:91)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimplePath(SemanticQueryBuilder.java:5060)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitIndexedPathAccessFragment(SemanticQueryBuilder.java:5009)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitGeneralPathFragment(SemanticQueryBuilder.java:4984)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitGeneralPathExpression(SemanticQueryBuilder.java:1776)
	at org.hibernate.grammars.hql.HqlParser$GeneralPathExpressionContext.accept(HqlParser.java:7699)
	at org.antlr.v4.runtime.tree.AbstractParseTreeVisitor.visitChildren(AbstractParseTreeVisitor.java:46)
	at org.hibernate.grammars.hql.HqlParserBaseVisitor.visitBarePrimaryExpression(HqlParserBaseVisitor.java:756)
	at org.hibernate.grammars.hql.HqlParser$BarePrimaryExpressionContext.accept(HqlParser.java:7157)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.createComparisonPredicate(SemanticQueryBuilder.java:2429)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitComparisonPredicate(SemanticQueryBuilder.java:2392)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitComparisonPredicate(SemanticQueryBuilder.java:269)
	at org.hibernate.grammars.hql.HqlParser$ComparisonPredicateContext.accept(HqlParser.java:6164)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitWhereClause(SemanticQueryBuilder.java:2244)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitWhereClause(SemanticQueryBuilder.java:269)
	at org.hibernate.grammars.hql.HqlParser$WhereClauseContext.accept(HqlParser.java:5905)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuery(SemanticQueryBuilder.java:1159)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuerySpecExpression(SemanticQueryBuilder.java:941)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuerySpecExpression(SemanticQueryBuilder.java:269)
	at org.hibernate.grammars.hql.HqlParser$QuerySpecExpressionContext.accept(HqlParser.java:1869)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimpleQueryGroup(SemanticQueryBuilder.java:926)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimpleQueryGroup(SemanticQueryBuilder.java:269)
	at org.hibernate.grammars.hql.HqlParser$SimpleQueryGroupContext.accept(HqlParser.java:1740)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSelectStatement(SemanticQueryBuilder.java:443)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitStatement(SemanticQueryBuilder.java:402)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.buildSemanticModel(SemanticQueryBuilder.java:311)
	at org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:71)
	... 73 common frames omitted
2025-06-05 20:54:59 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 22008 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 20:54:59 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 20:55:01 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 20:55:01 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 20:55:02 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-05 20:55:02 [main] WARN  o.h.boot.model.internal.EntityBinder - HHH000457: Joined inheritance hierarchy [com.strahovka.delivery.Insurance$BaseApplication] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)
2025-06-05 20:55:04 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-05 20:55:04 [main] INFO  com.strahovka.StrahovkaApplication - Started StrahovkaApplication in 5.289 seconds (process running for 5.742)
2025-06-05 20:55:12 [http-nio-8081-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.strahovka.enums.UserLevel.PLATINUM] with root cause
java.lang.IllegalArgumentException: No enum constant com.strahovka.enums.UserLevel.PLATINUM
	at java.base/java.lang.Enum.valueOf(Enum.java:293)
	at org.hibernate.type.descriptor.java.EnumJavaType.fromName(EnumJavaType.java:239)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:107)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:33)
	at org.hibernate.type.descriptor.jdbc.VarcharJdbcType$2.doExtract(VarcharJdbcType.java:118)
	at org.hibernate.type.descriptor.jdbc.BasicExtractor.extract(BasicExtractor.java:44)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.getCurrentRowValue(JdbcValuesResultSetImpl.java:302)
	at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.getJdbcValue(RowProcessingStateStandardImpl.java:119)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.extractRawValue(BasicResultAssembler.java:52)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.assemble(BasicResultAssembler.java:59)
	at org.hibernate.sql.results.graph.DomainResultAssembler.assemble(DomainResultAssembler.java:33)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.extractConcreteTypeStateValues(AbstractEntityInitializer.java:1081)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntityInstance(AbstractEntityInitializer.java:838)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntity(AbstractEntityInitializer.java:813)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeInstance(AbstractEntityInitializer.java:799)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:188)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:145)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:117)
	at org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.load(SingleIdEntityLoaderStandardImpl.java:75)
	at org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:3748)
	at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3737)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:604)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromCacheOrDatasource(DefaultLoadEventListener.java:590)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:560)
	at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:544)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:207)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadWithRegularProxy(DefaultLoadEventListener.java:290)
	at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:242)
	at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:111)
	at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:68)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138)
	at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1222)
	at org.hibernate.internal.SessionImpl.internalLoad(SessionImpl.java:1068)
	at org.hibernate.sql.results.graph.entity.internal.EntitySelectFetchInitializer.initializeInstance(EntitySelectFetchInitializer.java:195)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:181)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$2(ConcreteSqmSelectQueryPlan.java:137)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:303)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:509)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:427)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at jdk.proxy2/jdk.proxy2.$Proxy188.findByActiveTrue(Unknown Source)
	at com.strahovka.service.InsuranceService.getPublicPackages(InsuranceService.java:770)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.strahovka.service.InsuranceService$$SpringCGLIB$$0.getPublicPackages(<generated>)
	at com.strahovka.controller.InsuranceController.getPublicPackages(InsuranceController.java:162)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:38)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 20:55:12 [http-nio-8081-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.strahovka.enums.UserLevel.PLATINUM] with root cause
java.lang.IllegalArgumentException: No enum constant com.strahovka.enums.UserLevel.PLATINUM
	at java.base/java.lang.Enum.valueOf(Enum.java:293)
	at org.hibernate.type.descriptor.java.EnumJavaType.fromName(EnumJavaType.java:239)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:107)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:33)
	at org.hibernate.type.descriptor.jdbc.VarcharJdbcType$2.doExtract(VarcharJdbcType.java:118)
	at org.hibernate.type.descriptor.jdbc.BasicExtractor.extract(BasicExtractor.java:44)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.getCurrentRowValue(JdbcValuesResultSetImpl.java:302)
	at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.getJdbcValue(RowProcessingStateStandardImpl.java:119)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.extractRawValue(BasicResultAssembler.java:52)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.assemble(BasicResultAssembler.java:59)
	at org.hibernate.sql.results.graph.DomainResultAssembler.assemble(DomainResultAssembler.java:33)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.extractConcreteTypeStateValues(AbstractEntityInitializer.java:1081)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntityInstance(AbstractEntityInitializer.java:838)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntity(AbstractEntityInitializer.java:813)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeInstance(AbstractEntityInitializer.java:799)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:188)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:145)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:117)
	at org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.load(SingleIdEntityLoaderStandardImpl.java:75)
	at org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:3748)
	at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3737)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:604)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromCacheOrDatasource(DefaultLoadEventListener.java:590)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:560)
	at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:544)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:207)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadWithRegularProxy(DefaultLoadEventListener.java:290)
	at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:242)
	at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:111)
	at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:68)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138)
	at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1222)
	at org.hibernate.internal.SessionImpl.internalLoad(SessionImpl.java:1068)
	at org.hibernate.sql.results.graph.entity.internal.EntitySelectFetchInitializer.initializeInstance(EntitySelectFetchInitializer.java:195)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:181)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$2(ConcreteSqmSelectQueryPlan.java:137)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:303)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:509)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:427)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at jdk.proxy2/jdk.proxy2.$Proxy188.findByActiveTrue(Unknown Source)
	at com.strahovka.service.InsuranceService.getPublicPackages(InsuranceService.java:770)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.strahovka.service.InsuranceService$$SpringCGLIB$$0.getPublicPackages(<generated>)
	at com.strahovka.controller.InsuranceController.getPublicPackages(InsuranceController.java:162)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:38)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 20:55:13 [http-nio-8081-exec-4] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.strahovka.enums.UserLevel.PLATINUM] with root cause
java.lang.IllegalArgumentException: No enum constant com.strahovka.enums.UserLevel.PLATINUM
	at java.base/java.lang.Enum.valueOf(Enum.java:293)
	at org.hibernate.type.descriptor.java.EnumJavaType.fromName(EnumJavaType.java:239)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:107)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:33)
	at org.hibernate.type.descriptor.jdbc.VarcharJdbcType$2.doExtract(VarcharJdbcType.java:118)
	at org.hibernate.type.descriptor.jdbc.BasicExtractor.extract(BasicExtractor.java:44)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.getCurrentRowValue(JdbcValuesResultSetImpl.java:302)
	at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.getJdbcValue(RowProcessingStateStandardImpl.java:119)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.extractRawValue(BasicResultAssembler.java:52)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.assemble(BasicResultAssembler.java:59)
	at org.hibernate.sql.results.graph.DomainResultAssembler.assemble(DomainResultAssembler.java:33)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.extractConcreteTypeStateValues(AbstractEntityInitializer.java:1081)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntityInstance(AbstractEntityInitializer.java:838)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntity(AbstractEntityInitializer.java:813)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeInstance(AbstractEntityInitializer.java:799)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:188)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:145)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:117)
	at org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.load(SingleIdEntityLoaderStandardImpl.java:75)
	at org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:3748)
	at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3737)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:604)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromCacheOrDatasource(DefaultLoadEventListener.java:590)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:560)
	at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:544)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:207)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadWithRegularProxy(DefaultLoadEventListener.java:290)
	at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:242)
	at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:111)
	at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:68)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138)
	at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1222)
	at org.hibernate.internal.SessionImpl.internalLoad(SessionImpl.java:1068)
	at org.hibernate.sql.results.graph.entity.internal.EntitySelectFetchInitializer.initializeInstance(EntitySelectFetchInitializer.java:195)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:181)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$2(ConcreteSqmSelectQueryPlan.java:137)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:303)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:509)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:427)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at jdk.proxy2/jdk.proxy2.$Proxy188.findByActiveTrue(Unknown Source)
	at com.strahovka.service.InsuranceService.getPublicPackages(InsuranceService.java:770)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.strahovka.service.InsuranceService$$SpringCGLIB$$0.getPublicPackages(<generated>)
	at com.strahovka.controller.InsuranceController.getPublicPackages(InsuranceController.java:162)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:38)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 20:55:13 [http-nio-8081-exec-5] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.strahovka.enums.UserLevel.PLATINUM] with root cause
java.lang.IllegalArgumentException: No enum constant com.strahovka.enums.UserLevel.PLATINUM
	at java.base/java.lang.Enum.valueOf(Enum.java:293)
	at org.hibernate.type.descriptor.java.EnumJavaType.fromName(EnumJavaType.java:239)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:107)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:33)
	at org.hibernate.type.descriptor.jdbc.VarcharJdbcType$2.doExtract(VarcharJdbcType.java:118)
	at org.hibernate.type.descriptor.jdbc.BasicExtractor.extract(BasicExtractor.java:44)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.getCurrentRowValue(JdbcValuesResultSetImpl.java:302)
	at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.getJdbcValue(RowProcessingStateStandardImpl.java:119)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.extractRawValue(BasicResultAssembler.java:52)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.assemble(BasicResultAssembler.java:59)
	at org.hibernate.sql.results.graph.DomainResultAssembler.assemble(DomainResultAssembler.java:33)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.extractConcreteTypeStateValues(AbstractEntityInitializer.java:1081)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntityInstance(AbstractEntityInitializer.java:838)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntity(AbstractEntityInitializer.java:813)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeInstance(AbstractEntityInitializer.java:799)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:188)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:145)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:117)
	at org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.load(SingleIdEntityLoaderStandardImpl.java:75)
	at org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:3748)
	at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3737)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:604)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromCacheOrDatasource(DefaultLoadEventListener.java:590)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:560)
	at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:544)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:207)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadWithRegularProxy(DefaultLoadEventListener.java:290)
	at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:242)
	at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:111)
	at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:68)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138)
	at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1222)
	at org.hibernate.internal.SessionImpl.internalLoad(SessionImpl.java:1068)
	at org.hibernate.sql.results.graph.entity.internal.EntitySelectFetchInitializer.initializeInstance(EntitySelectFetchInitializer.java:195)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:181)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$2(ConcreteSqmSelectQueryPlan.java:137)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:303)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:509)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:427)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at jdk.proxy2/jdk.proxy2.$Proxy188.findByActiveTrue(Unknown Source)
	at com.strahovka.service.InsuranceService.getPublicPackages(InsuranceService.java:770)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.strahovka.service.InsuranceService$$SpringCGLIB$$0.getPublicPackages(<generated>)
	at com.strahovka.controller.InsuranceController.getPublicPackages(InsuranceController.java:162)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:38)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 20:55:16 [http-nio-8081-exec-6] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.RuntimeException: User not found] with root cause
java.lang.RuntimeException: User not found
	at com.strahovka.service.AuthService.lambda$login$0(AuthService.java:24)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.strahovka.service.AuthService.login(AuthService.java:24)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.strahovka.service.AuthService$$SpringCGLIB$$0.login(<generated>)
	at com.strahovka.controller.AuthController.login(AuthController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:38)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 20:55:26 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 14308 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 20:55:26 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 20:55:28 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 20:55:28 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 20:55:28 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-05 20:55:29 [main] WARN  o.h.boot.model.internal.EntityBinder - HHH000457: Joined inheritance hierarchy [com.strahovka.delivery.Insurance$BaseApplication] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)
2025-06-05 20:55:31 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-05 20:55:31 [main] INFO  com.strahovka.StrahovkaApplication - Started StrahovkaApplication in 5.351 seconds (process running for 5.801)
2025-06-05 20:55:51 [http-nio-8081-exec-8] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: No enum constant com.strahovka.enums.UserLevel.PLATINUM]
2025-06-05 20:55:51 [http-nio-8081-exec-7] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.strahovka.enums.UserLevel.PLATINUM] with root cause
java.lang.IllegalArgumentException: No enum constant com.strahovka.enums.UserLevel.PLATINUM
	at java.base/java.lang.Enum.valueOf(Enum.java:293)
	at org.hibernate.type.descriptor.java.EnumJavaType.fromName(EnumJavaType.java:239)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:107)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:33)
	at org.hibernate.type.descriptor.jdbc.VarcharJdbcType$2.doExtract(VarcharJdbcType.java:118)
	at org.hibernate.type.descriptor.jdbc.BasicExtractor.extract(BasicExtractor.java:44)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.getCurrentRowValue(JdbcValuesResultSetImpl.java:302)
	at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.getJdbcValue(RowProcessingStateStandardImpl.java:119)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.extractRawValue(BasicResultAssembler.java:52)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.assemble(BasicResultAssembler.java:59)
	at org.hibernate.sql.results.graph.DomainResultAssembler.assemble(DomainResultAssembler.java:33)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.extractConcreteTypeStateValues(AbstractEntityInitializer.java:1081)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntityInstance(AbstractEntityInitializer.java:838)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntity(AbstractEntityInitializer.java:813)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeInstance(AbstractEntityInitializer.java:799)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:188)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:145)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:117)
	at org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.load(SingleIdEntityLoaderStandardImpl.java:75)
	at org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:3748)
	at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3737)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:604)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromCacheOrDatasource(DefaultLoadEventListener.java:590)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:560)
	at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:544)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:207)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadWithRegularProxy(DefaultLoadEventListener.java:290)
	at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:242)
	at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:111)
	at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:68)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138)
	at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1222)
	at org.hibernate.internal.SessionImpl.internalLoad(SessionImpl.java:1068)
	at org.hibernate.sql.results.graph.entity.internal.EntitySelectFetchInitializer.initializeInstance(EntitySelectFetchInitializer.java:195)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:181)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$2(ConcreteSqmSelectQueryPlan.java:137)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:303)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:509)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:427)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at jdk.proxy2/jdk.proxy2.$Proxy188.findByActiveTrue(Unknown Source)
	at com.strahovka.service.InsuranceService.getPublicPackages(InsuranceService.java:770)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.strahovka.service.InsuranceService$$SpringCGLIB$$0.getPublicPackages(<generated>)
	at com.strahovka.controller.InsuranceController.getPublicPackages(InsuranceController.java:162)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 20:55:51 [http-nio-8081-exec-9] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: No enum constant com.strahovka.enums.UserLevel.PLATINUM]
2025-06-05 20:55:51 [http-nio-8081-exec-10] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.strahovka.enums.UserLevel.PLATINUM] with root cause
java.lang.IllegalArgumentException: No enum constant com.strahovka.enums.UserLevel.PLATINUM
	at java.base/java.lang.Enum.valueOf(Enum.java:293)
	at org.hibernate.type.descriptor.java.EnumJavaType.fromName(EnumJavaType.java:239)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:107)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:33)
	at org.hibernate.type.descriptor.jdbc.VarcharJdbcType$2.doExtract(VarcharJdbcType.java:118)
	at org.hibernate.type.descriptor.jdbc.BasicExtractor.extract(BasicExtractor.java:44)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.getCurrentRowValue(JdbcValuesResultSetImpl.java:302)
	at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.getJdbcValue(RowProcessingStateStandardImpl.java:119)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.extractRawValue(BasicResultAssembler.java:52)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.assemble(BasicResultAssembler.java:59)
	at org.hibernate.sql.results.graph.DomainResultAssembler.assemble(DomainResultAssembler.java:33)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.extractConcreteTypeStateValues(AbstractEntityInitializer.java:1081)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntityInstance(AbstractEntityInitializer.java:838)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntity(AbstractEntityInitializer.java:813)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeInstance(AbstractEntityInitializer.java:799)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:188)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:145)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:117)
	at org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.load(SingleIdEntityLoaderStandardImpl.java:75)
	at org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:3748)
	at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3737)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:604)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromCacheOrDatasource(DefaultLoadEventListener.java:590)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:560)
	at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:544)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:207)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadWithRegularProxy(DefaultLoadEventListener.java:290)
	at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:242)
	at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:111)
	at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:68)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138)
	at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1222)
	at org.hibernate.internal.SessionImpl.internalLoad(SessionImpl.java:1068)
	at org.hibernate.sql.results.graph.entity.internal.EntitySelectFetchInitializer.initializeInstance(EntitySelectFetchInitializer.java:195)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:181)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$2(ConcreteSqmSelectQueryPlan.java:137)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:303)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:509)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:427)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at jdk.proxy2/jdk.proxy2.$Proxy188.findByActiveTrue(Unknown Source)
	at com.strahovka.service.InsuranceService.getPublicPackages(InsuranceService.java:770)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.strahovka.service.InsuranceService$$SpringCGLIB$$0.getPublicPackages(<generated>)
	at com.strahovka.controller.InsuranceController.getPublicPackages(InsuranceController.java:162)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 20:55:57 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe0@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 20:55:57 [http-nio-8081-exec-3] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe0@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 20:56:37 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 23872 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 20:56:37 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 20:56:39 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 20:56:39 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-06-05 20:56:39 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 20:56:39 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/sun.nio.ch.Net.poll(Native Method)
 java.base/sun.nio.ch.NioSocketImpl.park(NioSocketImpl.java:191)
 java.base/sun.nio.ch.NioSocketImpl.park(NioSocketImpl.java:201)
 java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)
 java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:346)
 java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:796)
 java.base/java.net.Socket$SocketInputStream.implRead(Socket.java:1116)
 java.base/java.net.Socket$SocketInputStream.read(Socket.java:1103)
 org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)
 org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)
 org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)
 org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)
 org.postgresql.core.PGStream.receiveChar(PGStream.java:465)
 org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:678)
 org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:203)
 org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
 org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
 org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
 org.postgresql.Driver.makeConnection(Driver.java:443)
 org.postgresql.Driver.connect(Driver.java:297)
 com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
 com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
 com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
 com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
 java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 20:56:39 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-05 20:56:39 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Found more than one migration with version 19
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V19__consolidated_insurance_guides.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V19__add_active_column_to_insurance_guides.sql (SQL)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 94 common frames omitted
Caused by: org.flywaydb.core.api.FlywayException: Found more than one migration with version 19
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V19__consolidated_insurance_guides.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V19__add_active_column_to_insurance_guides.sql (SQL)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.checkForIncompatibilities(CompositeMigrationResolver.java:87)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.doFindAvailableMigrations(CompositeMigrationResolver.java:120)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:107)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:113)
	at org.flywaydb.core.internal.info.MigrationInfoServiceImpl.refresh(MigrationInfoServiceImpl.java:79)
	at org.flywaydb.core.internal.command.DbValidate.lambda$validate$0(DbValidate.java:108)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbValidate.validate(DbValidate.java:101)
	at org.flywaydb.core.Flyway.doValidate(Flyway.java:400)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:144)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 103 common frames omitted
2025-06-05 20:57:56 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 24420 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 20:57:56 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 20:57:57 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 20:57:57 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-06-05 20:57:57 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 20:57:57 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/java.util.Arrays.fill(Arrays.java:3181)
 java.base/sun.security.provider.SHA2.implReset(SHA2.java:97)
 java.base/sun.security.provider.DigestBase.engineReset(DigestBase.java:175)
 java.base/sun.security.provider.DigestBase.engineUpdate(DigestBase.java:111)
 java.base/java.security.MessageDigest$Delegate.engineUpdate(MessageDigest.java:655)
 java.base/java.security.MessageDigest.update(MessageDigest.java:357)
 java.base/com.sun.crypto.provider.HmacCore.engineUpdate(HmacCore.java:193)
 java.base/javax.crypto.Mac.update(Mac.java:503)
 java.base/com.sun.crypto.provider.PBKDF2KeyImpl.deriveKey(PBKDF2KeyImpl.java:200)
 java.base/com.sun.crypto.provider.PBKDF2KeyImpl.<init>(PBKDF2KeyImpl.java:115)
 java.base/com.sun.crypto.provider.PBKDF2Core.engineGenerateSecret(PBKDF2Core.java:68)
 java.base/javax.crypto.SecretKeyFactory.generateSecret(SecretKeyFactory.java:337)
 org.postgresql.shaded.com.ongres.scram.common.util.CryptoUtil.hi(CryptoUtil.java:120)
 org.postgresql.shaded.com.ongres.scram.common.ScramMechanisms.saltedPassword(ScramMechanisms.java:154)
 org.postgresql.shaded.com.ongres.scram.common.ScramFunctions.saltedPassword(ScramFunctions.java:59)
 org.postgresql.shaded.com.ongres.scram.client.ScramSession$ClientFinalProcessor.<init>(ScramSession.java:196)
 org.postgresql.shaded.com.ongres.scram.client.ScramSession$ClientFinalProcessor.<init>(ScramSession.java:163)
 org.postgresql.shaded.com.ongres.scram.client.ScramSession$ServerFirstProcessor.clientFinalProcessor(ScramSession.java:130)
 org.postgresql.jre7.sasl.ScramAuthenticator.processServerFirstMessage(ScramAuthenticator.java:147)
 org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:863)
 org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:203)
 org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
 org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
 org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
 org.postgresql.Driver.makeConnection(Driver.java:443)
 org.postgresql.Driver.connect(Driver.java:297)
 com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
 com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
 com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
 com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
 java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 20:57:57 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-05 20:57:57 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Found more than one migration with version 28
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V28__add_cancelled_at_to_insurance_policies.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V28__consolidated_insurance_policies.sql (SQL)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 94 common frames omitted
Caused by: org.flywaydb.core.api.FlywayException: Found more than one migration with version 28
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V28__add_cancelled_at_to_insurance_policies.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V28__consolidated_insurance_policies.sql (SQL)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.checkForIncompatibilities(CompositeMigrationResolver.java:87)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.doFindAvailableMigrations(CompositeMigrationResolver.java:120)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:107)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:113)
	at org.flywaydb.core.internal.info.MigrationInfoServiceImpl.refresh(MigrationInfoServiceImpl.java:79)
	at org.flywaydb.core.internal.command.DbValidate.lambda$validate$0(DbValidate.java:108)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbValidate.validate(DbValidate.java:101)
	at org.flywaydb.core.Flyway.doValidate(Flyway.java:400)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:144)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 103 common frames omitted
2025-06-05 20:58:16 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 8120 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 20:58:16 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 20:58:18 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 20:58:18 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-06-05 20:58:18 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 20:58:18 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/sun.nio.ch.Net.poll(Native Method)
 java.base/sun.nio.ch.NioSocketImpl.park(NioSocketImpl.java:191)
 java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:280)
 java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:304)
 java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:346)
 java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:796)
 java.base/java.net.Socket$SocketInputStream.implRead(Socket.java:1116)
 java.base/java.net.Socket$SocketInputStream.read(Socket.java:1103)
 org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)
 org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)
 org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)
 org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)
 org.postgresql.core.PGStream.receiveChar(PGStream.java:465)
 org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:589)
 org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:191)
 org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
 org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
 org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
 org.postgresql.Driver.makeConnection(Driver.java:443)
 org.postgresql.Driver.connect(Driver.java:297)
 com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
 com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
 com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
 com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
 java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 20:58:18 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-05 20:58:18 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Found more than one migration with version 28
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V28__consolidated_insurance_policies.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V28__add_cancelled_at_to_insurance_policies.sql (SQL)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 94 common frames omitted
Caused by: org.flywaydb.core.api.FlywayException: Found more than one migration with version 28
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V28__consolidated_insurance_policies.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V28__add_cancelled_at_to_insurance_policies.sql (SQL)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.checkForIncompatibilities(CompositeMigrationResolver.java:87)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.doFindAvailableMigrations(CompositeMigrationResolver.java:120)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:107)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:113)
	at org.flywaydb.core.internal.info.MigrationInfoServiceImpl.refresh(MigrationInfoServiceImpl.java:79)
	at org.flywaydb.core.internal.command.DbValidate.lambda$validate$0(DbValidate.java:108)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbValidate.validate(DbValidate.java:101)
	at org.flywaydb.core.Flyway.doValidate(Flyway.java:400)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:144)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 103 common frames omitted
2025-06-05 20:59:01 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 20664 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 20:59:01 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 20:59:03 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 20:59:03 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-06-05 20:59:03 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 20:59:03 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/sun.nio.ch.Net.poll(Native Method)
 java.base/sun.nio.ch.NioSocketImpl.park(NioSocketImpl.java:191)
 java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:280)
 java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:304)
 java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:346)
 java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:796)
 java.base/java.net.Socket$SocketInputStream.implRead(Socket.java:1116)
 java.base/java.net.Socket$SocketInputStream.read(Socket.java:1103)
 org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)
 org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)
 org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)
 org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)
 org.postgresql.core.PGStream.receiveChar(PGStream.java:465)
 org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:589)
 org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:191)
 org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
 org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
 org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
 org.postgresql.Driver.makeConnection(Driver.java:443)
 org.postgresql.Driver.connect(Driver.java:297)
 com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
 com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
 com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
 com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
 java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 20:59:03 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-05 20:59:03 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Found more than one migration with version 34
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V34__consolidated_osago_applications.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V34__add_duration_months_to_osago_applications.sql (SQL)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 94 common frames omitted
Caused by: org.flywaydb.core.api.FlywayException: Found more than one migration with version 34
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V34__consolidated_osago_applications.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V34__add_duration_months_to_osago_applications.sql (SQL)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.checkForIncompatibilities(CompositeMigrationResolver.java:87)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.doFindAvailableMigrations(CompositeMigrationResolver.java:120)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:107)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:113)
	at org.flywaydb.core.internal.info.MigrationInfoServiceImpl.refresh(MigrationInfoServiceImpl.java:79)
	at org.flywaydb.core.internal.command.DbValidate.lambda$validate$0(DbValidate.java:108)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbValidate.validate(DbValidate.java:101)
	at org.flywaydb.core.Flyway.doValidate(Flyway.java:400)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:144)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 103 common frames omitted
2025-06-05 21:00:21 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 8064 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 21:00:21 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 21:00:23 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 21:00:23 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-06-05 21:00:23 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 21:00:23 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/sun.security.provider.SHA2.implCompress0(SHA2.java:160)
 java.base/sun.security.provider.SHA2.implCompress(SHA2.java:135)
 java.base/sun.security.provider.SHA2.implDigest(SHA2.java:114)
 java.base/sun.security.provider.DigestBase.engineDigest(DigestBase.java:205)
 java.base/java.security.MessageDigest$Delegate.engineDigest(MessageDigest.java:681)
 java.base/java.security.MessageDigest.digest(MessageDigest.java:414)
 java.base/com.sun.crypto.provider.HmacCore.engineDoFinal(HmacCore.java:240)
 java.base/javax.crypto.Mac.doFinal(Mac.java:580)
 java.base/javax.crypto.Mac.doFinal(Mac.java:623)
 java.base/com.sun.crypto.provider.PBKDF2KeyImpl.deriveKey(PBKDF2KeyImpl.java:201)
 java.base/com.sun.crypto.provider.PBKDF2KeyImpl.<init>(PBKDF2KeyImpl.java:115)
 java.base/com.sun.crypto.provider.PBKDF2Core.engineGenerateSecret(PBKDF2Core.java:68)
 java.base/javax.crypto.SecretKeyFactory.generateSecret(SecretKeyFactory.java:337)
 org.postgresql.shaded.com.ongres.scram.common.util.CryptoUtil.hi(CryptoUtil.java:120)
 org.postgresql.shaded.com.ongres.scram.common.ScramMechanisms.saltedPassword(ScramMechanisms.java:154)
 org.postgresql.shaded.com.ongres.scram.common.ScramFunctions.saltedPassword(ScramFunctions.java:59)
 org.postgresql.shaded.com.ongres.scram.client.ScramSession$ClientFinalProcessor.<init>(ScramSession.java:196)
 org.postgresql.shaded.com.ongres.scram.client.ScramSession$ClientFinalProcessor.<init>(ScramSession.java:163)
 org.postgresql.shaded.com.ongres.scram.client.ScramSession$ServerFirstProcessor.clientFinalProcessor(ScramSession.java:130)
 org.postgresql.jre7.sasl.ScramAuthenticator.processServerFirstMessage(ScramAuthenticator.java:147)
 org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:863)
 org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:203)
 org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
 org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
 org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
 org.postgresql.Driver.makeConnection(Driver.java:443)
 org.postgresql.Driver.connect(Driver.java:297)
 com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
 com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
 com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
 com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
 java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 21:00:23 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-05 21:00:23 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Found more than one migration with version 42
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V42__add_cadastral_number_to_property_applications.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V42__consolidated_property_applications.sql (SQL)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 94 common frames omitted
Caused by: org.flywaydb.core.api.FlywayException: Found more than one migration with version 42
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V42__add_cadastral_number_to_property_applications.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V42__consolidated_property_applications.sql (SQL)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.checkForIncompatibilities(CompositeMigrationResolver.java:87)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.doFindAvailableMigrations(CompositeMigrationResolver.java:120)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:107)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:113)
	at org.flywaydb.core.internal.info.MigrationInfoServiceImpl.refresh(MigrationInfoServiceImpl.java:79)
	at org.flywaydb.core.internal.command.DbValidate.lambda$validate$0(DbValidate.java:108)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbValidate.validate(DbValidate.java:101)
	at org.flywaydb.core.Flyway.doValidate(Flyway.java:400)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:144)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 103 common frames omitted
2025-06-05 21:01:27 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 8440 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 21:01:27 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 21:01:29 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 21:01:29 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-06-05 21:01:29 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 21:01:29 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/java.lang.Thread.sleepNanos0(Native Method)
 java.base/java.lang.Thread.sleepNanos(Thread.java:496)
 java.base/java.lang.Thread.sleep(Thread.java:527)
 com.zaxxer.hikari.util.UtilityElf.quietlySleep(UtilityElf.java:53)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:745)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
 java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 21:01:29 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-05 21:01:29 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Found more than one migration with version 55
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V55__consolidated_travel_applications.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V55__add_cover_accidents_to_travel_applications.sql (SQL)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 94 common frames omitted
Caused by: org.flywaydb.core.api.FlywayException: Found more than one migration with version 55
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V55__consolidated_travel_applications.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V55__add_cover_accidents_to_travel_applications.sql (SQL)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.checkForIncompatibilities(CompositeMigrationResolver.java:87)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.doFindAvailableMigrations(CompositeMigrationResolver.java:120)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:107)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:113)
	at org.flywaydb.core.internal.info.MigrationInfoServiceImpl.refresh(MigrationInfoServiceImpl.java:79)
	at org.flywaydb.core.internal.command.DbValidate.lambda$validate$0(DbValidate.java:108)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbValidate.validate(DbValidate.java:101)
	at org.flywaydb.core.Flyway.doValidate(Flyway.java:400)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:144)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 103 common frames omitted
2025-06-05 21:03:22 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 20464 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 21:03:22 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 21:03:24 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 21:03:24 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-06-05 21:03:24 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 21:03:24 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/sun.nio.ch.Net.poll(Native Method)
 java.base/sun.nio.ch.NioSocketImpl.park(NioSocketImpl.java:191)
 java.base/sun.nio.ch.NioSocketImpl.park(NioSocketImpl.java:201)
 java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)
 java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:346)
 java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:796)
 java.base/java.net.Socket$SocketInputStream.implRead(Socket.java:1116)
 java.base/java.net.Socket$SocketInputStream.read(Socket.java:1103)
 org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)
 org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)
 org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)
 org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)
 org.postgresql.core.PGStream.receiveChar(PGStream.java:465)
 org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:678)
 org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:203)
 org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
 org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
 org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
 org.postgresql.Driver.makeConnection(Driver.java:443)
 org.postgresql.Driver.connect(Driver.java:297)
 com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
 com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
 com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
 com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
 java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 21:03:24 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-05 21:03:24 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Found more than one migration with version 98
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V98__consolidated_status_changes.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V98__remove_duplicate_status_column.sql (SQL)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 94 common frames omitted
Caused by: org.flywaydb.core.api.FlywayException: Found more than one migration with version 98
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V98__consolidated_status_changes.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V98__remove_duplicate_status_column.sql (SQL)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.checkForIncompatibilities(CompositeMigrationResolver.java:87)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.doFindAvailableMigrations(CompositeMigrationResolver.java:120)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:107)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:113)
	at org.flywaydb.core.internal.info.MigrationInfoServiceImpl.refresh(MigrationInfoServiceImpl.java:79)
	at org.flywaydb.core.internal.command.DbValidate.lambda$validate$0(DbValidate.java:108)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbValidate.validate(DbValidate.java:101)
	at org.flywaydb.core.Flyway.doValidate(Flyway.java:400)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:144)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 103 common frames omitted
2025-06-05 21:04:32 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 10104 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 21:04:32 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 21:04:34 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 21:04:34 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 21:04:34 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "family_doctor_needed" отношения "health_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:04:34 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "status" отношения "base_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:04:34 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "cover_accidents" отношения "travel_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:04:34 [main] ERROR o.f.core.internal.command.DbMigrate - Migration of schema "public" to version "117 - remove duplicate status column" failed! Changes successfully rolled back.
2025-06-05 21:04:34 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-06-05 21:04:34 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 21:04:34 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/sun.nio.ch.Net.poll(Native Method)
 java.base/sun.nio.ch.NioSocketImpl.park(NioSocketImpl.java:191)
 java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:280)
 java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:304)
 java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:346)
 java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:796)
 java.base/java.net.Socket$SocketInputStream.implRead(Socket.java:1116)
 java.base/java.net.Socket$SocketInputStream.read(Socket.java:1103)
 org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)
 org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)
 org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)
 org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)
 org.postgresql.core.PGStream.receiveChar(PGStream.java:465)
 org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:589)
 org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:191)
 org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
 org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
 org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
 org.postgresql.Driver.makeConnection(Driver.java:443)
 org.postgresql.Driver.connect(Driver.java:297)
 com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
 com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
 com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
 com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
 java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 21:04:34 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-05 21:04:34 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V117__remove_duplicate_status_column.sql failed
---------------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ОШИБКА: столбец ha.status не существует
  Подсказка: Возможно, предполагалась ссылка на столбец "ba.status".
  Позиция: 135
Location   : db/migration/V117__remove_duplicate_status_column.sql (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V117__remove_duplicate_status_column.sql)
Line       : 2
Statement  : -- First, migrate any existing status values from health_applications to base_applications
UPDATE base_applications ba
SET status = ha.status
FROM health_applications ha
WHERE ba.id = ha.id AND ba.status IS NULL

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 94 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V117__remove_duplicate_status_column.sql failed
---------------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ОШИБКА: столбец ha.status не существует
  Подсказка: Возможно, предполагалась ссылка на столбец "ba.status".
  Позиция: 135
Location   : db/migration/V117__remove_duplicate_status_column.sql (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V117__remove_duplicate_status_column.sql)
Line       : 2
Statement  : -- First, migrate any existing status values from health_applications to base_applications
UPDATE base_applications ba
SET status = ha.status
FROM health_applications ha
WHERE ba.id = ha.id AND ba.status IS NULL

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 103 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V117__remove_duplicate_status_column.sql failed
---------------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ОШИБКА: столбец ha.status не существует
  Подсказка: Возможно, предполагалась ссылка на столбец "ba.status".
  Позиция: 135
Location   : db/migration/V117__remove_duplicate_status_column.sql (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V117__remove_duplicate_status_column.sql)
Line       : 2
Statement  : -- First, migrate any existing status values from health_applications to base_applications
UPDATE base_applications ba
SET status = ha.status
FROM health_applications ha
WHERE ba.id = ha.id AND ba.status IS NULL

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 122 common frames omitted
Caused by: org.postgresql.util.PSQLException: ОШИБКА: столбец ha.status не существует
  Подсказка: Возможно, предполагалась ссылка на столбец "ba.status".
  Позиция: 135
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 128 common frames omitted
2025-06-05 21:07:20 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 17288 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 21:07:20 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 21:07:21 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 21:07:21 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 21:07:22 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-05 21:07:22 [main] WARN  o.h.boot.model.internal.EntityBinder - HHH000457: Joined inheritance hierarchy [com.strahovka.delivery.Insurance$BaseApplication] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)
2025-06-05 21:07:24 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-05 21:07:25 [main] INFO  com.strahovka.StrahovkaApplication - Started StrahovkaApplication in 5.302 seconds (process running for 5.767)
2025-06-05 21:07:30 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNTAsImV4cCI6MTc0OTIyOTY1MH0.6QAtJTe5lpG5t0jnDCLIHSUr2ck7l7zQ-mGoIT06RT6Johe3GnZ7CjOe0JfR-yH3OA28PvKit55Z7y9Zdq6zGw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNTAsImV4cCI6MTc0OTc0ODA1MH0.FZ0tiLM4AKzb7w9puMEnFfFQrSdgHxPtkBx8kBRjHqei5NG0EDzR_l1pQdwGJCU5EaveDFIF_3AVk0CuhW_BjA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:30 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNTAsImV4cCI6MTc0OTIyOTY1MH0.6QAtJTe5lpG5t0jnDCLIHSUr2ck7l7zQ-mGoIT06RT6Johe3GnZ7CjOe0JfR-yH3OA28PvKit55Z7y9Zdq6zGw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNTAsImV4cCI6MTc0OTc0ODA1MH0.FZ0tiLM4AKzb7w9puMEnFfFQrSdgHxPtkBx8kBRjHqei5NG0EDzR_l1pQdwGJCU5EaveDFIF_3AVk0CuhW_BjA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:30 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNTAsImV4cCI6MTc0OTIyOTY1MH0.6QAtJTe5lpG5t0jnDCLIHSUr2ck7l7zQ-mGoIT06RT6Johe3GnZ7CjOe0JfR-yH3OA28PvKit55Z7y9Zdq6zGw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNTAsImV4cCI6MTc0OTc0ODA1MH0.FZ0tiLM4AKzb7w9puMEnFfFQrSdgHxPtkBx8kBRjHqei5NG0EDzR_l1pQdwGJCU5EaveDFIF_3AVk0CuhW_BjA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:30 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNTAsImV4cCI6MTc0OTIyOTY1MH0.6QAtJTe5lpG5t0jnDCLIHSUr2ck7l7zQ-mGoIT06RT6Johe3GnZ7CjOe0JfR-yH3OA28PvKit55Z7y9Zdq6zGw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNTAsImV4cCI6MTc0OTc0ODA1MH0.FZ0tiLM4AKzb7w9puMEnFfFQrSdgHxPtkBx8kBRjHqei5NG0EDzR_l1pQdwGJCU5EaveDFIF_3AVk0CuhW_BjA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:30 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe0@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 21:07:30 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNTAsImV4cCI6MTc0OTIyOTY1MH0.6QAtJTe5lpG5t0jnDCLIHSUr2ck7l7zQ-mGoIT06RT6Johe3GnZ7CjOe0JfR-yH3OA28PvKit55Z7y9Zdq6zGw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNTAsImV4cCI6MTc0OTc0ODA1MH0.FZ0tiLM4AKzb7w9puMEnFfFQrSdgHxPtkBx8kBRjHqei5NG0EDzR_l1pQdwGJCU5EaveDFIF_3AVk0CuhW_BjA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:30 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNTAsImV4cCI6MTc0OTIyOTY1MH0.6QAtJTe5lpG5t0jnDCLIHSUr2ck7l7zQ-mGoIT06RT6Johe3GnZ7CjOe0JfR-yH3OA28PvKit55Z7y9Zdq6zGw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNTAsImV4cCI6MTc0OTc0ODA1MH0.FZ0tiLM4AKzb7w9puMEnFfFQrSdgHxPtkBx8kBRjHqei5NG0EDzR_l1pQdwGJCU5EaveDFIF_3AVk0CuhW_BjA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:30 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNTAsImV4cCI6MTc0OTIyOTY1MH0.6QAtJTe5lpG5t0jnDCLIHSUr2ck7l7zQ-mGoIT06RT6Johe3GnZ7CjOe0JfR-yH3OA28PvKit55Z7y9Zdq6zGw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNTAsImV4cCI6MTc0OTc0ODA1MH0.FZ0tiLM4AKzb7w9puMEnFfFQrSdgHxPtkBx8kBRjHqei5NG0EDzR_l1pQdwGJCU5EaveDFIF_3AVk0CuhW_BjA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:30 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNTAsImV4cCI6MTc0OTIyOTY1MH0.6QAtJTe5lpG5t0jnDCLIHSUr2ck7l7zQ-mGoIT06RT6Johe3GnZ7CjOe0JfR-yH3OA28PvKit55Z7y9Zdq6zGw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNTAsImV4cCI6MTc0OTc0ODA1MH0.FZ0tiLM4AKzb7w9puMEnFfFQrSdgHxPtkBx8kBRjHqei5NG0EDzR_l1pQdwGJCU5EaveDFIF_3AVk0CuhW_BjA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:31 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNTAsImV4cCI6MTc0OTIyOTY1MH0.6QAtJTe5lpG5t0jnDCLIHSUr2ck7l7zQ-mGoIT06RT6Johe3GnZ7CjOe0JfR-yH3OA28PvKit55Z7y9Zdq6zGw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNTAsImV4cCI6MTc0OTc0ODA1MH0.FZ0tiLM4AKzb7w9puMEnFfFQrSdgHxPtkBx8kBRjHqei5NG0EDzR_l1pQdwGJCU5EaveDFIF_3AVk0CuhW_BjA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:31 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNTAsImV4cCI6MTc0OTIyOTY1MH0.6QAtJTe5lpG5t0jnDCLIHSUr2ck7l7zQ-mGoIT06RT6Johe3GnZ7CjOe0JfR-yH3OA28PvKit55Z7y9Zdq6zGw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNTAsImV4cCI6MTc0OTc0ODA1MH0.FZ0tiLM4AKzb7w9puMEnFfFQrSdgHxPtkBx8kBRjHqei5NG0EDzR_l1pQdwGJCU5EaveDFIF_3AVk0CuhW_BjA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:31 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe0@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 21:07:33 [http-nio-8081-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.strahovka.enums.UserLevel.PLATINUM] with root cause
java.lang.IllegalArgumentException: No enum constant com.strahovka.enums.UserLevel.PLATINUM
	at java.base/java.lang.Enum.valueOf(Enum.java:293)
	at org.hibernate.type.descriptor.java.EnumJavaType.fromName(EnumJavaType.java:239)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:107)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:33)
	at org.hibernate.type.descriptor.jdbc.VarcharJdbcType$2.doExtract(VarcharJdbcType.java:118)
	at org.hibernate.type.descriptor.jdbc.BasicExtractor.extract(BasicExtractor.java:44)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.getCurrentRowValue(JdbcValuesResultSetImpl.java:302)
	at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.getJdbcValue(RowProcessingStateStandardImpl.java:119)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.extractRawValue(BasicResultAssembler.java:52)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.assemble(BasicResultAssembler.java:59)
	at org.hibernate.sql.results.graph.DomainResultAssembler.assemble(DomainResultAssembler.java:33)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.extractConcreteTypeStateValues(AbstractEntityInitializer.java:1081)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntityInstance(AbstractEntityInitializer.java:838)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntity(AbstractEntityInitializer.java:813)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeInstance(AbstractEntityInitializer.java:799)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:188)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:145)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:117)
	at org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.load(SingleIdEntityLoaderStandardImpl.java:75)
	at org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:3748)
	at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3737)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:604)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromCacheOrDatasource(DefaultLoadEventListener.java:590)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:560)
	at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:544)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:207)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadWithRegularProxy(DefaultLoadEventListener.java:290)
	at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:242)
	at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:111)
	at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:68)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138)
	at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1222)
	at org.hibernate.internal.SessionImpl.internalLoad(SessionImpl.java:1068)
	at org.hibernate.sql.results.graph.entity.internal.EntitySelectFetchInitializer.initializeInstance(EntitySelectFetchInitializer.java:195)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:181)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$2(ConcreteSqmSelectQueryPlan.java:137)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:303)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:509)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:427)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at jdk.proxy2/jdk.proxy2.$Proxy188.findByActiveTrue(Unknown Source)
	at com.strahovka.service.InsuranceService.getPublicPackages(InsuranceService.java:768)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.strahovka.service.InsuranceService$$SpringCGLIB$$0.getPublicPackages(<generated>)
	at com.strahovka.controller.InsuranceController.getPublicPackages(InsuranceController.java:167)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:38)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 21:07:33 [http-nio-8081-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.strahovka.enums.UserLevel.PLATINUM] with root cause
java.lang.IllegalArgumentException: No enum constant com.strahovka.enums.UserLevel.PLATINUM
	at java.base/java.lang.Enum.valueOf(Enum.java:293)
	at org.hibernate.type.descriptor.java.EnumJavaType.fromName(EnumJavaType.java:239)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:107)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:33)
	at org.hibernate.type.descriptor.jdbc.VarcharJdbcType$2.doExtract(VarcharJdbcType.java:118)
	at org.hibernate.type.descriptor.jdbc.BasicExtractor.extract(BasicExtractor.java:44)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.getCurrentRowValue(JdbcValuesResultSetImpl.java:302)
	at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.getJdbcValue(RowProcessingStateStandardImpl.java:119)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.extractRawValue(BasicResultAssembler.java:52)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.assemble(BasicResultAssembler.java:59)
	at org.hibernate.sql.results.graph.DomainResultAssembler.assemble(DomainResultAssembler.java:33)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.extractConcreteTypeStateValues(AbstractEntityInitializer.java:1081)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntityInstance(AbstractEntityInitializer.java:838)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntity(AbstractEntityInitializer.java:813)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeInstance(AbstractEntityInitializer.java:799)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:188)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:145)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:117)
	at org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.load(SingleIdEntityLoaderStandardImpl.java:75)
	at org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:3748)
	at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3737)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:604)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromCacheOrDatasource(DefaultLoadEventListener.java:590)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:560)
	at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:544)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:207)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadWithRegularProxy(DefaultLoadEventListener.java:290)
	at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:242)
	at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:111)
	at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:68)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138)
	at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1222)
	at org.hibernate.internal.SessionImpl.internalLoad(SessionImpl.java:1068)
	at org.hibernate.sql.results.graph.entity.internal.EntitySelectFetchInitializer.initializeInstance(EntitySelectFetchInitializer.java:195)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:181)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$2(ConcreteSqmSelectQueryPlan.java:137)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:303)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:509)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:427)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at jdk.proxy2/jdk.proxy2.$Proxy188.findByActiveTrue(Unknown Source)
	at com.strahovka.service.InsuranceService.getPublicPackages(InsuranceService.java:768)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.strahovka.service.InsuranceService$$SpringCGLIB$$0.getPublicPackages(<generated>)
	at com.strahovka.controller.InsuranceController.getPublicPackages(InsuranceController.java:167)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:38)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 21:07:36 [http-nio-8081-exec-10] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.strahovka.enums.UserLevel.PLATINUM] with root cause
java.lang.IllegalArgumentException: No enum constant com.strahovka.enums.UserLevel.PLATINUM
	at java.base/java.lang.Enum.valueOf(Enum.java:293)
	at org.hibernate.type.descriptor.java.EnumJavaType.fromName(EnumJavaType.java:239)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:107)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:33)
	at org.hibernate.type.descriptor.jdbc.VarcharJdbcType$2.doExtract(VarcharJdbcType.java:118)
	at org.hibernate.type.descriptor.jdbc.BasicExtractor.extract(BasicExtractor.java:44)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.getCurrentRowValue(JdbcValuesResultSetImpl.java:302)
	at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.getJdbcValue(RowProcessingStateStandardImpl.java:119)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.extractRawValue(BasicResultAssembler.java:52)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.assemble(BasicResultAssembler.java:59)
	at org.hibernate.sql.results.graph.DomainResultAssembler.assemble(DomainResultAssembler.java:33)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.extractConcreteTypeStateValues(AbstractEntityInitializer.java:1081)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntityInstance(AbstractEntityInitializer.java:838)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntity(AbstractEntityInitializer.java:813)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeInstance(AbstractEntityInitializer.java:799)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:188)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:145)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:117)
	at org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.load(SingleIdEntityLoaderStandardImpl.java:75)
	at org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:3748)
	at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3737)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:604)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromCacheOrDatasource(DefaultLoadEventListener.java:590)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:560)
	at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:544)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:207)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadWithRegularProxy(DefaultLoadEventListener.java:290)
	at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:242)
	at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:111)
	at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:68)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138)
	at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1222)
	at org.hibernate.internal.SessionImpl.internalLoad(SessionImpl.java:1068)
	at org.hibernate.sql.results.graph.entity.internal.EntitySelectFetchInitializer.initializeInstance(EntitySelectFetchInitializer.java:195)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:181)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$2(ConcreteSqmSelectQueryPlan.java:137)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:303)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:509)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:427)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at jdk.proxy2/jdk.proxy2.$Proxy188.findByActiveTrue(Unknown Source)
	at com.strahovka.service.InsuranceService.getPublicPackages(InsuranceService.java:768)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.strahovka.service.InsuranceService$$SpringCGLIB$$0.getPublicPackages(<generated>)
	at com.strahovka.controller.InsuranceController.getPublicPackages(InsuranceController.java:167)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:38)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 21:07:36 [http-nio-8081-exec-8] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.strahovka.enums.UserLevel.PLATINUM] with root cause
java.lang.IllegalArgumentException: No enum constant com.strahovka.enums.UserLevel.PLATINUM
	at java.base/java.lang.Enum.valueOf(Enum.java:293)
	at org.hibernate.type.descriptor.java.EnumJavaType.fromName(EnumJavaType.java:239)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:107)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:33)
	at org.hibernate.type.descriptor.jdbc.VarcharJdbcType$2.doExtract(VarcharJdbcType.java:118)
	at org.hibernate.type.descriptor.jdbc.BasicExtractor.extract(BasicExtractor.java:44)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.getCurrentRowValue(JdbcValuesResultSetImpl.java:302)
	at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.getJdbcValue(RowProcessingStateStandardImpl.java:119)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.extractRawValue(BasicResultAssembler.java:52)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.assemble(BasicResultAssembler.java:59)
	at org.hibernate.sql.results.graph.DomainResultAssembler.assemble(DomainResultAssembler.java:33)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.extractConcreteTypeStateValues(AbstractEntityInitializer.java:1081)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntityInstance(AbstractEntityInitializer.java:838)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntity(AbstractEntityInitializer.java:813)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeInstance(AbstractEntityInitializer.java:799)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:188)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:145)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:117)
	at org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.load(SingleIdEntityLoaderStandardImpl.java:75)
	at org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:3748)
	at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3737)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:604)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromCacheOrDatasource(DefaultLoadEventListener.java:590)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:560)
	at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:544)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:207)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadWithRegularProxy(DefaultLoadEventListener.java:290)
	at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:242)
	at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:111)
	at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:68)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138)
	at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1222)
	at org.hibernate.internal.SessionImpl.internalLoad(SessionImpl.java:1068)
	at org.hibernate.sql.results.graph.entity.internal.EntitySelectFetchInitializer.initializeInstance(EntitySelectFetchInitializer.java:195)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:181)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$2(ConcreteSqmSelectQueryPlan.java:137)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:303)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:509)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:427)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at jdk.proxy2/jdk.proxy2.$Proxy188.findByActiveTrue(Unknown Source)
	at com.strahovka.service.InsuranceService.getPublicPackages(InsuranceService.java:768)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.strahovka.service.InsuranceService$$SpringCGLIB$$0.getPublicPackages(<generated>)
	at com.strahovka.controller.InsuranceController.getPublicPackages(InsuranceController.java:167)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:38)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 21:07:46 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNjYsImV4cCI6MTc0OTIyOTY2Nn0.RUg_wdOXRYHQqFcF3jOLk6ifbgTaWL_0MLv3_8FgsU8ON8-99t5UdIxk1qQ9tNoUOIPB54ZOPHF_beGpE6labg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNjYsImV4cCI6MTc0OTc0ODA2Nn0.oMi1ueBo4baWFLmk9GLdfaZX4MPZIKZ50tZfS8nOdGkaAGrFk3OhQyV2JgkzAxi8Qg2-udkPzcZ3s4Nl-caNPg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:46 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe0@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 21:07:46 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNjYsImV4cCI6MTc0OTIyOTY2Nn0.RUg_wdOXRYHQqFcF3jOLk6ifbgTaWL_0MLv3_8FgsU8ON8-99t5UdIxk1qQ9tNoUOIPB54ZOPHF_beGpE6labg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNjYsImV4cCI6MTc0OTc0ODA2Nn0.oMi1ueBo4baWFLmk9GLdfaZX4MPZIKZ50tZfS8nOdGkaAGrFk3OhQyV2JgkzAxi8Qg2-udkPzcZ3s4Nl-caNPg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:46 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNjYsImV4cCI6MTc0OTIyOTY2Nn0.RUg_wdOXRYHQqFcF3jOLk6ifbgTaWL_0MLv3_8FgsU8ON8-99t5UdIxk1qQ9tNoUOIPB54ZOPHF_beGpE6labg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNjYsImV4cCI6MTc0OTc0ODA2Nn0.oMi1ueBo4baWFLmk9GLdfaZX4MPZIKZ50tZfS8nOdGkaAGrFk3OhQyV2JgkzAxi8Qg2-udkPzcZ3s4Nl-caNPg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:46 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNjYsImV4cCI6MTc0OTIyOTY2Nn0.RUg_wdOXRYHQqFcF3jOLk6ifbgTaWL_0MLv3_8FgsU8ON8-99t5UdIxk1qQ9tNoUOIPB54ZOPHF_beGpE6labg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNjYsImV4cCI6MTc0OTc0ODA2Nn0.oMi1ueBo4baWFLmk9GLdfaZX4MPZIKZ50tZfS8nOdGkaAGrFk3OhQyV2JgkzAxi8Qg2-udkPzcZ3s4Nl-caNPg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:46 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNjYsImV4cCI6MTc0OTIyOTY2Nn0.RUg_wdOXRYHQqFcF3jOLk6ifbgTaWL_0MLv3_8FgsU8ON8-99t5UdIxk1qQ9tNoUOIPB54ZOPHF_beGpE6labg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNjYsImV4cCI6MTc0OTc0ODA2Nn0.oMi1ueBo4baWFLmk9GLdfaZX4MPZIKZ50tZfS8nOdGkaAGrFk3OhQyV2JgkzAxi8Qg2-udkPzcZ3s4Nl-caNPg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:46 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNjYsImV4cCI6MTc0OTIyOTY2Nn0.RUg_wdOXRYHQqFcF3jOLk6ifbgTaWL_0MLv3_8FgsU8ON8-99t5UdIxk1qQ9tNoUOIPB54ZOPHF_beGpE6labg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNjYsImV4cCI6MTc0OTc0ODA2Nn0.oMi1ueBo4baWFLmk9GLdfaZX4MPZIKZ50tZfS8nOdGkaAGrFk3OhQyV2JgkzAxi8Qg2-udkPzcZ3s4Nl-caNPg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:46 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe0@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 21:07:46 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNjYsImV4cCI6MTc0OTIyOTY2Nn0.RUg_wdOXRYHQqFcF3jOLk6ifbgTaWL_0MLv3_8FgsU8ON8-99t5UdIxk1qQ9tNoUOIPB54ZOPHF_beGpE6labg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNjYsImV4cCI6MTc0OTc0ODA2Nn0.oMi1ueBo4baWFLmk9GLdfaZX4MPZIKZ50tZfS8nOdGkaAGrFk3OhQyV2JgkzAxi8Qg2-udkPzcZ3s4Nl-caNPg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:46 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNjYsImV4cCI6MTc0OTIyOTY2Nn0.RUg_wdOXRYHQqFcF3jOLk6ifbgTaWL_0MLv3_8FgsU8ON8-99t5UdIxk1qQ9tNoUOIPB54ZOPHF_beGpE6labg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNjYsImV4cCI6MTc0OTc0ODA2Nn0.oMi1ueBo4baWFLmk9GLdfaZX4MPZIKZ50tZfS8nOdGkaAGrFk3OhQyV2JgkzAxi8Qg2-udkPzcZ3s4Nl-caNPg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:46 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNjYsImV4cCI6MTc0OTIyOTY2Nn0.RUg_wdOXRYHQqFcF3jOLk6ifbgTaWL_0MLv3_8FgsU8ON8-99t5UdIxk1qQ9tNoUOIPB54ZOPHF_beGpE6labg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNjYsImV4cCI6MTc0OTc0ODA2Nn0.oMi1ueBo4baWFLmk9GLdfaZX4MPZIKZ50tZfS8nOdGkaAGrFk3OhQyV2JgkzAxi8Qg2-udkPzcZ3s4Nl-caNPg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:46 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNjYsImV4cCI6MTc0OTIyOTY2Nn0.RUg_wdOXRYHQqFcF3jOLk6ifbgTaWL_0MLv3_8FgsU8ON8-99t5UdIxk1qQ9tNoUOIPB54ZOPHF_beGpE6labg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNjYsImV4cCI6MTc0OTc0ODA2Nn0.oMi1ueBo4baWFLmk9GLdfaZX4MPZIKZ50tZfS8nOdGkaAGrFk3OhQyV2JgkzAxi8Qg2-udkPzcZ3s4Nl-caNPg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:49 [http-nio-8081-exec-8] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.strahovka.enums.UserLevel.PLATINUM] with root cause
java.lang.IllegalArgumentException: No enum constant com.strahovka.enums.UserLevel.PLATINUM
	at java.base/java.lang.Enum.valueOf(Enum.java:293)
	at org.hibernate.type.descriptor.java.EnumJavaType.fromName(EnumJavaType.java:239)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:107)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:33)
	at org.hibernate.type.descriptor.jdbc.VarcharJdbcType$2.doExtract(VarcharJdbcType.java:118)
	at org.hibernate.type.descriptor.jdbc.BasicExtractor.extract(BasicExtractor.java:44)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.getCurrentRowValue(JdbcValuesResultSetImpl.java:302)
	at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.getJdbcValue(RowProcessingStateStandardImpl.java:119)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.extractRawValue(BasicResultAssembler.java:52)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.assemble(BasicResultAssembler.java:59)
	at org.hibernate.sql.results.graph.DomainResultAssembler.assemble(DomainResultAssembler.java:33)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.extractConcreteTypeStateValues(AbstractEntityInitializer.java:1081)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntityInstance(AbstractEntityInitializer.java:838)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntity(AbstractEntityInitializer.java:813)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeInstance(AbstractEntityInitializer.java:799)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:188)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:145)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:117)
	at org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.load(SingleIdEntityLoaderStandardImpl.java:75)
	at org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:3748)
	at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3737)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:604)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromCacheOrDatasource(DefaultLoadEventListener.java:590)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:560)
	at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:544)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:207)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadWithRegularProxy(DefaultLoadEventListener.java:290)
	at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:242)
	at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:111)
	at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:68)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138)
	at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1222)
	at org.hibernate.internal.SessionImpl.internalLoad(SessionImpl.java:1068)
	at org.hibernate.sql.results.graph.entity.internal.EntitySelectFetchInitializer.initializeInstance(EntitySelectFetchInitializer.java:195)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:181)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$2(ConcreteSqmSelectQueryPlan.java:137)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:303)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:509)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:427)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at jdk.proxy2/jdk.proxy2.$Proxy188.findByActiveTrue(Unknown Source)
	at com.strahovka.service.InsuranceService.getPublicPackages(InsuranceService.java:768)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.strahovka.service.InsuranceService$$SpringCGLIB$$0.getPublicPackages(<generated>)
	at com.strahovka.controller.InsuranceController.getPublicPackages(InsuranceController.java:167)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:38)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 21:07:49 [http-nio-8081-exec-10] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.strahovka.enums.UserLevel.PLATINUM] with root cause
java.lang.IllegalArgumentException: No enum constant com.strahovka.enums.UserLevel.PLATINUM
	at java.base/java.lang.Enum.valueOf(Enum.java:293)
	at org.hibernate.type.descriptor.java.EnumJavaType.fromName(EnumJavaType.java:239)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:107)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:33)
	at org.hibernate.type.descriptor.jdbc.VarcharJdbcType$2.doExtract(VarcharJdbcType.java:118)
	at org.hibernate.type.descriptor.jdbc.BasicExtractor.extract(BasicExtractor.java:44)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.getCurrentRowValue(JdbcValuesResultSetImpl.java:302)
	at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.getJdbcValue(RowProcessingStateStandardImpl.java:119)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.extractRawValue(BasicResultAssembler.java:52)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.assemble(BasicResultAssembler.java:59)
	at org.hibernate.sql.results.graph.DomainResultAssembler.assemble(DomainResultAssembler.java:33)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.extractConcreteTypeStateValues(AbstractEntityInitializer.java:1081)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntityInstance(AbstractEntityInitializer.java:838)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntity(AbstractEntityInitializer.java:813)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeInstance(AbstractEntityInitializer.java:799)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:188)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:145)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:117)
	at org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.load(SingleIdEntityLoaderStandardImpl.java:75)
	at org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:3748)
	at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3737)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:604)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromCacheOrDatasource(DefaultLoadEventListener.java:590)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:560)
	at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:544)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:207)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadWithRegularProxy(DefaultLoadEventListener.java:290)
	at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:242)
	at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:111)
	at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:68)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138)
	at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1222)
	at org.hibernate.internal.SessionImpl.internalLoad(SessionImpl.java:1068)
	at org.hibernate.sql.results.graph.entity.internal.EntitySelectFetchInitializer.initializeInstance(EntitySelectFetchInitializer.java:195)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:181)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$2(ConcreteSqmSelectQueryPlan.java:137)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:303)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:509)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:427)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at jdk.proxy2/jdk.proxy2.$Proxy188.findByActiveTrue(Unknown Source)
	at com.strahovka.service.InsuranceService.getPublicPackages(InsuranceService.java:768)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.strahovka.service.InsuranceService$$SpringCGLIB$$0.getPublicPackages(<generated>)
	at com.strahovka.controller.InsuranceController.getPublicPackages(InsuranceController.java:167)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:38)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 21:07:53 [http-nio-8081-exec-6] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.RuntimeException: User not found] with root cause
java.lang.RuntimeException: User not found
	at com.strahovka.service.AuthService.lambda$login$0(AuthService.java:24)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.strahovka.service.AuthService.login(AuthService.java:24)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.strahovka.service.AuthService$$SpringCGLIB$$0.login(<generated>)
	at com.strahovka.controller.AuthController.login(AuthController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:38)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 21:07:56 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTIyOTY3Nn0.f-M2ZQp4wkdJiCJ7Tu3vUl3npBtYkQOZ3LinZcmqp-2malhuQ7eaOaLzW9m1W_u3wYj0NavzgiPRVOxlhoVNJw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTc0ODA3Nn0.9czwEFKrzbaOyFN_f6WUopA9K1f_VNgVV6Lfo9YnGLKI4Ztu3qPM8W4cpuKsRIm7uFIWlOW1a3kyZxQylv9Beg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:56 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTIyOTY3Nn0.f-M2ZQp4wkdJiCJ7Tu3vUl3npBtYkQOZ3LinZcmqp-2malhuQ7eaOaLzW9m1W_u3wYj0NavzgiPRVOxlhoVNJw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTc0ODA3Nn0.9czwEFKrzbaOyFN_f6WUopA9K1f_VNgVV6Lfo9YnGLKI4Ztu3qPM8W4cpuKsRIm7uFIWlOW1a3kyZxQylv9Beg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:56 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTIyOTY3Nn0.f-M2ZQp4wkdJiCJ7Tu3vUl3npBtYkQOZ3LinZcmqp-2malhuQ7eaOaLzW9m1W_u3wYj0NavzgiPRVOxlhoVNJw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTc0ODA3Nn0.9czwEFKrzbaOyFN_f6WUopA9K1f_VNgVV6Lfo9YnGLKI4Ztu3qPM8W4cpuKsRIm7uFIWlOW1a3kyZxQylv9Beg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:56 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe0@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 21:07:56 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTIyOTY3Nn0.f-M2ZQp4wkdJiCJ7Tu3vUl3npBtYkQOZ3LinZcmqp-2malhuQ7eaOaLzW9m1W_u3wYj0NavzgiPRVOxlhoVNJw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTc0ODA3Nn0.9czwEFKrzbaOyFN_f6WUopA9K1f_VNgVV6Lfo9YnGLKI4Ztu3qPM8W4cpuKsRIm7uFIWlOW1a3kyZxQylv9Beg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:56 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTIyOTY3Nn0.f-M2ZQp4wkdJiCJ7Tu3vUl3npBtYkQOZ3LinZcmqp-2malhuQ7eaOaLzW9m1W_u3wYj0NavzgiPRVOxlhoVNJw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTc0ODA3Nn0.9czwEFKrzbaOyFN_f6WUopA9K1f_VNgVV6Lfo9YnGLKI4Ztu3qPM8W4cpuKsRIm7uFIWlOW1a3kyZxQylv9Beg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:56 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTIyOTY3Nn0.f-M2ZQp4wkdJiCJ7Tu3vUl3npBtYkQOZ3LinZcmqp-2malhuQ7eaOaLzW9m1W_u3wYj0NavzgiPRVOxlhoVNJw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTc0ODA3Nn0.9czwEFKrzbaOyFN_f6WUopA9K1f_VNgVV6Lfo9YnGLKI4Ztu3qPM8W4cpuKsRIm7uFIWlOW1a3kyZxQylv9Beg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:56 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTIyOTY3Nn0.f-M2ZQp4wkdJiCJ7Tu3vUl3npBtYkQOZ3LinZcmqp-2malhuQ7eaOaLzW9m1W_u3wYj0NavzgiPRVOxlhoVNJw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTc0ODA3Nn0.9czwEFKrzbaOyFN_f6WUopA9K1f_VNgVV6Lfo9YnGLKI4Ztu3qPM8W4cpuKsRIm7uFIWlOW1a3kyZxQylv9Beg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:56 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTIyOTY3Nn0.f-M2ZQp4wkdJiCJ7Tu3vUl3npBtYkQOZ3LinZcmqp-2malhuQ7eaOaLzW9m1W_u3wYj0NavzgiPRVOxlhoVNJw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTc0ODA3Nn0.9czwEFKrzbaOyFN_f6WUopA9K1f_VNgVV6Lfo9YnGLKI4Ztu3qPM8W4cpuKsRIm7uFIWlOW1a3kyZxQylv9Beg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:56 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTIyOTY3Nn0.f-M2ZQp4wkdJiCJ7Tu3vUl3npBtYkQOZ3LinZcmqp-2malhuQ7eaOaLzW9m1W_u3wYj0NavzgiPRVOxlhoVNJw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTc0ODA3Nn0.9czwEFKrzbaOyFN_f6WUopA9K1f_VNgVV6Lfo9YnGLKI4Ztu3qPM8W4cpuKsRIm7uFIWlOW1a3kyZxQylv9Beg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:56 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTIyOTY3Nn0.f-M2ZQp4wkdJiCJ7Tu3vUl3npBtYkQOZ3LinZcmqp-2malhuQ7eaOaLzW9m1W_u3wYj0NavzgiPRVOxlhoVNJw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTc0ODA3Nn0.9czwEFKrzbaOyFN_f6WUopA9K1f_VNgVV6Lfo9YnGLKI4Ztu3qPM8W4cpuKsRIm7uFIWlOW1a3kyZxQylv9Beg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:56 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe0@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 21:07:57 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTIyOTY3Nn0.f-M2ZQp4wkdJiCJ7Tu3vUl3npBtYkQOZ3LinZcmqp-2malhuQ7eaOaLzW9m1W_u3wYj0NavzgiPRVOxlhoVNJw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTc0ODA3Nn0.9czwEFKrzbaOyFN_f6WUopA9K1f_VNgVV6Lfo9YnGLKI4Ztu3qPM8W4cpuKsRIm7uFIWlOW1a3kyZxQylv9Beg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:57 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTIyOTY3Nn0.f-M2ZQp4wkdJiCJ7Tu3vUl3npBtYkQOZ3LinZcmqp-2malhuQ7eaOaLzW9m1W_u3wYj0NavzgiPRVOxlhoVNJw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTc0ODA3Nn0.9czwEFKrzbaOyFN_f6WUopA9K1f_VNgVV6Lfo9YnGLKI4Ztu3qPM8W4cpuKsRIm7uFIWlOW1a3kyZxQylv9Beg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:57 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTIyOTY3Nn0.f-M2ZQp4wkdJiCJ7Tu3vUl3npBtYkQOZ3LinZcmqp-2malhuQ7eaOaLzW9m1W_u3wYj0NavzgiPRVOxlhoVNJw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTc0ODA3Nn0.9czwEFKrzbaOyFN_f6WUopA9K1f_VNgVV6Lfo9YnGLKI4Ztu3qPM8W4cpuKsRIm7uFIWlOW1a3kyZxQylv9Beg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:57 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe0@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 21:07:57 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTIyOTY3Nn0.f-M2ZQp4wkdJiCJ7Tu3vUl3npBtYkQOZ3LinZcmqp-2malhuQ7eaOaLzW9m1W_u3wYj0NavzgiPRVOxlhoVNJw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTc0ODA3Nn0.9czwEFKrzbaOyFN_f6WUopA9K1f_VNgVV6Lfo9YnGLKI4Ztu3qPM8W4cpuKsRIm7uFIWlOW1a3kyZxQylv9Beg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:57 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTIyOTY3Nn0.f-M2ZQp4wkdJiCJ7Tu3vUl3npBtYkQOZ3LinZcmqp-2malhuQ7eaOaLzW9m1W_u3wYj0NavzgiPRVOxlhoVNJw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTc0ODA3Nn0.9czwEFKrzbaOyFN_f6WUopA9K1f_VNgVV6Lfo9YnGLKI4Ztu3qPM8W4cpuKsRIm7uFIWlOW1a3kyZxQylv9Beg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:57 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTIyOTY3Nn0.f-M2ZQp4wkdJiCJ7Tu3vUl3npBtYkQOZ3LinZcmqp-2malhuQ7eaOaLzW9m1W_u3wYj0NavzgiPRVOxlhoVNJw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTc0ODA3Nn0.9czwEFKrzbaOyFN_f6WUopA9K1f_VNgVV6Lfo9YnGLKI4Ztu3qPM8W4cpuKsRIm7uFIWlOW1a3kyZxQylv9Beg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:57 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTIyOTY3Nn0.f-M2ZQp4wkdJiCJ7Tu3vUl3npBtYkQOZ3LinZcmqp-2malhuQ7eaOaLzW9m1W_u3wYj0NavzgiPRVOxlhoVNJw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTc0ODA3Nn0.9czwEFKrzbaOyFN_f6WUopA9K1f_VNgVV6Lfo9YnGLKI4Ztu3qPM8W4cpuKsRIm7uFIWlOW1a3kyZxQylv9Beg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:57 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTIyOTY3Nn0.f-M2ZQp4wkdJiCJ7Tu3vUl3npBtYkQOZ3LinZcmqp-2malhuQ7eaOaLzW9m1W_u3wYj0NavzgiPRVOxlhoVNJw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTc0ODA3Nn0.9czwEFKrzbaOyFN_f6WUopA9K1f_VNgVV6Lfo9YnGLKI4Ztu3qPM8W4cpuKsRIm7uFIWlOW1a3kyZxQylv9Beg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:57 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTIyOTY3Nn0.f-M2ZQp4wkdJiCJ7Tu3vUl3npBtYkQOZ3LinZcmqp-2malhuQ7eaOaLzW9m1W_u3wYj0NavzgiPRVOxlhoVNJw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTc0ODA3Nn0.9czwEFKrzbaOyFN_f6WUopA9K1f_VNgVV6Lfo9YnGLKI4Ztu3qPM8W4cpuKsRIm7uFIWlOW1a3kyZxQylv9Beg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:57 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTIyOTY3Nn0.f-M2ZQp4wkdJiCJ7Tu3vUl3npBtYkQOZ3LinZcmqp-2malhuQ7eaOaLzW9m1W_u3wYj0NavzgiPRVOxlhoVNJw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTc0ODA3Nn0.9czwEFKrzbaOyFN_f6WUopA9K1f_VNgVV6Lfo9YnGLKI4Ztu3qPM8W4cpuKsRIm7uFIWlOW1a3kyZxQylv9Beg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:57 [http-nio-8081-exec-8] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe0@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 21:07:57 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTIyOTY3Nn0.f-M2ZQp4wkdJiCJ7Tu3vUl3npBtYkQOZ3LinZcmqp-2malhuQ7eaOaLzW9m1W_u3wYj0NavzgiPRVOxlhoVNJw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTc0ODA3Nn0.9czwEFKrzbaOyFN_f6WUopA9K1f_VNgVV6Lfo9YnGLKI4Ztu3qPM8W4cpuKsRIm7uFIWlOW1a3kyZxQylv9Beg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:57 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTIyOTY3Nn0.f-M2ZQp4wkdJiCJ7Tu3vUl3npBtYkQOZ3LinZcmqp-2malhuQ7eaOaLzW9m1W_u3wYj0NavzgiPRVOxlhoVNJw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTc0ODA3Nn0.9czwEFKrzbaOyFN_f6WUopA9K1f_VNgVV6Lfo9YnGLKI4Ztu3qPM8W4cpuKsRIm7uFIWlOW1a3kyZxQylv9Beg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:57 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTIyOTY3Nn0.f-M2ZQp4wkdJiCJ7Tu3vUl3npBtYkQOZ3LinZcmqp-2malhuQ7eaOaLzW9m1W_u3wYj0NavzgiPRVOxlhoVNJw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTc0ODA3Nn0.9czwEFKrzbaOyFN_f6WUopA9K1f_VNgVV6Lfo9YnGLKI4Ztu3qPM8W4cpuKsRIm7uFIWlOW1a3kyZxQylv9Beg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:57 [http-nio-8081-exec-10] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe0@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 21:07:57 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTIyOTY3Nn0.f-M2ZQp4wkdJiCJ7Tu3vUl3npBtYkQOZ3LinZcmqp-2malhuQ7eaOaLzW9m1W_u3wYj0NavzgiPRVOxlhoVNJw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTc0ODA3Nn0.9czwEFKrzbaOyFN_f6WUopA9K1f_VNgVV6Lfo9YnGLKI4Ztu3qPM8W4cpuKsRIm7uFIWlOW1a3kyZxQylv9Beg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:57 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTIyOTY3Nn0.f-M2ZQp4wkdJiCJ7Tu3vUl3npBtYkQOZ3LinZcmqp-2malhuQ7eaOaLzW9m1W_u3wYj0NavzgiPRVOxlhoVNJw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTc0ODA3Nn0.9czwEFKrzbaOyFN_f6WUopA9K1f_VNgVV6Lfo9YnGLKI4Ztu3qPM8W4cpuKsRIm7uFIWlOW1a3kyZxQylv9Beg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:07:58 [http-nio-8081-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.strahovka.enums.UserLevel.PLATINUM] with root cause
java.lang.IllegalArgumentException: No enum constant com.strahovka.enums.UserLevel.PLATINUM
	at java.base/java.lang.Enum.valueOf(Enum.java:293)
	at org.hibernate.type.descriptor.java.EnumJavaType.fromName(EnumJavaType.java:239)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:107)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:33)
	at org.hibernate.type.descriptor.jdbc.VarcharJdbcType$2.doExtract(VarcharJdbcType.java:118)
	at org.hibernate.type.descriptor.jdbc.BasicExtractor.extract(BasicExtractor.java:44)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.getCurrentRowValue(JdbcValuesResultSetImpl.java:302)
	at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.getJdbcValue(RowProcessingStateStandardImpl.java:119)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.extractRawValue(BasicResultAssembler.java:52)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.assemble(BasicResultAssembler.java:59)
	at org.hibernate.sql.results.graph.DomainResultAssembler.assemble(DomainResultAssembler.java:33)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.extractConcreteTypeStateValues(AbstractEntityInitializer.java:1081)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntityInstance(AbstractEntityInitializer.java:838)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntity(AbstractEntityInitializer.java:813)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeInstance(AbstractEntityInitializer.java:799)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:188)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:145)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:117)
	at org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.load(SingleIdEntityLoaderStandardImpl.java:75)
	at org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:3748)
	at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3737)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:604)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromCacheOrDatasource(DefaultLoadEventListener.java:590)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:560)
	at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:544)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:207)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadWithRegularProxy(DefaultLoadEventListener.java:290)
	at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:242)
	at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:111)
	at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:68)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138)
	at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1222)
	at org.hibernate.internal.SessionImpl.internalLoad(SessionImpl.java:1068)
	at org.hibernate.sql.results.graph.entity.internal.EntitySelectFetchInitializer.initializeInstance(EntitySelectFetchInitializer.java:195)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:181)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$2(ConcreteSqmSelectQueryPlan.java:137)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:303)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:509)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:427)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at jdk.proxy2/jdk.proxy2.$Proxy188.findByActiveTrue(Unknown Source)
	at com.strahovka.service.InsuranceService.getPublicPackages(InsuranceService.java:768)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.strahovka.service.InsuranceService$$SpringCGLIB$$0.getPublicPackages(<generated>)
	at com.strahovka.controller.InsuranceController.getPublicPackages(InsuranceController.java:167)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 21:07:58 [http-nio-8081-exec-10] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.strahovka.enums.UserLevel.PLATINUM] with root cause
java.lang.IllegalArgumentException: No enum constant com.strahovka.enums.UserLevel.PLATINUM
	at java.base/java.lang.Enum.valueOf(Enum.java:293)
	at org.hibernate.type.descriptor.java.EnumJavaType.fromName(EnumJavaType.java:239)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:107)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:33)
	at org.hibernate.type.descriptor.jdbc.VarcharJdbcType$2.doExtract(VarcharJdbcType.java:118)
	at org.hibernate.type.descriptor.jdbc.BasicExtractor.extract(BasicExtractor.java:44)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.getCurrentRowValue(JdbcValuesResultSetImpl.java:302)
	at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.getJdbcValue(RowProcessingStateStandardImpl.java:119)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.extractRawValue(BasicResultAssembler.java:52)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.assemble(BasicResultAssembler.java:59)
	at org.hibernate.sql.results.graph.DomainResultAssembler.assemble(DomainResultAssembler.java:33)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.extractConcreteTypeStateValues(AbstractEntityInitializer.java:1081)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntityInstance(AbstractEntityInitializer.java:838)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntity(AbstractEntityInitializer.java:813)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeInstance(AbstractEntityInitializer.java:799)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:188)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:145)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:117)
	at org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.load(SingleIdEntityLoaderStandardImpl.java:75)
	at org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:3748)
	at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3737)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:604)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromCacheOrDatasource(DefaultLoadEventListener.java:590)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:560)
	at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:544)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:207)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadWithRegularProxy(DefaultLoadEventListener.java:290)
	at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:242)
	at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:111)
	at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:68)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138)
	at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1222)
	at org.hibernate.internal.SessionImpl.internalLoad(SessionImpl.java:1068)
	at org.hibernate.sql.results.graph.entity.internal.EntitySelectFetchInitializer.initializeInstance(EntitySelectFetchInitializer.java:195)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:181)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$2(ConcreteSqmSelectQueryPlan.java:137)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:303)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:509)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:427)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at jdk.proxy2/jdk.proxy2.$Proxy188.findByActiveTrue(Unknown Source)
	at com.strahovka.service.InsuranceService.getPublicPackages(InsuranceService.java:768)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.strahovka.service.InsuranceService$$SpringCGLIB$$0.getPublicPackages(<generated>)
	at com.strahovka.controller.InsuranceController.getPublicPackages(InsuranceController.java:167)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 21:07:58 [http-nio-8081-exec-9] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: No enum constant com.strahovka.enums.UserLevel.PLATINUM]
2025-06-05 21:07:58 [http-nio-8081-exec-1] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: No enum constant com.strahovka.enums.UserLevel.PLATINUM]
2025-06-05 21:08:14 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - createKaskoApplication called. Authenticated user email: erwe0@gmail.com. Application payload email: null
2025-06-05 21:08:14 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Authenticated user: erwe0@gmail.com. Email in application DTO: null
2025-06-05 21:08:14 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTIyOTY3Nn0.f-M2ZQp4wkdJiCJ7Tu3vUl3npBtYkQOZ3LinZcmqp-2malhuQ7eaOaLzW9m1W_u3wYj0NavzgiPRVOxlhoVNJw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTc0ODA3Nn0.9czwEFKrzbaOyFN_f6WUopA9K1f_VNgVV6Lfo9YnGLKI4Ztu3qPM8W4cpuKsRIm7uFIWlOW1a3kyZxQylv9Beg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:08:14 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTIyOTY3Nn0.f-M2ZQp4wkdJiCJ7Tu3vUl3npBtYkQOZ3LinZcmqp-2malhuQ7eaOaLzW9m1W_u3wYj0NavzgiPRVOxlhoVNJw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTc0ODA3Nn0.9czwEFKrzbaOyFN_f6WUopA9K1f_VNgVV6Lfo9YnGLKI4Ztu3qPM8W4cpuKsRIm7uFIWlOW1a3kyZxQylv9Beg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:08:14 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTIyOTY3Nn0.f-M2ZQp4wkdJiCJ7Tu3vUl3npBtYkQOZ3LinZcmqp-2malhuQ7eaOaLzW9m1W_u3wYj0NavzgiPRVOxlhoVNJw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTc0ODA3Nn0.9czwEFKrzbaOyFN_f6WUopA9K1f_VNgVV6Lfo9YnGLKI4Ztu3qPM8W4cpuKsRIm7uFIWlOW1a3kyZxQylv9Beg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:08:14 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe0@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 21:08:14 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTIyOTY3Nn0.f-M2ZQp4wkdJiCJ7Tu3vUl3npBtYkQOZ3LinZcmqp-2malhuQ7eaOaLzW9m1W_u3wYj0NavzgiPRVOxlhoVNJw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTc0ODA3Nn0.9czwEFKrzbaOyFN_f6WUopA9K1f_VNgVV6Lfo9YnGLKI4Ztu3qPM8W4cpuKsRIm7uFIWlOW1a3kyZxQylv9Beg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:08:14 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTIyOTY3Nn0.f-M2ZQp4wkdJiCJ7Tu3vUl3npBtYkQOZ3LinZcmqp-2malhuQ7eaOaLzW9m1W_u3wYj0NavzgiPRVOxlhoVNJw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTc0ODA3Nn0.9czwEFKrzbaOyFN_f6WUopA9K1f_VNgVV6Lfo9YnGLKI4Ztu3qPM8W4cpuKsRIm7uFIWlOW1a3kyZxQylv9Beg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:08:14 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTIyOTY3Nn0.f-M2ZQp4wkdJiCJ7Tu3vUl3npBtYkQOZ3LinZcmqp-2malhuQ7eaOaLzW9m1W_u3wYj0NavzgiPRVOxlhoVNJw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTc0ODA3Nn0.9czwEFKrzbaOyFN_f6WUopA9K1f_VNgVV6Lfo9YnGLKI4Ztu3qPM8W4cpuKsRIm7uFIWlOW1a3kyZxQylv9Beg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:08:14 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTIyOTY3Nn0.f-M2ZQp4wkdJiCJ7Tu3vUl3npBtYkQOZ3LinZcmqp-2malhuQ7eaOaLzW9m1W_u3wYj0NavzgiPRVOxlhoVNJw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTc0ODA3Nn0.9czwEFKrzbaOyFN_f6WUopA9K1f_VNgVV6Lfo9YnGLKI4Ztu3qPM8W4cpuKsRIm7uFIWlOW1a3kyZxQylv9Beg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:08:14 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTIyOTY3Nn0.f-M2ZQp4wkdJiCJ7Tu3vUl3npBtYkQOZ3LinZcmqp-2malhuQ7eaOaLzW9m1W_u3wYj0NavzgiPRVOxlhoVNJw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTc0ODA3Nn0.9czwEFKrzbaOyFN_f6WUopA9K1f_VNgVV6Lfo9YnGLKI4Ztu3qPM8W4cpuKsRIm7uFIWlOW1a3kyZxQylv9Beg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:08:14 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTIyOTY3Nn0.f-M2ZQp4wkdJiCJ7Tu3vUl3npBtYkQOZ3LinZcmqp-2malhuQ7eaOaLzW9m1W_u3wYj0NavzgiPRVOxlhoVNJw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTc0ODA3Nn0.9czwEFKrzbaOyFN_f6WUopA9K1f_VNgVV6Lfo9YnGLKI4Ztu3qPM8W4cpuKsRIm7uFIWlOW1a3kyZxQylv9Beg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:08:14 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$JjGxMXKShx0JOgymOEN0jeQPk39M3jaYzVh99uXBZXUcjYDFQWev6, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTIyOTY3Nn0.f-M2ZQp4wkdJiCJ7Tu3vUl3npBtYkQOZ3LinZcmqp-2malhuQ7eaOaLzW9m1W_u3wYj0NavzgiPRVOxlhoVNJw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDMyNzYsImV4cCI6MTc0OTc0ODA3Nn0.9czwEFKrzbaOyFN_f6WUopA9K1f_VNgVV6Lfo9YnGLKI4Ztu3qPM8W4cpuKsRIm7uFIWlOW1a3kyZxQylv9Beg, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:08:14 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe0@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 21:08:18 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - processKaskoPayment called for application ID: 1. Authenticated user email: erwe0@gmail.com
2025-06-05 21:08:18 [http-nio-8081-exec-9] ERROR c.s.controller.InsuranceController - Error processing Kasko payment - application not found: KaskoApplication application found with id: 1, but it is of an unexpected type: KaskoApplication
2025-06-05 21:08:50 [http-nio-8081-exec-7] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe0@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 21:08:50 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe0@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 21:13:18 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 16392 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 21:13:18 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 21:13:20 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 21:13:20 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "status" отношения "base_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "user_id" отношения "base_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: отношение "insurance_packages" уже существует, пропускается (SQL State: 42P07 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "calculation_rules" отношения "insurance_guides" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "coverage_details" отношения "insurance_guides" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "description" отношения "insurance_guides" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "display_order" отношения "insurance_guides" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "important_notes" отношения "insurance_guides" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "required_documents" отношения "insurance_guides" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "status" отношения "insurance_policies" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "cashback" отношения "insurance_policies" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "status" отношения "insurance_policies" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "details" отношения "insurance_policies" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "package_discount" отношения "insurance_policies" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "package_name" отношения "insurance_policies" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "engine_power" отношения "osago_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "has_accidents_last_year" отношения "osago_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "is_unlimited_drivers" отношения "osago_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "previous_policy_number" отношения "osago_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "registration_certificate" отношения "osago_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "region_registration" отношения "osago_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "construction_type" отношения "property_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "cover_natural_disasters" отношения "property_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "cover_theft" отношения "property_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "cover_third_party_liability" отношения "property_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "has_fire_alarm" отношения "property_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "has_mortage" отношения "property_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "has_security_system" отношения "property_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "mortage_bank" отношения "property_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "ownership_document_number" отношения "property_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "property_address" отношения "property_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "property_area" отношения "property_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "cover_luggage" отношения "travel_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "cover_medical_expenses" отношения "travel_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "cover_sports_activities" отношения "travel_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "cover_trip_cancellation" отношения "travel_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "has_chronic_diseases" отношения "travel_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "passport_expiry" отношения "travel_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "planned_sports_activities" отношения "travel_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "purpose_of_trip" отношения "travel_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "status" отношения "base_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "status" отношения "osago_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "status" отношения "travel_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "status" отношения "health_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "status" отношения "property_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "status" отношения "insurance_policies" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "status" отношения "insurance_claims" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "status" отношения "insurance_packages" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "status" отношения "base_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "status" отношения "base_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "content" отношения "insurance_guides" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "updated_at" отношения "insurance_guides" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "passport_number" отношения "health_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "preferred_clinic" отношения "health_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "smoking_status" отношения "health_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "snils" отношения "health_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:20 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "cover_accidents" отношения "travel_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 21:13:21 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-05 21:13:21 [main] WARN  o.h.boot.model.internal.EntityBinder - HHH000457: Joined inheritance hierarchy [com.strahovka.delivery.Insurance$BaseApplication] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)
2025-06-05 21:13:23 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-05 21:13:24 [main] INFO  com.strahovka.StrahovkaApplication - Started StrahovkaApplication in 5.867 seconds (process running for 6.331)
2025-06-05 21:13:28 [http-nio-8081-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.strahovka.enums.UserLevel.PLATINUM] with root cause
java.lang.IllegalArgumentException: No enum constant com.strahovka.enums.UserLevel.PLATINUM
	at java.base/java.lang.Enum.valueOf(Enum.java:293)
	at org.hibernate.type.descriptor.java.EnumJavaType.fromName(EnumJavaType.java:239)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:107)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:33)
	at org.hibernate.type.descriptor.jdbc.VarcharJdbcType$2.doExtract(VarcharJdbcType.java:118)
	at org.hibernate.type.descriptor.jdbc.BasicExtractor.extract(BasicExtractor.java:44)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.getCurrentRowValue(JdbcValuesResultSetImpl.java:302)
	at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.getJdbcValue(RowProcessingStateStandardImpl.java:119)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.extractRawValue(BasicResultAssembler.java:52)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.assemble(BasicResultAssembler.java:59)
	at org.hibernate.sql.results.graph.DomainResultAssembler.assemble(DomainResultAssembler.java:33)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.extractConcreteTypeStateValues(AbstractEntityInitializer.java:1081)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntityInstance(AbstractEntityInitializer.java:838)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntity(AbstractEntityInitializer.java:813)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeInstance(AbstractEntityInitializer.java:799)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:188)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:145)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:117)
	at org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.load(SingleIdEntityLoaderStandardImpl.java:75)
	at org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:3748)
	at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3737)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:604)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromCacheOrDatasource(DefaultLoadEventListener.java:590)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:560)
	at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:544)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:207)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadWithRegularProxy(DefaultLoadEventListener.java:290)
	at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:242)
	at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:111)
	at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:68)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138)
	at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1222)
	at org.hibernate.internal.SessionImpl.internalLoad(SessionImpl.java:1068)
	at org.hibernate.sql.results.graph.entity.internal.EntitySelectFetchInitializer.initializeInstance(EntitySelectFetchInitializer.java:195)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:181)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$2(ConcreteSqmSelectQueryPlan.java:137)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:303)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:509)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:427)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at jdk.proxy2/jdk.proxy2.$Proxy188.findByActiveTrue(Unknown Source)
	at com.strahovka.service.InsuranceService.getPublicPackages(InsuranceService.java:768)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.strahovka.service.InsuranceService$$SpringCGLIB$$0.getPublicPackages(<generated>)
	at com.strahovka.controller.InsuranceController.getPublicPackages(InsuranceController.java:167)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:38)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 21:13:28 [http-nio-8081-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.strahovka.enums.UserLevel.PLATINUM] with root cause
java.lang.IllegalArgumentException: No enum constant com.strahovka.enums.UserLevel.PLATINUM
	at java.base/java.lang.Enum.valueOf(Enum.java:293)
	at org.hibernate.type.descriptor.java.EnumJavaType.fromName(EnumJavaType.java:239)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:107)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:33)
	at org.hibernate.type.descriptor.jdbc.VarcharJdbcType$2.doExtract(VarcharJdbcType.java:118)
	at org.hibernate.type.descriptor.jdbc.BasicExtractor.extract(BasicExtractor.java:44)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.getCurrentRowValue(JdbcValuesResultSetImpl.java:302)
	at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.getJdbcValue(RowProcessingStateStandardImpl.java:119)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.extractRawValue(BasicResultAssembler.java:52)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.assemble(BasicResultAssembler.java:59)
	at org.hibernate.sql.results.graph.DomainResultAssembler.assemble(DomainResultAssembler.java:33)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.extractConcreteTypeStateValues(AbstractEntityInitializer.java:1081)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntityInstance(AbstractEntityInitializer.java:838)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntity(AbstractEntityInitializer.java:813)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeInstance(AbstractEntityInitializer.java:799)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:188)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:145)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:117)
	at org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.load(SingleIdEntityLoaderStandardImpl.java:75)
	at org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:3748)
	at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3737)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:604)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromCacheOrDatasource(DefaultLoadEventListener.java:590)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:560)
	at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:544)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:207)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadWithRegularProxy(DefaultLoadEventListener.java:290)
	at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:242)
	at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:111)
	at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:68)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138)
	at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1222)
	at org.hibernate.internal.SessionImpl.internalLoad(SessionImpl.java:1068)
	at org.hibernate.sql.results.graph.entity.internal.EntitySelectFetchInitializer.initializeInstance(EntitySelectFetchInitializer.java:195)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:181)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$2(ConcreteSqmSelectQueryPlan.java:137)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:303)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:509)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:427)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at jdk.proxy2/jdk.proxy2.$Proxy188.findByActiveTrue(Unknown Source)
	at com.strahovka.service.InsuranceService.getPublicPackages(InsuranceService.java:768)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.strahovka.service.InsuranceService$$SpringCGLIB$$0.getPublicPackages(<generated>)
	at com.strahovka.controller.InsuranceController.getPublicPackages(InsuranceController.java:167)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:38)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 21:13:30 [http-nio-8081-exec-4] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.strahovka.enums.UserLevel.PLATINUM] with root cause
java.lang.IllegalArgumentException: No enum constant com.strahovka.enums.UserLevel.PLATINUM
	at java.base/java.lang.Enum.valueOf(Enum.java:293)
	at org.hibernate.type.descriptor.java.EnumJavaType.fromName(EnumJavaType.java:239)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:107)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:33)
	at org.hibernate.type.descriptor.jdbc.VarcharJdbcType$2.doExtract(VarcharJdbcType.java:118)
	at org.hibernate.type.descriptor.jdbc.BasicExtractor.extract(BasicExtractor.java:44)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.getCurrentRowValue(JdbcValuesResultSetImpl.java:302)
	at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.getJdbcValue(RowProcessingStateStandardImpl.java:119)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.extractRawValue(BasicResultAssembler.java:52)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.assemble(BasicResultAssembler.java:59)
	at org.hibernate.sql.results.graph.DomainResultAssembler.assemble(DomainResultAssembler.java:33)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.extractConcreteTypeStateValues(AbstractEntityInitializer.java:1081)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntityInstance(AbstractEntityInitializer.java:838)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntity(AbstractEntityInitializer.java:813)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeInstance(AbstractEntityInitializer.java:799)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:188)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:145)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:117)
	at org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.load(SingleIdEntityLoaderStandardImpl.java:75)
	at org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:3748)
	at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3737)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:604)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromCacheOrDatasource(DefaultLoadEventListener.java:590)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:560)
	at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:544)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:207)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadWithRegularProxy(DefaultLoadEventListener.java:290)
	at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:242)
	at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:111)
	at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:68)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138)
	at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1222)
	at org.hibernate.internal.SessionImpl.internalLoad(SessionImpl.java:1068)
	at org.hibernate.sql.results.graph.entity.internal.EntitySelectFetchInitializer.initializeInstance(EntitySelectFetchInitializer.java:195)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:181)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$2(ConcreteSqmSelectQueryPlan.java:137)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:303)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:509)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:427)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at jdk.proxy2/jdk.proxy2.$Proxy188.findByActiveTrue(Unknown Source)
	at com.strahovka.service.InsuranceService.getPublicPackages(InsuranceService.java:768)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.strahovka.service.InsuranceService$$SpringCGLIB$$0.getPublicPackages(<generated>)
	at com.strahovka.controller.InsuranceController.getPublicPackages(InsuranceController.java:167)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:38)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 21:13:30 [http-nio-8081-exec-5] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.strahovka.enums.UserLevel.PLATINUM] with root cause
java.lang.IllegalArgumentException: No enum constant com.strahovka.enums.UserLevel.PLATINUM
	at java.base/java.lang.Enum.valueOf(Enum.java:293)
	at org.hibernate.type.descriptor.java.EnumJavaType.fromName(EnumJavaType.java:239)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:107)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:33)
	at org.hibernate.type.descriptor.jdbc.VarcharJdbcType$2.doExtract(VarcharJdbcType.java:118)
	at org.hibernate.type.descriptor.jdbc.BasicExtractor.extract(BasicExtractor.java:44)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.getCurrentRowValue(JdbcValuesResultSetImpl.java:302)
	at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.getJdbcValue(RowProcessingStateStandardImpl.java:119)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.extractRawValue(BasicResultAssembler.java:52)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.assemble(BasicResultAssembler.java:59)
	at org.hibernate.sql.results.graph.DomainResultAssembler.assemble(DomainResultAssembler.java:33)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.extractConcreteTypeStateValues(AbstractEntityInitializer.java:1081)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntityInstance(AbstractEntityInitializer.java:838)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntity(AbstractEntityInitializer.java:813)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeInstance(AbstractEntityInitializer.java:799)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:188)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:145)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:117)
	at org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.load(SingleIdEntityLoaderStandardImpl.java:75)
	at org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:3748)
	at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3737)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:604)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromCacheOrDatasource(DefaultLoadEventListener.java:590)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:560)
	at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:544)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:207)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadWithRegularProxy(DefaultLoadEventListener.java:290)
	at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:242)
	at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:111)
	at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:68)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138)
	at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1222)
	at org.hibernate.internal.SessionImpl.internalLoad(SessionImpl.java:1068)
	at org.hibernate.sql.results.graph.entity.internal.EntitySelectFetchInitializer.initializeInstance(EntitySelectFetchInitializer.java:195)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:181)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$2(ConcreteSqmSelectQueryPlan.java:137)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:303)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:509)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:427)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at jdk.proxy2/jdk.proxy2.$Proxy188.findByActiveTrue(Unknown Source)
	at com.strahovka.service.InsuranceService.getPublicPackages(InsuranceService.java:768)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.strahovka.service.InsuranceService$$SpringCGLIB$$0.getPublicPackages(<generated>)
	at com.strahovka.controller.InsuranceController.getPublicPackages(InsuranceController.java:167)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:38)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 21:14:11 [http-nio-8081-exec-6] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.RuntimeException: User not found] with root cause
java.lang.RuntimeException: User not found
	at com.strahovka.service.AuthService.lambda$login$0(AuthService.java:24)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.strahovka.service.AuthService.login(AuthService.java:24)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.strahovka.service.AuthService$$SpringCGLIB$$0.login(<generated>)
	at com.strahovka.controller.AuthController.login(AuthController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:38)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 21:14:19 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$6tpwZGCcOrDzJW.BKQCkaOiQkrqH3nW9CClp5G/.W3LXzQsucGcMC, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTIzMDA1N30.4nkwlKEGl4ZUI8qMAdUNwJQG0g9Pbo5M7WBcugQDoYIPNtyRAgoWUz099MCijmImaE7kWL4-4aJNpKJKUaqQLg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTc0ODQ1N30.CRjgx41svDS5gMLWMZF7e2SplvQRtjMSCuIFNJKce9cJdyCnh7rT7auntuQdHn19shazg8CadzqTTebCmU638g, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:14:19 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$6tpwZGCcOrDzJW.BKQCkaOiQkrqH3nW9CClp5G/.W3LXzQsucGcMC, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTIzMDA1N30.4nkwlKEGl4ZUI8qMAdUNwJQG0g9Pbo5M7WBcugQDoYIPNtyRAgoWUz099MCijmImaE7kWL4-4aJNpKJKUaqQLg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTc0ODQ1N30.CRjgx41svDS5gMLWMZF7e2SplvQRtjMSCuIFNJKce9cJdyCnh7rT7auntuQdHn19shazg8CadzqTTebCmU638g, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:14:19 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$6tpwZGCcOrDzJW.BKQCkaOiQkrqH3nW9CClp5G/.W3LXzQsucGcMC, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTIzMDA1N30.4nkwlKEGl4ZUI8qMAdUNwJQG0g9Pbo5M7WBcugQDoYIPNtyRAgoWUz099MCijmImaE7kWL4-4aJNpKJKUaqQLg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTc0ODQ1N30.CRjgx41svDS5gMLWMZF7e2SplvQRtjMSCuIFNJKce9cJdyCnh7rT7auntuQdHn19shazg8CadzqTTebCmU638g, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:14:19 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe0@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 21:14:19 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$6tpwZGCcOrDzJW.BKQCkaOiQkrqH3nW9CClp5G/.W3LXzQsucGcMC, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTIzMDA1N30.4nkwlKEGl4ZUI8qMAdUNwJQG0g9Pbo5M7WBcugQDoYIPNtyRAgoWUz099MCijmImaE7kWL4-4aJNpKJKUaqQLg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTc0ODQ1N30.CRjgx41svDS5gMLWMZF7e2SplvQRtjMSCuIFNJKce9cJdyCnh7rT7auntuQdHn19shazg8CadzqTTebCmU638g, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:14:19 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$6tpwZGCcOrDzJW.BKQCkaOiQkrqH3nW9CClp5G/.W3LXzQsucGcMC, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTIzMDA1N30.4nkwlKEGl4ZUI8qMAdUNwJQG0g9Pbo5M7WBcugQDoYIPNtyRAgoWUz099MCijmImaE7kWL4-4aJNpKJKUaqQLg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTc0ODQ1N30.CRjgx41svDS5gMLWMZF7e2SplvQRtjMSCuIFNJKce9cJdyCnh7rT7auntuQdHn19shazg8CadzqTTebCmU638g, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:14:19 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$6tpwZGCcOrDzJW.BKQCkaOiQkrqH3nW9CClp5G/.W3LXzQsucGcMC, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTIzMDA1N30.4nkwlKEGl4ZUI8qMAdUNwJQG0g9Pbo5M7WBcugQDoYIPNtyRAgoWUz099MCijmImaE7kWL4-4aJNpKJKUaqQLg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTc0ODQ1N30.CRjgx41svDS5gMLWMZF7e2SplvQRtjMSCuIFNJKce9cJdyCnh7rT7auntuQdHn19shazg8CadzqTTebCmU638g, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:14:19 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$6tpwZGCcOrDzJW.BKQCkaOiQkrqH3nW9CClp5G/.W3LXzQsucGcMC, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTIzMDA1N30.4nkwlKEGl4ZUI8qMAdUNwJQG0g9Pbo5M7WBcugQDoYIPNtyRAgoWUz099MCijmImaE7kWL4-4aJNpKJKUaqQLg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTc0ODQ1N30.CRjgx41svDS5gMLWMZF7e2SplvQRtjMSCuIFNJKce9cJdyCnh7rT7auntuQdHn19shazg8CadzqTTebCmU638g, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:14:19 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$6tpwZGCcOrDzJW.BKQCkaOiQkrqH3nW9CClp5G/.W3LXzQsucGcMC, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTIzMDA1N30.4nkwlKEGl4ZUI8qMAdUNwJQG0g9Pbo5M7WBcugQDoYIPNtyRAgoWUz099MCijmImaE7kWL4-4aJNpKJKUaqQLg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTc0ODQ1N30.CRjgx41svDS5gMLWMZF7e2SplvQRtjMSCuIFNJKce9cJdyCnh7rT7auntuQdHn19shazg8CadzqTTebCmU638g, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:14:19 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$6tpwZGCcOrDzJW.BKQCkaOiQkrqH3nW9CClp5G/.W3LXzQsucGcMC, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTIzMDA1N30.4nkwlKEGl4ZUI8qMAdUNwJQG0g9Pbo5M7WBcugQDoYIPNtyRAgoWUz099MCijmImaE7kWL4-4aJNpKJKUaqQLg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTc0ODQ1N30.CRjgx41svDS5gMLWMZF7e2SplvQRtjMSCuIFNJKce9cJdyCnh7rT7auntuQdHn19shazg8CadzqTTebCmU638g, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:14:19 [http-nio-8081-exec-3] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe0@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 21:14:19 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$6tpwZGCcOrDzJW.BKQCkaOiQkrqH3nW9CClp5G/.W3LXzQsucGcMC, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTIzMDA1N30.4nkwlKEGl4ZUI8qMAdUNwJQG0g9Pbo5M7WBcugQDoYIPNtyRAgoWUz099MCijmImaE7kWL4-4aJNpKJKUaqQLg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTc0ODQ1N30.CRjgx41svDS5gMLWMZF7e2SplvQRtjMSCuIFNJKce9cJdyCnh7rT7auntuQdHn19shazg8CadzqTTebCmU638g, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:14:19 [http-nio-8081-exec-6] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.strahovka.enums.UserLevel.PLATINUM] with root cause
java.lang.IllegalArgumentException: No enum constant com.strahovka.enums.UserLevel.PLATINUM
	at java.base/java.lang.Enum.valueOf(Enum.java:293)
	at org.hibernate.type.descriptor.java.EnumJavaType.fromName(EnumJavaType.java:239)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:107)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:33)
	at org.hibernate.type.descriptor.jdbc.VarcharJdbcType$2.doExtract(VarcharJdbcType.java:118)
	at org.hibernate.type.descriptor.jdbc.BasicExtractor.extract(BasicExtractor.java:44)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.getCurrentRowValue(JdbcValuesResultSetImpl.java:302)
	at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.getJdbcValue(RowProcessingStateStandardImpl.java:119)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.extractRawValue(BasicResultAssembler.java:52)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.assemble(BasicResultAssembler.java:59)
	at org.hibernate.sql.results.graph.DomainResultAssembler.assemble(DomainResultAssembler.java:33)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.extractConcreteTypeStateValues(AbstractEntityInitializer.java:1081)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntityInstance(AbstractEntityInitializer.java:838)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntity(AbstractEntityInitializer.java:813)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeInstance(AbstractEntityInitializer.java:799)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:188)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:145)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:117)
	at org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.load(SingleIdEntityLoaderStandardImpl.java:75)
	at org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:3748)
	at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3737)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:604)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromCacheOrDatasource(DefaultLoadEventListener.java:590)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:560)
	at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:544)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:207)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadWithRegularProxy(DefaultLoadEventListener.java:290)
	at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:242)
	at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:111)
	at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:68)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138)
	at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1222)
	at org.hibernate.internal.SessionImpl.internalLoad(SessionImpl.java:1068)
	at org.hibernate.sql.results.graph.entity.internal.EntitySelectFetchInitializer.initializeInstance(EntitySelectFetchInitializer.java:195)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:181)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$2(ConcreteSqmSelectQueryPlan.java:137)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:303)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:509)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:427)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at jdk.proxy2/jdk.proxy2.$Proxy188.findByActiveTrue(Unknown Source)
	at com.strahovka.service.InsuranceService.getPublicPackages(InsuranceService.java:768)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.strahovka.service.InsuranceService$$SpringCGLIB$$0.getPublicPackages(<generated>)
	at com.strahovka.controller.InsuranceController.getPublicPackages(InsuranceController.java:167)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 21:14:19 [http-nio-8081-exec-8] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: No enum constant com.strahovka.enums.UserLevel.PLATINUM]
2025-06-05 21:14:19 [http-nio-8081-exec-7] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.strahovka.enums.UserLevel.PLATINUM] with root cause
java.lang.IllegalArgumentException: No enum constant com.strahovka.enums.UserLevel.PLATINUM
	at java.base/java.lang.Enum.valueOf(Enum.java:293)
	at org.hibernate.type.descriptor.java.EnumJavaType.fromName(EnumJavaType.java:239)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:107)
	at org.hibernate.type.descriptor.java.EnumJavaType.wrap(EnumJavaType.java:33)
	at org.hibernate.type.descriptor.jdbc.VarcharJdbcType$2.doExtract(VarcharJdbcType.java:118)
	at org.hibernate.type.descriptor.jdbc.BasicExtractor.extract(BasicExtractor.java:44)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.getCurrentRowValue(JdbcValuesResultSetImpl.java:302)
	at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.getJdbcValue(RowProcessingStateStandardImpl.java:119)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.extractRawValue(BasicResultAssembler.java:52)
	at org.hibernate.sql.results.graph.basic.BasicResultAssembler.assemble(BasicResultAssembler.java:59)
	at org.hibernate.sql.results.graph.DomainResultAssembler.assemble(DomainResultAssembler.java:33)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.extractConcreteTypeStateValues(AbstractEntityInitializer.java:1081)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntityInstance(AbstractEntityInitializer.java:838)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeEntity(AbstractEntityInitializer.java:813)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeInstance(AbstractEntityInitializer.java:799)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:188)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:145)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:117)
	at org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.load(SingleIdEntityLoaderStandardImpl.java:75)
	at org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:3748)
	at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3737)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:604)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromCacheOrDatasource(DefaultLoadEventListener.java:590)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:560)
	at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:544)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:207)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadWithRegularProxy(DefaultLoadEventListener.java:290)
	at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:242)
	at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:111)
	at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:68)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138)
	at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1222)
	at org.hibernate.internal.SessionImpl.internalLoad(SessionImpl.java:1068)
	at org.hibernate.sql.results.graph.entity.internal.EntitySelectFetchInitializer.initializeInstance(EntitySelectFetchInitializer.java:195)
	at org.hibernate.sql.results.internal.InitializersList.initializeInstance(InitializersList.java:70)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:109)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:86)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:181)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:209)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$2(ConcreteSqmSelectQueryPlan.java:137)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:303)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:509)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:427)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:149)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at jdk.proxy2/jdk.proxy2.$Proxy188.findByActiveTrue(Unknown Source)
	at com.strahovka.service.InsuranceService.getPublicPackages(InsuranceService.java:768)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.strahovka.service.InsuranceService$$SpringCGLIB$$0.getPublicPackages(<generated>)
	at com.strahovka.controller.InsuranceController.getPublicPackages(InsuranceController.java:167)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 21:14:19 [http-nio-8081-exec-9] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: No enum constant com.strahovka.enums.UserLevel.PLATINUM]
2025-06-05 21:14:38 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - createTravelApplication called. Authenticated user email: erwe0@gmail.com. Application payload email: erwe0@gmail.com
2025-06-05 21:14:38 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Authenticated user: erwe0@gmail.com. Email in application DTO: erwe0@gmail.com
2025-06-05 21:14:39 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$6tpwZGCcOrDzJW.BKQCkaOiQkrqH3nW9CClp5G/.W3LXzQsucGcMC, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTIzMDA1N30.4nkwlKEGl4ZUI8qMAdUNwJQG0g9Pbo5M7WBcugQDoYIPNtyRAgoWUz099MCijmImaE7kWL4-4aJNpKJKUaqQLg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTc0ODQ1N30.CRjgx41svDS5gMLWMZF7e2SplvQRtjMSCuIFNJKce9cJdyCnh7rT7auntuQdHn19shazg8CadzqTTebCmU638g, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:14:39 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$6tpwZGCcOrDzJW.BKQCkaOiQkrqH3nW9CClp5G/.W3LXzQsucGcMC, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTIzMDA1N30.4nkwlKEGl4ZUI8qMAdUNwJQG0g9Pbo5M7WBcugQDoYIPNtyRAgoWUz099MCijmImaE7kWL4-4aJNpKJKUaqQLg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTc0ODQ1N30.CRjgx41svDS5gMLWMZF7e2SplvQRtjMSCuIFNJKce9cJdyCnh7rT7auntuQdHn19shazg8CadzqTTebCmU638g, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:14:39 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$6tpwZGCcOrDzJW.BKQCkaOiQkrqH3nW9CClp5G/.W3LXzQsucGcMC, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTIzMDA1N30.4nkwlKEGl4ZUI8qMAdUNwJQG0g9Pbo5M7WBcugQDoYIPNtyRAgoWUz099MCijmImaE7kWL4-4aJNpKJKUaqQLg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTc0ODQ1N30.CRjgx41svDS5gMLWMZF7e2SplvQRtjMSCuIFNJKce9cJdyCnh7rT7auntuQdHn19shazg8CadzqTTebCmU638g, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:14:39 [http-nio-8081-exec-3] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe0@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 21:14:39 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$6tpwZGCcOrDzJW.BKQCkaOiQkrqH3nW9CClp5G/.W3LXzQsucGcMC, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTIzMDA1N30.4nkwlKEGl4ZUI8qMAdUNwJQG0g9Pbo5M7WBcugQDoYIPNtyRAgoWUz099MCijmImaE7kWL4-4aJNpKJKUaqQLg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTc0ODQ1N30.CRjgx41svDS5gMLWMZF7e2SplvQRtjMSCuIFNJKce9cJdyCnh7rT7auntuQdHn19shazg8CadzqTTebCmU638g, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:14:39 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$6tpwZGCcOrDzJW.BKQCkaOiQkrqH3nW9CClp5G/.W3LXzQsucGcMC, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTIzMDA1N30.4nkwlKEGl4ZUI8qMAdUNwJQG0g9Pbo5M7WBcugQDoYIPNtyRAgoWUz099MCijmImaE7kWL4-4aJNpKJKUaqQLg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTc0ODQ1N30.CRjgx41svDS5gMLWMZF7e2SplvQRtjMSCuIFNJKce9cJdyCnh7rT7auntuQdHn19shazg8CadzqTTebCmU638g, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:14:39 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$6tpwZGCcOrDzJW.BKQCkaOiQkrqH3nW9CClp5G/.W3LXzQsucGcMC, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTIzMDA1N30.4nkwlKEGl4ZUI8qMAdUNwJQG0g9Pbo5M7WBcugQDoYIPNtyRAgoWUz099MCijmImaE7kWL4-4aJNpKJKUaqQLg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTc0ODQ1N30.CRjgx41svDS5gMLWMZF7e2SplvQRtjMSCuIFNJKce9cJdyCnh7rT7auntuQdHn19shazg8CadzqTTebCmU638g, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:14:39 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$6tpwZGCcOrDzJW.BKQCkaOiQkrqH3nW9CClp5G/.W3LXzQsucGcMC, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTIzMDA1N30.4nkwlKEGl4ZUI8qMAdUNwJQG0g9Pbo5M7WBcugQDoYIPNtyRAgoWUz099MCijmImaE7kWL4-4aJNpKJKUaqQLg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTc0ODQ1N30.CRjgx41svDS5gMLWMZF7e2SplvQRtjMSCuIFNJKce9cJdyCnh7rT7auntuQdHn19shazg8CadzqTTebCmU638g, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:14:39 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe0@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 21:14:39 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$6tpwZGCcOrDzJW.BKQCkaOiQkrqH3nW9CClp5G/.W3LXzQsucGcMC, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTIzMDA1N30.4nkwlKEGl4ZUI8qMAdUNwJQG0g9Pbo5M7WBcugQDoYIPNtyRAgoWUz099MCijmImaE7kWL4-4aJNpKJKUaqQLg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTc0ODQ1N30.CRjgx41svDS5gMLWMZF7e2SplvQRtjMSCuIFNJKce9cJdyCnh7rT7auntuQdHn19shazg8CadzqTTebCmU638g, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:14:39 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$6tpwZGCcOrDzJW.BKQCkaOiQkrqH3nW9CClp5G/.W3LXzQsucGcMC, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTIzMDA1N30.4nkwlKEGl4ZUI8qMAdUNwJQG0g9Pbo5M7WBcugQDoYIPNtyRAgoWUz099MCijmImaE7kWL4-4aJNpKJKUaqQLg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTc0ODQ1N30.CRjgx41svDS5gMLWMZF7e2SplvQRtjMSCuIFNJKce9cJdyCnh7rT7auntuQdHn19shazg8CadzqTTebCmU638g, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:14:39 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$6tpwZGCcOrDzJW.BKQCkaOiQkrqH3nW9CClp5G/.W3LXzQsucGcMC, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTIzMDA1N30.4nkwlKEGl4ZUI8qMAdUNwJQG0g9Pbo5M7WBcugQDoYIPNtyRAgoWUz099MCijmImaE7kWL4-4aJNpKJKUaqQLg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTc0ODQ1N30.CRjgx41svDS5gMLWMZF7e2SplvQRtjMSCuIFNJKce9cJdyCnh7rT7auntuQdHn19shazg8CadzqTTebCmU638g, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:14:41 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - processTravelPayment called for app ID: 1. Auth email: erwe0@gmail.com
2025-06-05 21:14:41 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Finding or creating user for email: erwe0@gmail.com
2025-06-05 21:14:41 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - User 2 found/created for email: erwe0@gmail.com
2025-06-05 21:14:41 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe0@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 21:14:41 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Application ID 1 (type: TRAVEL) status updated to PAID after policy creation for user erwe0@gmail.com.
2025-06-05 21:14:41 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$6tpwZGCcOrDzJW.BKQCkaOiQkrqH3nW9CClp5G/.W3LXzQsucGcMC, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTIzMDA1N30.4nkwlKEGl4ZUI8qMAdUNwJQG0g9Pbo5M7WBcugQDoYIPNtyRAgoWUz099MCijmImaE7kWL4-4aJNpKJKUaqQLg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTc0ODQ1N30.CRjgx41svDS5gMLWMZF7e2SplvQRtjMSCuIFNJKce9cJdyCnh7rT7auntuQdHn19shazg8CadzqTTebCmU638g, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:14:41 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$6tpwZGCcOrDzJW.BKQCkaOiQkrqH3nW9CClp5G/.W3LXzQsucGcMC, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTIzMDA1N30.4nkwlKEGl4ZUI8qMAdUNwJQG0g9Pbo5M7WBcugQDoYIPNtyRAgoWUz099MCijmImaE7kWL4-4aJNpKJKUaqQLg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTc0ODQ1N30.CRjgx41svDS5gMLWMZF7e2SplvQRtjMSCuIFNJKce9cJdyCnh7rT7auntuQdHn19shazg8CadzqTTebCmU638g, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:14:41 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$6tpwZGCcOrDzJW.BKQCkaOiQkrqH3nW9CClp5G/.W3LXzQsucGcMC, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTIzMDA1N30.4nkwlKEGl4ZUI8qMAdUNwJQG0g9Pbo5M7WBcugQDoYIPNtyRAgoWUz099MCijmImaE7kWL4-4aJNpKJKUaqQLg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTc0ODQ1N30.CRjgx41svDS5gMLWMZF7e2SplvQRtjMSCuIFNJKce9cJdyCnh7rT7auntuQdHn19shazg8CadzqTTebCmU638g, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:14:41 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$6tpwZGCcOrDzJW.BKQCkaOiQkrqH3nW9CClp5G/.W3LXzQsucGcMC, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTIzMDA1N30.4nkwlKEGl4ZUI8qMAdUNwJQG0g9Pbo5M7WBcugQDoYIPNtyRAgoWUz099MCijmImaE7kWL4-4aJNpKJKUaqQLg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTc0ODQ1N30.CRjgx41svDS5gMLWMZF7e2SplvQRtjMSCuIFNJKce9cJdyCnh7rT7auntuQdHn19shazg8CadzqTTebCmU638g, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:14:41 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$6tpwZGCcOrDzJW.BKQCkaOiQkrqH3nW9CClp5G/.W3LXzQsucGcMC, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTIzMDA1N30.4nkwlKEGl4ZUI8qMAdUNwJQG0g9Pbo5M7WBcugQDoYIPNtyRAgoWUz099MCijmImaE7kWL4-4aJNpKJKUaqQLg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTc0ODQ1N30.CRjgx41svDS5gMLWMZF7e2SplvQRtjMSCuIFNJKce9cJdyCnh7rT7auntuQdHn19shazg8CadzqTTebCmU638g, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:14:41 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe0@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 21:14:43 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - cancelPolicy called for policy ID: 1, by user: erwe0@gmail.com
2025-06-05 21:14:43 [http-nio-8081-exec-10] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe0@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 21:14:43 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$6tpwZGCcOrDzJW.BKQCkaOiQkrqH3nW9CClp5G/.W3LXzQsucGcMC, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTIzMDA1N30.4nkwlKEGl4ZUI8qMAdUNwJQG0g9Pbo5M7WBcugQDoYIPNtyRAgoWUz099MCijmImaE7kWL4-4aJNpKJKUaqQLg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTc0ODQ1N30.CRjgx41svDS5gMLWMZF7e2SplvQRtjMSCuIFNJKce9cJdyCnh7rT7auntuQdHn19shazg8CadzqTTebCmU638g, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:14:43 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$6tpwZGCcOrDzJW.BKQCkaOiQkrqH3nW9CClp5G/.W3LXzQsucGcMC, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTIzMDA1N30.4nkwlKEGl4ZUI8qMAdUNwJQG0g9Pbo5M7WBcugQDoYIPNtyRAgoWUz099MCijmImaE7kWL4-4aJNpKJKUaqQLg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTc0ODQ1N30.CRjgx41svDS5gMLWMZF7e2SplvQRtjMSCuIFNJKce9cJdyCnh7rT7auntuQdHn19shazg8CadzqTTebCmU638g, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:14:43 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$6tpwZGCcOrDzJW.BKQCkaOiQkrqH3nW9CClp5G/.W3LXzQsucGcMC, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTIzMDA1N30.4nkwlKEGl4ZUI8qMAdUNwJQG0g9Pbo5M7WBcugQDoYIPNtyRAgoWUz099MCijmImaE7kWL4-4aJNpKJKUaqQLg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTc0ODQ1N30.CRjgx41svDS5gMLWMZF7e2SplvQRtjMSCuIFNJKce9cJdyCnh7rT7auntuQdHn19shazg8CadzqTTebCmU638g, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:14:43 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$6tpwZGCcOrDzJW.BKQCkaOiQkrqH3nW9CClp5G/.W3LXzQsucGcMC, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTIzMDA1N30.4nkwlKEGl4ZUI8qMAdUNwJQG0g9Pbo5M7WBcugQDoYIPNtyRAgoWUz099MCijmImaE7kWL4-4aJNpKJKUaqQLg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTc0ODQ1N30.CRjgx41svDS5gMLWMZF7e2SplvQRtjMSCuIFNJKce9cJdyCnh7rT7auntuQdHn19shazg8CadzqTTebCmU638g, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:14:43 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$6tpwZGCcOrDzJW.BKQCkaOiQkrqH3nW9CClp5G/.W3LXzQsucGcMC, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTIzMDA1N30.4nkwlKEGl4ZUI8qMAdUNwJQG0g9Pbo5M7WBcugQDoYIPNtyRAgoWUz099MCijmImaE7kWL4-4aJNpKJKUaqQLg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTc0ODQ1N30.CRjgx41svDS5gMLWMZF7e2SplvQRtjMSCuIFNJKce9cJdyCnh7rT7auntuQdHn19shazg8CadzqTTebCmU638g, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:14:43 [http-nio-8081-exec-7] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe0@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 21:15:09 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$6tpwZGCcOrDzJW.BKQCkaOiQkrqH3nW9CClp5G/.W3LXzQsucGcMC, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTIzMDA1N30.4nkwlKEGl4ZUI8qMAdUNwJQG0g9Pbo5M7WBcugQDoYIPNtyRAgoWUz099MCijmImaE7kWL4-4aJNpKJKUaqQLg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTc0ODQ1N30.CRjgx41svDS5gMLWMZF7e2SplvQRtjMSCuIFNJKce9cJdyCnh7rT7auntuQdHn19shazg8CadzqTTebCmU638g, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:15:09 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$6tpwZGCcOrDzJW.BKQCkaOiQkrqH3nW9CClp5G/.W3LXzQsucGcMC, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTIzMDA1N30.4nkwlKEGl4ZUI8qMAdUNwJQG0g9Pbo5M7WBcugQDoYIPNtyRAgoWUz099MCijmImaE7kWL4-4aJNpKJKUaqQLg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTc0ODQ1N30.CRjgx41svDS5gMLWMZF7e2SplvQRtjMSCuIFNJKce9cJdyCnh7rT7auntuQdHn19shazg8CadzqTTebCmU638g, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:15:09 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$6tpwZGCcOrDzJW.BKQCkaOiQkrqH3nW9CClp5G/.W3LXzQsucGcMC, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTIzMDA1N30.4nkwlKEGl4ZUI8qMAdUNwJQG0g9Pbo5M7WBcugQDoYIPNtyRAgoWUz099MCijmImaE7kWL4-4aJNpKJKUaqQLg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTc0ODQ1N30.CRjgx41svDS5gMLWMZF7e2SplvQRtjMSCuIFNJKce9cJdyCnh7rT7auntuQdHn19shazg8CadzqTTebCmU638g, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:15:09 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe0@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 21:15:09 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$6tpwZGCcOrDzJW.BKQCkaOiQkrqH3nW9CClp5G/.W3LXzQsucGcMC, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTIzMDA1N30.4nkwlKEGl4ZUI8qMAdUNwJQG0g9Pbo5M7WBcugQDoYIPNtyRAgoWUz099MCijmImaE7kWL4-4aJNpKJKUaqQLg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTc0ODQ1N30.CRjgx41svDS5gMLWMZF7e2SplvQRtjMSCuIFNJKce9cJdyCnh7rT7auntuQdHn19shazg8CadzqTTebCmU638g, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:15:09 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe0@gmail.com, password=$2a$10$6tpwZGCcOrDzJW.BKQCkaOiQkrqH3nW9CClp5G/.W3LXzQsucGcMC, firstName=erwe0@gmail.com, lastName=erwe0@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTIzMDA1N30.4nkwlKEGl4ZUI8qMAdUNwJQG0g9Pbo5M7WBcugQDoYIPNtyRAgoWUz099MCijmImaE7kWL4-4aJNpKJKUaqQLg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM2NTcsImV4cCI6MTc0OTc0ODQ1N30.CRjgx41svDS5gMLWMZF7e2SplvQRtjMSCuIFNJKce9cJdyCnh7rT7auntuQdHn19shazg8CadzqTTebCmU638g, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:15:48 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 16068 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 21:15:48 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 21:15:49 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 21:15:49 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 21:15:50 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-05 21:15:50 [main] WARN  o.h.boot.model.internal.EntityBinder - HHH000457: Joined inheritance hierarchy [com.strahovka.delivery.Insurance$BaseApplication] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)
2025-06-05 21:15:52 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-05 21:15:53 [main] INFO  com.strahovka.StrahovkaApplication - Started StrahovkaApplication in 5.41 seconds (process running for 5.907)
2025-06-05 21:16:26 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - createKaskoApplication called. Authenticated user email: null. Application payload email: erwe1488@gmail.com
2025-06-05 21:16:26 [http-nio-8081-exec-8] INFO  c.strahovka.service.InsuranceService - Unauthenticated flow. Using email from payload: erwe1488@gmail.com to find/create user.
2025-06-05 21:16:26 [http-nio-8081-exec-8] INFO  c.strahovka.service.InsuranceService - Finding or creating user for email: erwe1488@gmail.com
2025-06-05 21:16:26 [http-nio-8081-exec-8] INFO  c.strahovka.service.InsuranceService - User 3 found/created for email: erwe1488@gmail.com
2025-06-05 21:16:26 [http-nio-8081-exec-8] INFO  c.strahovka.service.InsuranceService - Updated user 3 profile with firstName: erwe1488. Ensure lastName is handled if available from DTOs.
2025-06-05 21:16:31 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:16:31 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:16:31 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:16:31 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 21:16:31 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:16:31 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:16:31 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:16:31 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:16:31 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:16:31 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:16:31 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 21:16:31 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:17:49 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 20584 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 21:17:49 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 21:17:51 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 21:17:51 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 21:17:51 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-05 21:17:51 [main] WARN  o.h.boot.model.internal.EntityBinder - HHH000457: Joined inheritance hierarchy [com.strahovka.delivery.Insurance$BaseApplication] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)
2025-06-05 21:17:53 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-05 21:17:54 [main] INFO  com.strahovka.StrahovkaApplication - Started StrahovkaApplication in 5.282 seconds (process running for 5.789)
2025-06-05 21:17:59 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:17:59 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:17:59 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:17:59 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:17:59 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:17:59 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:17:59 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 21:17:59 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:17:59 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:17:59 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:17:59 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 21:17:59 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:17:59 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:17:59 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:17:59 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:17:59 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:17:59 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 21:17:59 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:18:02 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 21:18:02 [http-nio-8081-exec-3] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 21:18:04 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:18:04 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:18:04 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:18:04 [http-nio-8081-exec-7] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 21:18:04 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:18:04 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:18:04 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:18:04 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:18:04 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:18:04 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:18:04 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:18:04 [http-nio-8081-exec-3] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 21:18:05 [http-nio-8081-exec-10] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 21:18:05 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 21:18:06 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:18:06 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:18:06 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:18:06 [http-nio-8081-exec-3] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 21:18:06 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:18:06 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:18:06 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:18:06 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:18:06 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:18:06 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:18:06 [http-nio-8081-exec-7] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 21:18:06 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:18:09 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - processKaskoPayment called for app ID: 2. Auth email: erwe1488@gmail.com
2025-06-05 21:18:09 [http-nio-8081-exec-4] ERROR c.s.controller.InsuranceController - Error processing Kasko payment - application not found or not owned by user: KaskoApplication application found with id: 2, but it is of an unexpected type: KaskoApplication
2025-06-05 21:18:31 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 21:18:31 [http-nio-8081-exec-8] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 21:18:50 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - createTravelApplication called. Authenticated user email: erwe1488@gmail.com. Application payload email: erwe1488@gmail.com
2025-06-05 21:18:50 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Authenticated user: erwe1488@gmail.com. Email in application DTO: erwe1488@gmail.com
2025-06-05 21:18:50 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Updated user 3 profile with firstName: erwe1488. Ensure lastName is handled if available from DTOs.
2025-06-05 21:18:51 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:18:51 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:18:51 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:18:51 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 21:18:51 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:18:51 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:18:51 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:18:51 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:18:51 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:18:51 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:18:51 [http-nio-8081-exec-8] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 21:18:51 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:18:53 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - processTravelPayment called for app ID: 3. Auth email: erwe1488@gmail.com
2025-06-05 21:18:53 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Finding or creating user for email: erwe1488@gmail.com
2025-06-05 21:18:53 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - User 3 found/created for email: erwe1488@gmail.com
2025-06-05 21:18:53 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 21:18:53 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Application ID 3 (type: TRAVEL) status updated to PAID after policy creation for user erwe1488@gmail.com.
2025-06-05 21:18:53 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:18:53 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:18:53 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:18:53 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:18:53 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:18:53 [http-nio-8081-exec-3] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 21:18:56 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 21:18:56 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 21:18:59 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - createClaimWithFiles called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]], PolicyId: 2
2025-06-05 21:19:22 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Authenticated user erwe1488@gmail.com is processing package for themself (email match).
2025-06-05 21:19:22 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Updated package user 3 profile with data from payload. Name: erwe1488 ter, Phone: 423
2025-06-05 21:19:22 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Selected insurance types in package: [HEALTH]
2025-06-05 21:19:22 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Processing package item. Type: 'HEALTH', Data: {firstName=erwe1488, lastName=ter, middleName=tre, birthDate=2025-06-11, gender=MALE, passport=1111111111, snils=11111111111, address=4wer, phone=423, email=erwe1488@gmail.com, hasChronic=false, chronicDetails=, coverageAmount=1000000, startDate=2025-06-04, endDate=2025-06-20}
2025-06-05 21:19:33 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Authenticated user erwe1488@gmail.com is processing package for themself (email match).
2025-06-05 21:19:33 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Updated package user 3 profile with data from payload. Name: erwe1488 ter, Phone: 423
2025-06-05 21:19:33 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Selected insurance types in package: [KASKO]
2025-06-05 21:19:33 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Processing package item. Type: 'KASKO', Data: {carMake=rew, carModel=rwe, carYear=1998, vinNumber=55555555555555555, licensePlate=543rte, carValue=555555, driverLicenseNumber=5, driverExperienceYears=5, hasAntiTheftSystem=false, garageParking=false, previousInsuranceNumber=5, duration=12, email=erwe1488@gmail.com}
2025-06-05 21:20:08 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Authenticated user erwe1488@gmail.com is processing package for themself (email match).
2025-06-05 21:20:08 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Updated package user 3 profile with data from payload. Name: erwe1488 ter, Phone: 423
2025-06-05 21:20:08 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Selected insurance types in package: [OSAGO]
2025-06-05 21:20:08 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Processing package item. Type: 'OSAGO', Data: {ownerLastName=rte, ownerFirstName=etr, ownerMiddleName=ter, ownerBirthDate=2025-06-01T20:00:00.000Z, ownerPassportSeries=5, ownerPassportNumber=5, ownerAddress=5, carMake=5t, carModel=ter, carYear=1998, vinNumber=1111111111, licensePlate=rw4, registrationCertificate=4we, registrationDate=2025-06-02T20:00:00.000Z, enginePower=424, regionRegistration=4, startDate=2025-06-04T20:00:00.000Z, endDate=2025-06-15T20:00:00.000Z, duration=12, isUnlimitedDrivers=false, drivers=[{lastName=rwe, firstName=rew, middleName=rwe, birthDate=2025-06-03T20:00:00.000Z, drivingExperience=4, licenseNumber=42r, licenseDate=2025-06-04T20:00:00.000Z}], hasAccidentsLastYear=false, previousPolicyNumber=, notes=, driverLicenseNumber=42r, driverExperienceYears=4, email=erwe1488@gmail.com}
2025-06-05 21:20:10 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:20:10 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:20:10 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:20:10 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 21:20:10 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:20:10 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=4, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:20:10 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=5, DeterminedType=KASKO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:20:10 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:20:10 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=6, DeterminedType=OSAGO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:20:10 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:20:10 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:20:10 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:20:10 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:20:10 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 21:20:10 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:20:10 [http-nio-8081-exec-7] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=4, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:20:10 [http-nio-8081-exec-7] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=5, DeterminedType=KASKO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:20:10 [http-nio-8081-exec-7] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=6, DeterminedType=OSAGO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:20:13 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Processing payment for package ID: 2, User: erwe1488@gmail.com
2025-06-05 21:20:13 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Processing application ID 4 (type: HEALTH) in package 2. Current status: PENDING_PACKAGE
2025-06-05 21:20:13 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Application ID 4 status updated to PAID.
2025-06-05 21:20:13 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 2 active policies, new level: BRONZE
2025-06-05 21:20:13 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Policy ID 3 created for application ID 4 in package 2.
2025-06-05 21:20:13 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Processing application ID 5 (type: KASKO) in package 2. Current status: PENDING_PACKAGE
2025-06-05 21:20:13 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Application ID 5 status updated to PAID.
2025-06-05 21:20:13 [http-nio-8081-exec-5] WARN  c.strahovka.service.InsuranceService - Unsupported application type 'KASKO' for policy creation in package 2. Skipping policy creation for app ID 5.
2025-06-05 21:20:13 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Processing application ID 6 (type: OSAGO) in package 2. Current status: PENDING_PACKAGE
2025-06-05 21:20:13 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Application ID 6 status updated to PAID.
2025-06-05 21:20:13 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 3 active policies, new level: SILVER
2025-06-05 21:20:13 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Policy ID 4 created for application ID 6 in package 2.
2025-06-05 21:20:13 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Package ID 2 status updated to PAID (now COMPLETED). Payment processing complete.
2025-06-05 21:20:13 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:20:13 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:20:13 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:20:13 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:20:13 [http-nio-8081-exec-10] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 3 active policies, new level: SILVER
2025-06-05 21:20:13 [http-nio-8081-exec-3] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=4, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:20:13 [http-nio-8081-exec-3] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=5, DeterminedType=KASKO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:20:13 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:20:13 [http-nio-8081-exec-3] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=6, DeterminedType=OSAGO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:20:36 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 12412 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 21:20:36 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 21:20:38 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 21:20:38 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 21:20:38 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-05 21:20:39 [main] WARN  o.h.boot.model.internal.EntityBinder - HHH000457: Joined inheritance hierarchy [com.strahovka.delivery.Insurance$BaseApplication] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)
2025-06-05 21:20:41 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-05 21:20:41 [main] INFO  com.strahovka.StrahovkaApplication - Started StrahovkaApplication in 5.584 seconds (process running for 6.041)
2025-06-05 21:20:45 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:20:45 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:20:45 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:20:45 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:20:45 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 3 active policies, new level: SILVER
2025-06-05 21:20:45 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:20:45 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:20:45 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:20:46 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:20:46 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:20:46 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:20:46 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=4, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:20:46 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:20:46 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=5, DeterminedType=KASKO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:20:46 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:20:46 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=6, DeterminedType=OSAGO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:20:46 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:20:46 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:20:46 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 3 active policies, new level: SILVER
2025-06-05 21:20:46 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:20:46 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=4, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:20:46 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 3 active policies, new level: SILVER
2025-06-05 21:20:46 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=5, DeterminedType=KASKO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:20:46 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=6, DeterminedType=OSAGO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:20:46 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=4, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:20:46 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=5, DeterminedType=KASKO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:20:46 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=6, DeterminedType=OSAGO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:20:50 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - processKaskoPayment called for app ID: 2. Auth email: erwe1488@gmail.com
2025-06-05 21:20:50 [http-nio-8081-exec-3] ERROR c.s.controller.InsuranceController - Error processing Kasko payment - application not found or not owned by user: KaskoApplication application found with id: 2, but it is of an unexpected type: KaskoApplication
2025-06-05 21:21:07 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - processKaskoPayment called for app ID: 2. Auth email: erwe1488@gmail.com
2025-06-05 21:21:07 [http-nio-8081-exec-5] ERROR c.s.controller.InsuranceController - Error processing Kasko payment - application not found or not owned by user: KaskoApplication application found with id: 2, but it is of an unexpected type: KaskoApplication
2025-06-05 21:21:15 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - cancelPolicy called for policy ID: 2, by user: erwe1488@gmail.com
2025-06-05 21:21:15 [http-nio-8081-exec-7] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 2 active policies, new level: BRONZE
2025-06-05 21:21:15 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:21:15 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:21:15 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:21:15 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:21:15 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:21:15 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 2 active policies, new level: BRONZE
2025-06-05 21:21:30 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - createKaskoApplication called. Authenticated user email: erwe1488@gmail.com. Application payload email: null
2025-06-05 21:21:30 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Authenticated user: erwe1488@gmail.com. Email in application DTO: null
2025-06-05 21:21:30 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Updated user 3 profile with firstName: erwe1488. Ensure lastName is handled if available from DTOs.
2025-06-05 21:21:31 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:21:31 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:21:31 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:21:31 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 2 active policies, new level: BRONZE
2025-06-05 21:21:31 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=4, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:21:31 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=5, DeterminedType=KASKO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:21:31 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=6, DeterminedType=OSAGO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:21:31 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:21:31 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:21:31 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:21:31 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:21:31 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:21:31 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:21:31 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:21:31 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 2 active policies, new level: BRONZE
2025-06-05 21:21:31 [http-nio-8081-exec-3] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=4, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:21:31 [http-nio-8081-exec-3] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=5, DeterminedType=KASKO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:21:31 [http-nio-8081-exec-3] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=6, DeterminedType=OSAGO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:21:35 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - processKaskoPayment called for app ID: 7. Auth email: erwe1488@gmail.com
2025-06-05 21:21:35 [http-nio-8081-exec-4] ERROR c.s.controller.InsuranceController - Error processing Kasko payment - application not found or not owned by user: KaskoApplication application found with id: 7, but it is of an unexpected type: KaskoApplication
2025-06-05 21:21:35 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - processKaskoPayment called for app ID: 2. Auth email: erwe1488@gmail.com
2025-06-05 21:21:35 [http-nio-8081-exec-5] ERROR c.s.controller.InsuranceController - Error processing Kasko payment - application not found or not owned by user: KaskoApplication application found with id: 2, but it is of an unexpected type: KaskoApplication
2025-06-05 21:22:42 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:22:42 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:22:42 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:22:42 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 2 active policies, new level: BRONZE
2025-06-05 21:22:42 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:22:42 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:22:42 [http-nio-8081-exec-8] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=4, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:22:42 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:22:42 [http-nio-8081-exec-8] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=5, DeterminedType=KASKO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:22:42 [http-nio-8081-exec-8] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=6, DeterminedType=OSAGO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:22:42 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:22:42 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:22:42 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 2 active policies, new level: BRONZE
2025-06-05 21:22:42 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:22:42 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 21:22:42 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=4, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:22:42 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=5, DeterminedType=KASKO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:22:42 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=6, DeterminedType=OSAGO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:23:17 [http-nio-8081-exec-3] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 2 active policies, new level: BRONZE
2025-06-05 21:23:17 [http-nio-8081-exec-3] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 2 active policies, new level: BRONZE
2025-06-05 21:23:19 [http-nio-8081-exec-7] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 2 active policies, new level: BRONZE
2025-06-05 21:23:19 [http-nio-8081-exec-8] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 2 active policies, new level: BRONZE
2025-06-05 21:23:22 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:23:22 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:23:22 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:23:22 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 2 active policies, new level: BRONZE
2025-06-05 21:23:22 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:23:22 [http-nio-8081-exec-3] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=4, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:23:22 [http-nio-8081-exec-3] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=5, DeterminedType=KASKO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:23:22 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:23:22 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:23:22 [http-nio-8081-exec-3] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=6, DeterminedType=OSAGO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:23:22 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:23:22 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:23:22 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:23:22 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:23:22 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 2 active policies, new level: BRONZE
2025-06-05 21:23:22 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=4, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:23:22 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=5, DeterminedType=KASKO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:23:22 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=6, DeterminedType=OSAGO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:23:57 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - cancelPolicy called for policy ID: 4, by user: erwe1488@gmail.com
2025-06-05 21:23:57 [http-nio-8081-exec-3] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 21:23:57 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:23:57 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:23:57 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:23:57 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:23:57 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:23:57 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 21:24:15 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:24:15 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:24:15 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:24:15 [http-nio-8081-exec-7] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 21:24:15 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=4, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:24:15 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=5, DeterminedType=KASKO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:24:15 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=6, DeterminedType=OSAGO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:24:15 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:24:15 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:34:10 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 4756 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 21:34:10 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 21:34:12 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 21:34:12 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 21:34:12 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-05 21:34:12 [main] WARN  o.h.boot.model.internal.EntityBinder - HHH000457: Joined inheritance hierarchy [com.strahovka.delivery.Insurance$BaseApplication] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)
2025-06-05 21:34:14 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-05 21:34:15 [main] INFO  com.strahovka.StrahovkaApplication - Started StrahovkaApplication in 5.286 seconds (process running for 5.76)
2025-06-05 21:34:24 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:34:24 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:34:24 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:34:24 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:34:24 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 21:34:24 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:34:24 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:34:24 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:34:24 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:34:24 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:34:24 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:34:24 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=4, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:34:24 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:34:24 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=5, DeterminedType=KASKO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:34:24 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:34:24 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:34:24 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=6, DeterminedType=OSAGO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:34:24 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:34:24 [http-nio-8081-exec-3] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 21:34:24 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:34:24 [http-nio-8081-exec-7] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=4, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:34:24 [http-nio-8081-exec-7] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=5, DeterminedType=KASKO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:34:24 [http-nio-8081-exec-7] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=6, DeterminedType=OSAGO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:34:24 [http-nio-8081-exec-8] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 21:34:24 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=4, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:34:24 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=5, DeterminedType=KASKO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:34:24 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=6, DeterminedType=OSAGO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:34:26 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - processKaskoPayment called for app ID: 2. Auth email: erwe1488@gmail.com
2025-06-05 21:34:26 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Finding or creating user for email: erwe1488@gmail.com
2025-06-05 21:34:26 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - User 3 found/created for email: erwe1488@gmail.com
2025-06-05 21:34:26 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 2 active policies, new level: BRONZE
2025-06-05 21:34:26 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Application ID 2 (type: AUTO) status updated to PAID after policy creation for user erwe1488@gmail.com.
2025-06-05 21:34:26 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:34:26 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:34:26 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:34:26 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:34:26 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=BRONZE, policyCount=2), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:34:26 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 2 active policies, new level: BRONZE
2025-06-05 21:34:28 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - processKaskoPayment called for app ID: 7. Auth email: erwe1488@gmail.com
2025-06-05 21:34:28 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Finding or creating user for email: erwe1488@gmail.com
2025-06-05 21:34:28 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - User 3 found/created for email: erwe1488@gmail.com
2025-06-05 21:34:28 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 3 active policies, new level: SILVER
2025-06-05 21:34:28 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Application ID 7 (type: AUTO) status updated to PAID after policy creation for user erwe1488@gmail.com.
2025-06-05 21:34:28 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:34:28 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:34:28 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:34:28 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:34:28 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:34:28 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 3 active policies, new level: SILVER
2025-06-05 21:34:39 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:34:39 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:34:39 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:34:39 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 3 active policies, new level: SILVER
2025-06-05 21:34:39 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=4, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:34:39 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=5, DeterminedType=KASKO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:34:39 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:34:39 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=6, DeterminedType=OSAGO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:34:39 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:34:39 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:34:39 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:34:39 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:34:39 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:34:39 [http-nio-8081-exec-8] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 3 active policies, new level: SILVER
2025-06-05 21:34:39 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:34:39 [http-nio-8081-exec-3] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=4, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:34:39 [http-nio-8081-exec-3] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=5, DeterminedType=KASKO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:34:39 [http-nio-8081-exec-3] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=6, DeterminedType=OSAGO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:34:41 [http-nio-8081-exec-7] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 3 active policies, new level: SILVER
2025-06-05 21:34:41 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 3 active policies, new level: SILVER
2025-06-05 21:35:16 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:35:16 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:35:16 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:35:16 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 3 active policies, new level: SILVER
2025-06-05 21:35:16 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=4, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:35:16 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:35:16 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=5, DeterminedType=KASKO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:35:16 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:35:16 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:35:16 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=6, DeterminedType=OSAGO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:35:16 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:35:16 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:35:16 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:35:16 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTIzMDE5MX0.WiwMe94ZVO-rfOV74BSJsO3X0Naavq7RBWZ_pbwh3prjda2AMKqXbMJuVzOFWLOlYkgiDSqb4e6Zsr9V8Gftmw, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDM3OTEsImV4cCI6MTc0OTc0ODU5MX0.-99it4JO6OZbXvTZN0KYxYVSeB1a4lVDwbXqFiFB6OC0tZ1dDOd1QZjTboLzvRbPsn-KpzYw2jxjkZSiAmVNZA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:35:16 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 3 active policies, new level: SILVER
2025-06-05 21:35:16 [http-nio-8081-exec-8] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=4, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:35:16 [http-nio-8081-exec-8] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=5, DeterminedType=KASKO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:35:16 [http-nio-8081-exec-8] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=6, DeterminedType=OSAGO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:56:25 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 19156 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 21:56:25 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 21:56:27 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 21:56:27 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 21:56:27 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-05 21:56:28 [main] WARN  o.h.boot.model.internal.EntityBinder - HHH000457: Joined inheritance hierarchy [com.strahovka.delivery.Insurance$BaseApplication] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)
2025-06-05 21:56:29 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-05 21:56:30 [main] INFO  com.strahovka.StrahovkaApplication - Started StrahovkaApplication in 5.394 seconds (process running for 5.835)
2025-06-05 21:56:53 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 21372 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 21:56:53 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 21:56:55 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 21:56:55 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 21:56:56 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-05 21:56:56 [main] WARN  o.h.boot.model.internal.EntityBinder - HHH000457: Joined inheritance hierarchy [com.strahovka.delivery.Insurance$BaseApplication] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)
2025-06-05 21:56:58 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-05 21:56:58 [main] INFO  com.strahovka.StrahovkaApplication - Started StrahovkaApplication in 5.487 seconds (process running for 5.927)
2025-06-05 21:57:01 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTIzMjYyMX0.We9dCthrFx-SS-GDRdUcQ3j1h95y9KpBS5S2xCS7vkHCj1btERic2RFANqM6ugdUmbn2FlIUZVrUuANjCL2yug, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTc1MTAyMX0.D4Bpp-02hVT9qh7UV_aIotJF2OYSPOG7bAUFKpAh_aoCFQC-w5ac3ahk4c0Y8xutLfwkcdS9tKUUYpvWORphFA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:57:01 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTIzMjYyMX0.We9dCthrFx-SS-GDRdUcQ3j1h95y9KpBS5S2xCS7vkHCj1btERic2RFANqM6ugdUmbn2FlIUZVrUuANjCL2yug, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTc1MTAyMX0.D4Bpp-02hVT9qh7UV_aIotJF2OYSPOG7bAUFKpAh_aoCFQC-w5ac3ahk4c0Y8xutLfwkcdS9tKUUYpvWORphFA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:57:01 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTIzMjYyMX0.We9dCthrFx-SS-GDRdUcQ3j1h95y9KpBS5S2xCS7vkHCj1btERic2RFANqM6ugdUmbn2FlIUZVrUuANjCL2yug, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTc1MTAyMX0.D4Bpp-02hVT9qh7UV_aIotJF2OYSPOG7bAUFKpAh_aoCFQC-w5ac3ahk4c0Y8xutLfwkcdS9tKUUYpvWORphFA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:57:01 [http-nio-8081-exec-3] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 3 active policies, new level: SILVER
2025-06-05 21:57:01 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTIzMjYyMX0.We9dCthrFx-SS-GDRdUcQ3j1h95y9KpBS5S2xCS7vkHCj1btERic2RFANqM6ugdUmbn2FlIUZVrUuANjCL2yug, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTc1MTAyMX0.D4Bpp-02hVT9qh7UV_aIotJF2OYSPOG7bAUFKpAh_aoCFQC-w5ac3ahk4c0Y8xutLfwkcdS9tKUUYpvWORphFA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:57:01 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTIzMjYyMX0.We9dCthrFx-SS-GDRdUcQ3j1h95y9KpBS5S2xCS7vkHCj1btERic2RFANqM6ugdUmbn2FlIUZVrUuANjCL2yug, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTc1MTAyMX0.D4Bpp-02hVT9qh7UV_aIotJF2OYSPOG7bAUFKpAh_aoCFQC-w5ac3ahk4c0Y8xutLfwkcdS9tKUUYpvWORphFA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:57:01 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTIzMjYyMX0.We9dCthrFx-SS-GDRdUcQ3j1h95y9KpBS5S2xCS7vkHCj1btERic2RFANqM6ugdUmbn2FlIUZVrUuANjCL2yug, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTc1MTAyMX0.D4Bpp-02hVT9qh7UV_aIotJF2OYSPOG7bAUFKpAh_aoCFQC-w5ac3ahk4c0Y8xutLfwkcdS9tKUUYpvWORphFA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:57:01 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTIzMjYyMX0.We9dCthrFx-SS-GDRdUcQ3j1h95y9KpBS5S2xCS7vkHCj1btERic2RFANqM6ugdUmbn2FlIUZVrUuANjCL2yug, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTc1MTAyMX0.D4Bpp-02hVT9qh7UV_aIotJF2OYSPOG7bAUFKpAh_aoCFQC-w5ac3ahk4c0Y8xutLfwkcdS9tKUUYpvWORphFA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:57:01 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTIzMjYyMX0.We9dCthrFx-SS-GDRdUcQ3j1h95y9KpBS5S2xCS7vkHCj1btERic2RFANqM6ugdUmbn2FlIUZVrUuANjCL2yug, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTc1MTAyMX0.D4Bpp-02hVT9qh7UV_aIotJF2OYSPOG7bAUFKpAh_aoCFQC-w5ac3ahk4c0Y8xutLfwkcdS9tKUUYpvWORphFA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:57:01 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTIzMjYyMX0.We9dCthrFx-SS-GDRdUcQ3j1h95y9KpBS5S2xCS7vkHCj1btERic2RFANqM6ugdUmbn2FlIUZVrUuANjCL2yug, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTc1MTAyMX0.D4Bpp-02hVT9qh7UV_aIotJF2OYSPOG7bAUFKpAh_aoCFQC-w5ac3ahk4c0Y8xutLfwkcdS9tKUUYpvWORphFA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:57:01 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=4, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:57:01 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTIzMjYyMX0.We9dCthrFx-SS-GDRdUcQ3j1h95y9KpBS5S2xCS7vkHCj1btERic2RFANqM6ugdUmbn2FlIUZVrUuANjCL2yug, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTc1MTAyMX0.D4Bpp-02hVT9qh7UV_aIotJF2OYSPOG7bAUFKpAh_aoCFQC-w5ac3ahk4c0Y8xutLfwkcdS9tKUUYpvWORphFA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:57:01 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=5, DeterminedType=KASKO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:57:01 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=6, DeterminedType=OSAGO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:57:01 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 3 active policies, new level: SILVER
2025-06-05 21:57:01 [http-nio-8081-exec-10] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=4, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:57:01 [http-nio-8081-exec-10] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=5, DeterminedType=KASKO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:57:01 [http-nio-8081-exec-10] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=6, DeterminedType=OSAGO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:58:09 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 6420 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 21:58:09 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 21:58:11 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 21:58:11 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 21:58:11 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-05 21:58:12 [main] WARN  o.h.boot.model.internal.EntityBinder - HHH000457: Joined inheritance hierarchy [com.strahovka.delivery.Insurance$BaseApplication] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)
2025-06-05 21:58:14 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-05 21:58:14 [main] INFO  com.strahovka.StrahovkaApplication - Started StrahovkaApplication in 5.372 seconds (process running for 5.863)
2025-06-05 21:58:15 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTIzMjYyMX0.We9dCthrFx-SS-GDRdUcQ3j1h95y9KpBS5S2xCS7vkHCj1btERic2RFANqM6ugdUmbn2FlIUZVrUuANjCL2yug, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTc1MTAyMX0.D4Bpp-02hVT9qh7UV_aIotJF2OYSPOG7bAUFKpAh_aoCFQC-w5ac3ahk4c0Y8xutLfwkcdS9tKUUYpvWORphFA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:58:15 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTIzMjYyMX0.We9dCthrFx-SS-GDRdUcQ3j1h95y9KpBS5S2xCS7vkHCj1btERic2RFANqM6ugdUmbn2FlIUZVrUuANjCL2yug, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTc1MTAyMX0.D4Bpp-02hVT9qh7UV_aIotJF2OYSPOG7bAUFKpAh_aoCFQC-w5ac3ahk4c0Y8xutLfwkcdS9tKUUYpvWORphFA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:58:15 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTIzMjYyMX0.We9dCthrFx-SS-GDRdUcQ3j1h95y9KpBS5S2xCS7vkHCj1btERic2RFANqM6ugdUmbn2FlIUZVrUuANjCL2yug, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTc1MTAyMX0.D4Bpp-02hVT9qh7UV_aIotJF2OYSPOG7bAUFKpAh_aoCFQC-w5ac3ahk4c0Y8xutLfwkcdS9tKUUYpvWORphFA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:58:15 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTIzMjYyMX0.We9dCthrFx-SS-GDRdUcQ3j1h95y9KpBS5S2xCS7vkHCj1btERic2RFANqM6ugdUmbn2FlIUZVrUuANjCL2yug, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTc1MTAyMX0.D4Bpp-02hVT9qh7UV_aIotJF2OYSPOG7bAUFKpAh_aoCFQC-w5ac3ahk4c0Y8xutLfwkcdS9tKUUYpvWORphFA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:58:16 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 3 active policies, new level: SILVER
2025-06-05 21:58:16 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTIzMjYyMX0.We9dCthrFx-SS-GDRdUcQ3j1h95y9KpBS5S2xCS7vkHCj1btERic2RFANqM6ugdUmbn2FlIUZVrUuANjCL2yug, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTc1MTAyMX0.D4Bpp-02hVT9qh7UV_aIotJF2OYSPOG7bAUFKpAh_aoCFQC-w5ac3ahk4c0Y8xutLfwkcdS9tKUUYpvWORphFA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:58:16 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTIzMjYyMX0.We9dCthrFx-SS-GDRdUcQ3j1h95y9KpBS5S2xCS7vkHCj1btERic2RFANqM6ugdUmbn2FlIUZVrUuANjCL2yug, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTc1MTAyMX0.D4Bpp-02hVT9qh7UV_aIotJF2OYSPOG7bAUFKpAh_aoCFQC-w5ac3ahk4c0Y8xutLfwkcdS9tKUUYpvWORphFA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:58:16 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTIzMjYyMX0.We9dCthrFx-SS-GDRdUcQ3j1h95y9KpBS5S2xCS7vkHCj1btERic2RFANqM6ugdUmbn2FlIUZVrUuANjCL2yug, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTc1MTAyMX0.D4Bpp-02hVT9qh7UV_aIotJF2OYSPOG7bAUFKpAh_aoCFQC-w5ac3ahk4c0Y8xutLfwkcdS9tKUUYpvWORphFA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:58:16 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTIzMjYyMX0.We9dCthrFx-SS-GDRdUcQ3j1h95y9KpBS5S2xCS7vkHCj1btERic2RFANqM6ugdUmbn2FlIUZVrUuANjCL2yug, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTc1MTAyMX0.D4Bpp-02hVT9qh7UV_aIotJF2OYSPOG7bAUFKpAh_aoCFQC-w5ac3ahk4c0Y8xutLfwkcdS9tKUUYpvWORphFA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:58:16 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTIzMjYyMX0.We9dCthrFx-SS-GDRdUcQ3j1h95y9KpBS5S2xCS7vkHCj1btERic2RFANqM6ugdUmbn2FlIUZVrUuANjCL2yug, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTc1MTAyMX0.D4Bpp-02hVT9qh7UV_aIotJF2OYSPOG7bAUFKpAh_aoCFQC-w5ac3ahk4c0Y8xutLfwkcdS9tKUUYpvWORphFA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:58:16 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTIzMjYyMX0.We9dCthrFx-SS-GDRdUcQ3j1h95y9KpBS5S2xCS7vkHCj1btERic2RFANqM6ugdUmbn2FlIUZVrUuANjCL2yug, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTc1MTAyMX0.D4Bpp-02hVT9qh7UV_aIotJF2OYSPOG7bAUFKpAh_aoCFQC-w5ac3ahk4c0Y8xutLfwkcdS9tKUUYpvWORphFA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:58:16 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTIzMjYyMX0.We9dCthrFx-SS-GDRdUcQ3j1h95y9KpBS5S2xCS7vkHCj1btERic2RFANqM6ugdUmbn2FlIUZVrUuANjCL2yug, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTc1MTAyMX0.D4Bpp-02hVT9qh7UV_aIotJF2OYSPOG7bAUFKpAh_aoCFQC-w5ac3ahk4c0Y8xutLfwkcdS9tKUUYpvWORphFA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:58:16 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTIzMjYyMX0.We9dCthrFx-SS-GDRdUcQ3j1h95y9KpBS5S2xCS7vkHCj1btERic2RFANqM6ugdUmbn2FlIUZVrUuANjCL2yug, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTc1MTAyMX0.D4Bpp-02hVT9qh7UV_aIotJF2OYSPOG7bAUFKpAh_aoCFQC-w5ac3ahk4c0Y8xutLfwkcdS9tKUUYpvWORphFA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:58:16 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTIzMjYyMX0.We9dCthrFx-SS-GDRdUcQ3j1h95y9KpBS5S2xCS7vkHCj1btERic2RFANqM6ugdUmbn2FlIUZVrUuANjCL2yug, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTc1MTAyMX0.D4Bpp-02hVT9qh7UV_aIotJF2OYSPOG7bAUFKpAh_aoCFQC-w5ac3ahk4c0Y8xutLfwkcdS9tKUUYpvWORphFA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:58:16 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=4, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:58:16 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTIzMjYyMX0.We9dCthrFx-SS-GDRdUcQ3j1h95y9KpBS5S2xCS7vkHCj1btERic2RFANqM6ugdUmbn2FlIUZVrUuANjCL2yug, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTc1MTAyMX0.D4Bpp-02hVT9qh7UV_aIotJF2OYSPOG7bAUFKpAh_aoCFQC-w5ac3ahk4c0Y8xutLfwkcdS9tKUUYpvWORphFA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:58:16 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=5, DeterminedType=KASKO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:58:16 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=6, DeterminedType=OSAGO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:58:16 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTIzMjYyMX0.We9dCthrFx-SS-GDRdUcQ3j1h95y9KpBS5S2xCS7vkHCj1btERic2RFANqM6ugdUmbn2FlIUZVrUuANjCL2yug, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDYyMjEsImV4cCI6MTc0OTc1MTAyMX0.D4Bpp-02hVT9qh7UV_aIotJF2OYSPOG7bAUFKpAh_aoCFQC-w5ac3ahk4c0Y8xutLfwkcdS9tKUUYpvWORphFA, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 21:58:16 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 3 active policies, new level: SILVER
2025-06-05 21:58:16 [http-nio-8081-exec-8] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=4, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:58:16 [http-nio-8081-exec-8] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=5, DeterminedType=KASKO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:58:16 [http-nio-8081-exec-8] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=6, DeterminedType=OSAGO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:58:16 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 3 active policies, new level: SILVER
2025-06-05 21:58:16 [http-nio-8081-exec-8] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=4, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:58:16 [http-nio-8081-exec-8] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=5, DeterminedType=KASKO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 21:58:16 [http-nio-8081-exec-8] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=6, DeterminedType=OSAGO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 22:01:19 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 24888 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 22:01:19 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 22:01:21 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 22:01:21 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 22:01:22 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-05 22:01:22 [main] WARN  o.h.boot.model.internal.EntityBinder - HHH000457: Joined inheritance hierarchy [com.strahovka.delivery.Insurance$BaseApplication] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)
2025-06-05 22:01:24 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-05 22:01:24 [main] INFO  com.strahovka.StrahovkaApplication - Started StrahovkaApplication in 5.355 seconds (process running for 5.791)
2025-06-05 22:01:35 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTIzMjg5NX0.c3KbjvTxcqGQJxoiL9HFU7sPkBEkFVYMPq2NOadrBtEb1-S6CO7egGHR9i7kY-WGwrSGKhHuUxWaEhpILlYAMg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTc1MTI5NX0.m2GTt1EGkNF8f888N_-GBIQMlKIRneQ4yo52M3o_UpbDq2nfVCu19GEpDFi0aR4XKhjOIfmQZRjHGX8aaKiBxw, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:01:35 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTIzMjg5NX0.c3KbjvTxcqGQJxoiL9HFU7sPkBEkFVYMPq2NOadrBtEb1-S6CO7egGHR9i7kY-WGwrSGKhHuUxWaEhpILlYAMg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTc1MTI5NX0.m2GTt1EGkNF8f888N_-GBIQMlKIRneQ4yo52M3o_UpbDq2nfVCu19GEpDFi0aR4XKhjOIfmQZRjHGX8aaKiBxw, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:01:35 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTIzMjg5NX0.c3KbjvTxcqGQJxoiL9HFU7sPkBEkFVYMPq2NOadrBtEb1-S6CO7egGHR9i7kY-WGwrSGKhHuUxWaEhpILlYAMg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTc1MTI5NX0.m2GTt1EGkNF8f888N_-GBIQMlKIRneQ4yo52M3o_UpbDq2nfVCu19GEpDFi0aR4XKhjOIfmQZRjHGX8aaKiBxw, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:01:35 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 3 active policies, new level: SILVER
2025-06-05 22:01:35 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTIzMjg5NX0.c3KbjvTxcqGQJxoiL9HFU7sPkBEkFVYMPq2NOadrBtEb1-S6CO7egGHR9i7kY-WGwrSGKhHuUxWaEhpILlYAMg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTc1MTI5NX0.m2GTt1EGkNF8f888N_-GBIQMlKIRneQ4yo52M3o_UpbDq2nfVCu19GEpDFi0aR4XKhjOIfmQZRjHGX8aaKiBxw, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:01:35 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTIzMjg5NX0.c3KbjvTxcqGQJxoiL9HFU7sPkBEkFVYMPq2NOadrBtEb1-S6CO7egGHR9i7kY-WGwrSGKhHuUxWaEhpILlYAMg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTc1MTI5NX0.m2GTt1EGkNF8f888N_-GBIQMlKIRneQ4yo52M3o_UpbDq2nfVCu19GEpDFi0aR4XKhjOIfmQZRjHGX8aaKiBxw, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:01:35 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTIzMjg5NX0.c3KbjvTxcqGQJxoiL9HFU7sPkBEkFVYMPq2NOadrBtEb1-S6CO7egGHR9i7kY-WGwrSGKhHuUxWaEhpILlYAMg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTc1MTI5NX0.m2GTt1EGkNF8f888N_-GBIQMlKIRneQ4yo52M3o_UpbDq2nfVCu19GEpDFi0aR4XKhjOIfmQZRjHGX8aaKiBxw, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:01:35 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTIzMjg5NX0.c3KbjvTxcqGQJxoiL9HFU7sPkBEkFVYMPq2NOadrBtEb1-S6CO7egGHR9i7kY-WGwrSGKhHuUxWaEhpILlYAMg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTc1MTI5NX0.m2GTt1EGkNF8f888N_-GBIQMlKIRneQ4yo52M3o_UpbDq2nfVCu19GEpDFi0aR4XKhjOIfmQZRjHGX8aaKiBxw, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:01:35 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTIzMjg5NX0.c3KbjvTxcqGQJxoiL9HFU7sPkBEkFVYMPq2NOadrBtEb1-S6CO7egGHR9i7kY-WGwrSGKhHuUxWaEhpILlYAMg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTc1MTI5NX0.m2GTt1EGkNF8f888N_-GBIQMlKIRneQ4yo52M3o_UpbDq2nfVCu19GEpDFi0aR4XKhjOIfmQZRjHGX8aaKiBxw, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:01:35 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTIzMjg5NX0.c3KbjvTxcqGQJxoiL9HFU7sPkBEkFVYMPq2NOadrBtEb1-S6CO7egGHR9i7kY-WGwrSGKhHuUxWaEhpILlYAMg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTc1MTI5NX0.m2GTt1EGkNF8f888N_-GBIQMlKIRneQ4yo52M3o_UpbDq2nfVCu19GEpDFi0aR4XKhjOIfmQZRjHGX8aaKiBxw, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:01:35 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTIzMjg5NX0.c3KbjvTxcqGQJxoiL9HFU7sPkBEkFVYMPq2NOadrBtEb1-S6CO7egGHR9i7kY-WGwrSGKhHuUxWaEhpILlYAMg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTc1MTI5NX0.m2GTt1EGkNF8f888N_-GBIQMlKIRneQ4yo52M3o_UpbDq2nfVCu19GEpDFi0aR4XKhjOIfmQZRjHGX8aaKiBxw, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:01:35 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=4, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=2
2025-06-05 22:01:35 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=5, DeterminedType=KASKO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 22:01:35 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=6, DeterminedType=OSAGO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 22:01:35 [http-nio-8081-exec-7] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 3 active policies, new level: SILVER
2025-06-05 22:01:35 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=4, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=2
2025-06-05 22:01:35 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=5, DeterminedType=KASKO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 22:01:35 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=6, DeterminedType=OSAGO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 22:01:49 [http-nio-8081-exec-7] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 3 active policies, new level: SILVER
2025-06-05 22:01:49 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 3 active policies, new level: SILVER
2025-06-05 22:01:51 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTIzMjg5NX0.c3KbjvTxcqGQJxoiL9HFU7sPkBEkFVYMPq2NOadrBtEb1-S6CO7egGHR9i7kY-WGwrSGKhHuUxWaEhpILlYAMg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTc1MTI5NX0.m2GTt1EGkNF8f888N_-GBIQMlKIRneQ4yo52M3o_UpbDq2nfVCu19GEpDFi0aR4XKhjOIfmQZRjHGX8aaKiBxw, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:01:51 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTIzMjg5NX0.c3KbjvTxcqGQJxoiL9HFU7sPkBEkFVYMPq2NOadrBtEb1-S6CO7egGHR9i7kY-WGwrSGKhHuUxWaEhpILlYAMg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTc1MTI5NX0.m2GTt1EGkNF8f888N_-GBIQMlKIRneQ4yo52M3o_UpbDq2nfVCu19GEpDFi0aR4XKhjOIfmQZRjHGX8aaKiBxw, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:01:51 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTIzMjg5NX0.c3KbjvTxcqGQJxoiL9HFU7sPkBEkFVYMPq2NOadrBtEb1-S6CO7egGHR9i7kY-WGwrSGKhHuUxWaEhpILlYAMg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTc1MTI5NX0.m2GTt1EGkNF8f888N_-GBIQMlKIRneQ4yo52M3o_UpbDq2nfVCu19GEpDFi0aR4XKhjOIfmQZRjHGX8aaKiBxw, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:01:51 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 3 active policies, new level: SILVER
2025-06-05 22:01:51 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTIzMjg5NX0.c3KbjvTxcqGQJxoiL9HFU7sPkBEkFVYMPq2NOadrBtEb1-S6CO7egGHR9i7kY-WGwrSGKhHuUxWaEhpILlYAMg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTc1MTI5NX0.m2GTt1EGkNF8f888N_-GBIQMlKIRneQ4yo52M3o_UpbDq2nfVCu19GEpDFi0aR4XKhjOIfmQZRjHGX8aaKiBxw, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:01:51 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTIzMjg5NX0.c3KbjvTxcqGQJxoiL9HFU7sPkBEkFVYMPq2NOadrBtEb1-S6CO7egGHR9i7kY-WGwrSGKhHuUxWaEhpILlYAMg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTc1MTI5NX0.m2GTt1EGkNF8f888N_-GBIQMlKIRneQ4yo52M3o_UpbDq2nfVCu19GEpDFi0aR4XKhjOIfmQZRjHGX8aaKiBxw, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:01:51 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTIzMjg5NX0.c3KbjvTxcqGQJxoiL9HFU7sPkBEkFVYMPq2NOadrBtEb1-S6CO7egGHR9i7kY-WGwrSGKhHuUxWaEhpILlYAMg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTc1MTI5NX0.m2GTt1EGkNF8f888N_-GBIQMlKIRneQ4yo52M3o_UpbDq2nfVCu19GEpDFi0aR4XKhjOIfmQZRjHGX8aaKiBxw, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:01:51 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=4, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=2
2025-06-05 22:01:51 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=5, DeterminedType=KASKO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 22:01:51 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=6, DeterminedType=OSAGO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 22:01:51 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTIzMjg5NX0.c3KbjvTxcqGQJxoiL9HFU7sPkBEkFVYMPq2NOadrBtEb1-S6CO7egGHR9i7kY-WGwrSGKhHuUxWaEhpILlYAMg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTc1MTI5NX0.m2GTt1EGkNF8f888N_-GBIQMlKIRneQ4yo52M3o_UpbDq2nfVCu19GEpDFi0aR4XKhjOIfmQZRjHGX8aaKiBxw, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:01:51 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTIzMjg5NX0.c3KbjvTxcqGQJxoiL9HFU7sPkBEkFVYMPq2NOadrBtEb1-S6CO7egGHR9i7kY-WGwrSGKhHuUxWaEhpILlYAMg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTc1MTI5NX0.m2GTt1EGkNF8f888N_-GBIQMlKIRneQ4yo52M3o_UpbDq2nfVCu19GEpDFi0aR4XKhjOIfmQZRjHGX8aaKiBxw, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:01:51 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTIzMjg5NX0.c3KbjvTxcqGQJxoiL9HFU7sPkBEkFVYMPq2NOadrBtEb1-S6CO7egGHR9i7kY-WGwrSGKhHuUxWaEhpILlYAMg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTc1MTI5NX0.m2GTt1EGkNF8f888N_-GBIQMlKIRneQ4yo52M3o_UpbDq2nfVCu19GEpDFi0aR4XKhjOIfmQZRjHGX8aaKiBxw, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:01:51 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTIzMjg5NX0.c3KbjvTxcqGQJxoiL9HFU7sPkBEkFVYMPq2NOadrBtEb1-S6CO7egGHR9i7kY-WGwrSGKhHuUxWaEhpILlYAMg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTc1MTI5NX0.m2GTt1EGkNF8f888N_-GBIQMlKIRneQ4yo52M3o_UpbDq2nfVCu19GEpDFi0aR4XKhjOIfmQZRjHGX8aaKiBxw, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:01:51 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 3 active policies, new level: SILVER
2025-06-05 22:01:51 [http-nio-8081-exec-10] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=4, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=2
2025-06-05 22:01:51 [http-nio-8081-exec-10] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=5, DeterminedType=KASKO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 22:01:51 [http-nio-8081-exec-10] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=6, DeterminedType=OSAGO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 22:02:09 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - createHealthApplication called. Authenticated user email: erwe1488@gmail.com. Application payload email: null
2025-06-05 22:02:09 [http-nio-8081-exec-7] INFO  c.strahovka.service.InsuranceService - Authenticated user: erwe1488@gmail.com. Email in application DTO: null
2025-06-05 22:02:09 [http-nio-8081-exec-7] INFO  c.strahovka.service.InsuranceService - Updated user 3 profile with firstName: erwe1488. Ensure lastName is handled if available from DTOs.
2025-06-05 22:02:09 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTIzMjg5NX0.c3KbjvTxcqGQJxoiL9HFU7sPkBEkFVYMPq2NOadrBtEb1-S6CO7egGHR9i7kY-WGwrSGKhHuUxWaEhpILlYAMg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTc1MTI5NX0.m2GTt1EGkNF8f888N_-GBIQMlKIRneQ4yo52M3o_UpbDq2nfVCu19GEpDFi0aR4XKhjOIfmQZRjHGX8aaKiBxw, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:02:09 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTIzMjg5NX0.c3KbjvTxcqGQJxoiL9HFU7sPkBEkFVYMPq2NOadrBtEb1-S6CO7egGHR9i7kY-WGwrSGKhHuUxWaEhpILlYAMg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTc1MTI5NX0.m2GTt1EGkNF8f888N_-GBIQMlKIRneQ4yo52M3o_UpbDq2nfVCu19GEpDFi0aR4XKhjOIfmQZRjHGX8aaKiBxw, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:02:09 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTIzMjg5NX0.c3KbjvTxcqGQJxoiL9HFU7sPkBEkFVYMPq2NOadrBtEb1-S6CO7egGHR9i7kY-WGwrSGKhHuUxWaEhpILlYAMg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTc1MTI5NX0.m2GTt1EGkNF8f888N_-GBIQMlKIRneQ4yo52M3o_UpbDq2nfVCu19GEpDFi0aR4XKhjOIfmQZRjHGX8aaKiBxw, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:02:09 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 3 active policies, new level: SILVER
2025-06-05 22:02:09 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=4, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=2
2025-06-05 22:02:09 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=5, DeterminedType=KASKO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 22:02:09 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=6, DeterminedType=OSAGO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 22:02:09 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTIzMjg5NX0.c3KbjvTxcqGQJxoiL9HFU7sPkBEkFVYMPq2NOadrBtEb1-S6CO7egGHR9i7kY-WGwrSGKhHuUxWaEhpILlYAMg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTc1MTI5NX0.m2GTt1EGkNF8f888N_-GBIQMlKIRneQ4yo52M3o_UpbDq2nfVCu19GEpDFi0aR4XKhjOIfmQZRjHGX8aaKiBxw, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:02:09 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTIzMjg5NX0.c3KbjvTxcqGQJxoiL9HFU7sPkBEkFVYMPq2NOadrBtEb1-S6CO7egGHR9i7kY-WGwrSGKhHuUxWaEhpILlYAMg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTc1MTI5NX0.m2GTt1EGkNF8f888N_-GBIQMlKIRneQ4yo52M3o_UpbDq2nfVCu19GEpDFi0aR4XKhjOIfmQZRjHGX8aaKiBxw, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:02:09 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTIzMjg5NX0.c3KbjvTxcqGQJxoiL9HFU7sPkBEkFVYMPq2NOadrBtEb1-S6CO7egGHR9i7kY-WGwrSGKhHuUxWaEhpILlYAMg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTc1MTI5NX0.m2GTt1EGkNF8f888N_-GBIQMlKIRneQ4yo52M3o_UpbDq2nfVCu19GEpDFi0aR4XKhjOIfmQZRjHGX8aaKiBxw, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:02:09 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTIzMjg5NX0.c3KbjvTxcqGQJxoiL9HFU7sPkBEkFVYMPq2NOadrBtEb1-S6CO7egGHR9i7kY-WGwrSGKhHuUxWaEhpILlYAMg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTc1MTI5NX0.m2GTt1EGkNF8f888N_-GBIQMlKIRneQ4yo52M3o_UpbDq2nfVCu19GEpDFi0aR4XKhjOIfmQZRjHGX8aaKiBxw, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:02:09 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTIzMjg5NX0.c3KbjvTxcqGQJxoiL9HFU7sPkBEkFVYMPq2NOadrBtEb1-S6CO7egGHR9i7kY-WGwrSGKhHuUxWaEhpILlYAMg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTc1MTI5NX0.m2GTt1EGkNF8f888N_-GBIQMlKIRneQ4yo52M3o_UpbDq2nfVCu19GEpDFi0aR4XKhjOIfmQZRjHGX8aaKiBxw, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:02:09 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTIzMjg5NX0.c3KbjvTxcqGQJxoiL9HFU7sPkBEkFVYMPq2NOadrBtEb1-S6CO7egGHR9i7kY-WGwrSGKhHuUxWaEhpILlYAMg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTc1MTI5NX0.m2GTt1EGkNF8f888N_-GBIQMlKIRneQ4yo52M3o_UpbDq2nfVCu19GEpDFi0aR4XKhjOIfmQZRjHGX8aaKiBxw, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:02:09 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 3 active policies, new level: SILVER
2025-06-05 22:02:09 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTIzMjg5NX0.c3KbjvTxcqGQJxoiL9HFU7sPkBEkFVYMPq2NOadrBtEb1-S6CO7egGHR9i7kY-WGwrSGKhHuUxWaEhpILlYAMg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTc1MTI5NX0.m2GTt1EGkNF8f888N_-GBIQMlKIRneQ4yo52M3o_UpbDq2nfVCu19GEpDFi0aR4XKhjOIfmQZRjHGX8aaKiBxw, level=SILVER, policyCount=3), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:02:09 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=4, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=2
2025-06-05 22:02:09 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=5, DeterminedType=KASKO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 22:02:09 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=6, DeterminedType=OSAGO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 22:02:13 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - processHealthPayment called for app ID: 8. Auth email: erwe1488@gmail.com
2025-06-05 22:02:13 [http-nio-8081-exec-7] INFO  c.strahovka.service.InsuranceService - Finding or creating user for email: erwe1488@gmail.com
2025-06-05 22:02:13 [http-nio-8081-exec-7] INFO  c.strahovka.service.InsuranceService - User 3 found/created for email: erwe1488@gmail.com
2025-06-05 22:02:13 [http-nio-8081-exec-7] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 4 active policies, new level: SILVER
2025-06-05 22:02:13 [http-nio-8081-exec-7] INFO  c.strahovka.service.InsuranceService - Application ID 8 (type: HEALTH) status updated to PAID after policy creation for user erwe1488@gmail.com.
2025-06-05 22:02:13 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTIzMjg5NX0.c3KbjvTxcqGQJxoiL9HFU7sPkBEkFVYMPq2NOadrBtEb1-S6CO7egGHR9i7kY-WGwrSGKhHuUxWaEhpILlYAMg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTc1MTI5NX0.m2GTt1EGkNF8f888N_-GBIQMlKIRneQ4yo52M3o_UpbDq2nfVCu19GEpDFi0aR4XKhjOIfmQZRjHGX8aaKiBxw, level=SILVER, policyCount=4), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:02:13 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTIzMjg5NX0.c3KbjvTxcqGQJxoiL9HFU7sPkBEkFVYMPq2NOadrBtEb1-S6CO7egGHR9i7kY-WGwrSGKhHuUxWaEhpILlYAMg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTc1MTI5NX0.m2GTt1EGkNF8f888N_-GBIQMlKIRneQ4yo52M3o_UpbDq2nfVCu19GEpDFi0aR4XKhjOIfmQZRjHGX8aaKiBxw, level=SILVER, policyCount=4), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:02:13 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTIzMjg5NX0.c3KbjvTxcqGQJxoiL9HFU7sPkBEkFVYMPq2NOadrBtEb1-S6CO7egGHR9i7kY-WGwrSGKhHuUxWaEhpILlYAMg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTc1MTI5NX0.m2GTt1EGkNF8f888N_-GBIQMlKIRneQ4yo52M3o_UpbDq2nfVCu19GEpDFi0aR4XKhjOIfmQZRjHGX8aaKiBxw, level=SILVER, policyCount=4), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:02:13 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTIzMjg5NX0.c3KbjvTxcqGQJxoiL9HFU7sPkBEkFVYMPq2NOadrBtEb1-S6CO7egGHR9i7kY-WGwrSGKhHuUxWaEhpILlYAMg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTc1MTI5NX0.m2GTt1EGkNF8f888N_-GBIQMlKIRneQ4yo52M3o_UpbDq2nfVCu19GEpDFi0aR4XKhjOIfmQZRjHGX8aaKiBxw, level=SILVER, policyCount=4), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:02:13 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTIzMjg5NX0.c3KbjvTxcqGQJxoiL9HFU7sPkBEkFVYMPq2NOadrBtEb1-S6CO7egGHR9i7kY-WGwrSGKhHuUxWaEhpILlYAMg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY0OTUsImV4cCI6MTc0OTc1MTI5NX0.m2GTt1EGkNF8f888N_-GBIQMlKIRneQ4yo52M3o_UpbDq2nfVCu19GEpDFi0aR4XKhjOIfmQZRjHGX8aaKiBxw, level=SILVER, policyCount=4), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:02:13 [http-nio-8081-exec-10] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 4 active policies, new level: SILVER
2025-06-05 22:03:18 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 24012 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 22:03:18 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 22:03:19 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 22:03:19 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 22:03:20 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-05 22:03:20 [main] WARN  o.h.boot.model.internal.EntityBinder - HHH000457: Joined inheritance hierarchy [com.strahovka.delivery.Insurance$BaseApplication] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)
2025-06-05 22:03:22 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-05 22:03:22 [main] INFO  com.strahovka.StrahovkaApplication - Started StrahovkaApplication in 5.1 seconds (process running for 5.538)
2025-06-05 22:03:31 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY2MTEsImV4cCI6MTc0OTIzMzAxMX0.fB_saVIWrfi6LJEDey6WCwqD8Hoc01pGhFwYbp1oFeCXFVe73GlOpPdvsSH-ArN_20lr8hZqfVw1n5IjVDqxCg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY2MTEsImV4cCI6MTc0OTc1MTQxMX0.zcP7SN6gVZkhORNz1TVqc7ad2MvrR2KvZQks8h1EQfhfbSpbneTCmtJr-La2a9l8T4kV4AXzK4_c8DF-0xKUQg, level=SILVER, policyCount=4), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:03:31 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY2MTEsImV4cCI6MTc0OTIzMzAxMX0.fB_saVIWrfi6LJEDey6WCwqD8Hoc01pGhFwYbp1oFeCXFVe73GlOpPdvsSH-ArN_20lr8hZqfVw1n5IjVDqxCg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY2MTEsImV4cCI6MTc0OTc1MTQxMX0.zcP7SN6gVZkhORNz1TVqc7ad2MvrR2KvZQks8h1EQfhfbSpbneTCmtJr-La2a9l8T4kV4AXzK4_c8DF-0xKUQg, level=SILVER, policyCount=4), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:03:31 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY2MTEsImV4cCI6MTc0OTIzMzAxMX0.fB_saVIWrfi6LJEDey6WCwqD8Hoc01pGhFwYbp1oFeCXFVe73GlOpPdvsSH-ArN_20lr8hZqfVw1n5IjVDqxCg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY2MTEsImV4cCI6MTc0OTc1MTQxMX0.zcP7SN6gVZkhORNz1TVqc7ad2MvrR2KvZQks8h1EQfhfbSpbneTCmtJr-La2a9l8T4kV4AXzK4_c8DF-0xKUQg, level=SILVER, policyCount=4), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:03:31 [http-nio-8081-exec-8] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 4 active policies, new level: SILVER
2025-06-05 22:03:31 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=4, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=2
2025-06-05 22:03:31 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY2MTEsImV4cCI6MTc0OTIzMzAxMX0.fB_saVIWrfi6LJEDey6WCwqD8Hoc01pGhFwYbp1oFeCXFVe73GlOpPdvsSH-ArN_20lr8hZqfVw1n5IjVDqxCg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY2MTEsImV4cCI6MTc0OTc1MTQxMX0.zcP7SN6gVZkhORNz1TVqc7ad2MvrR2KvZQks8h1EQfhfbSpbneTCmtJr-La2a9l8T4kV4AXzK4_c8DF-0xKUQg, level=SILVER, policyCount=4), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:03:31 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY2MTEsImV4cCI6MTc0OTIzMzAxMX0.fB_saVIWrfi6LJEDey6WCwqD8Hoc01pGhFwYbp1oFeCXFVe73GlOpPdvsSH-ArN_20lr8hZqfVw1n5IjVDqxCg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY2MTEsImV4cCI6MTc0OTc1MTQxMX0.zcP7SN6gVZkhORNz1TVqc7ad2MvrR2KvZQks8h1EQfhfbSpbneTCmtJr-La2a9l8T4kV4AXzK4_c8DF-0xKUQg, level=SILVER, policyCount=4), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:03:31 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY2MTEsImV4cCI6MTc0OTIzMzAxMX0.fB_saVIWrfi6LJEDey6WCwqD8Hoc01pGhFwYbp1oFeCXFVe73GlOpPdvsSH-ArN_20lr8hZqfVw1n5IjVDqxCg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY2MTEsImV4cCI6MTc0OTc1MTQxMX0.zcP7SN6gVZkhORNz1TVqc7ad2MvrR2KvZQks8h1EQfhfbSpbneTCmtJr-La2a9l8T4kV4AXzK4_c8DF-0xKUQg, level=SILVER, policyCount=4), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:03:31 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=5, DeterminedType=KASKO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 22:03:31 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=6, DeterminedType=OSAGO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 22:03:31 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY2MTEsImV4cCI6MTc0OTIzMzAxMX0.fB_saVIWrfi6LJEDey6WCwqD8Hoc01pGhFwYbp1oFeCXFVe73GlOpPdvsSH-ArN_20lr8hZqfVw1n5IjVDqxCg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY2MTEsImV4cCI6MTc0OTc1MTQxMX0.zcP7SN6gVZkhORNz1TVqc7ad2MvrR2KvZQks8h1EQfhfbSpbneTCmtJr-La2a9l8T4kV4AXzK4_c8DF-0xKUQg, level=SILVER, policyCount=4), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:03:31 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY2MTEsImV4cCI6MTc0OTIzMzAxMX0.fB_saVIWrfi6LJEDey6WCwqD8Hoc01pGhFwYbp1oFeCXFVe73GlOpPdvsSH-ArN_20lr8hZqfVw1n5IjVDqxCg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY2MTEsImV4cCI6MTc0OTc1MTQxMX0.zcP7SN6gVZkhORNz1TVqc7ad2MvrR2KvZQks8h1EQfhfbSpbneTCmtJr-La2a9l8T4kV4AXzK4_c8DF-0xKUQg, level=SILVER, policyCount=4), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:03:31 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY2MTEsImV4cCI6MTc0OTIzMzAxMX0.fB_saVIWrfi6LJEDey6WCwqD8Hoc01pGhFwYbp1oFeCXFVe73GlOpPdvsSH-ArN_20lr8hZqfVw1n5IjVDqxCg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY2MTEsImV4cCI6MTc0OTc1MTQxMX0.zcP7SN6gVZkhORNz1TVqc7ad2MvrR2KvZQks8h1EQfhfbSpbneTCmtJr-La2a9l8T4kV4AXzK4_c8DF-0xKUQg, level=SILVER, policyCount=4), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:03:31 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=3, email=erwe1488@gmail.com, password=$2a$10$b3yoVuvGRBKc8i1zToxJvu/3tPBvVGV4G8chJcKeASrWUyAmSMRlq, firstName=erwe1488, lastName=ter, middleName=null, phone=423, role=ADMIN, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY2MTEsImV4cCI6MTc0OTIzMzAxMX0.fB_saVIWrfi6LJEDey6WCwqD8Hoc01pGhFwYbp1oFeCXFVe73GlOpPdvsSH-ArN_20lr8hZqfVw1n5IjVDqxCg, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNDY2MTEsImV4cCI6MTc0OTc1MTQxMX0.zcP7SN6gVZkhORNz1TVqc7ad2MvrR2KvZQks8h1EQfhfbSpbneTCmtJr-La2a9l8T4kV4AXzK4_c8DF-0xKUQg, level=SILVER, policyCount=4), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-06-05 22:03:31 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 4 active policies, new level: SILVER
2025-06-05 22:03:31 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=4, DeterminedType=HEALTH, User=erwe1488@gmail.com, PackageID=2
2025-06-05 22:03:31 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=5, DeterminedType=KASKO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 22:03:31 [http-nio-8081-exec-4] INFO  c.strahovka.service.InsuranceService - Including application in package: AppID=6, DeterminedType=OSAGO, User=erwe1488@gmail.com, PackageID=2
2025-06-05 22:03:35 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 4 active policies, new level: SILVER
2025-06-05 22:03:35 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 4 active policies, new level: SILVER
2025-06-05 22:04:12 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - createTravelApplication called. Authenticated user email: null. Application payload email: erwe00@gmail.com
2025-06-05 22:04:12 [http-nio-8081-exec-3] INFO  c.strahovka.service.InsuranceService - Unauthenticated flow. Using email from payload: erwe00@gmail.com to find/create user.
2025-06-05 22:04:12 [http-nio-8081-exec-3] INFO  c.strahovka.service.InsuranceService - Finding or creating user for email: erwe00@gmail.com
2025-06-05 22:04:12 [http-nio-8081-exec-3] INFO  c.strahovka.service.InsuranceService - User 4 found/created for email: erwe00@gmail.com
2025-06-05 22:04:12 [http-nio-8081-exec-3] INFO  c.strahovka.service.InsuranceService - Updated user 4 profile with firstName: erwe00. Ensure lastName is handled if available from DTOs.
2025-06-05 22:04:16 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$iW92VnQslM9jNMJZY5N7zeFp82xyW3jGlp3kL9KeDonpDCbKRV4tu, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDkyMzMwNTZ9.vOE1MQb0JLHmPyhsNCPdwIn1G1r1sw28K47HO8Utiehp6YryP6GKsJ5gStw-C1Hm0lPLsarkh63e_PXjLjHG_Q, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDk3NTE0NTZ9.LGwaHibOoGkQm8aTr_m__kLZljn1STsMgdJGZJTCW0n2Ngbhxn7oVgagmghYU3zJBlJCJR2w9efjSzzbK-0ZIQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:04:16 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$iW92VnQslM9jNMJZY5N7zeFp82xyW3jGlp3kL9KeDonpDCbKRV4tu, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDkyMzMwNTZ9.vOE1MQb0JLHmPyhsNCPdwIn1G1r1sw28K47HO8Utiehp6YryP6GKsJ5gStw-C1Hm0lPLsarkh63e_PXjLjHG_Q, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDk3NTE0NTZ9.LGwaHibOoGkQm8aTr_m__kLZljn1STsMgdJGZJTCW0n2Ngbhxn7oVgagmghYU3zJBlJCJR2w9efjSzzbK-0ZIQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:04:16 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$iW92VnQslM9jNMJZY5N7zeFp82xyW3jGlp3kL9KeDonpDCbKRV4tu, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDkyMzMwNTZ9.vOE1MQb0JLHmPyhsNCPdwIn1G1r1sw28K47HO8Utiehp6YryP6GKsJ5gStw-C1Hm0lPLsarkh63e_PXjLjHG_Q, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDk3NTE0NTZ9.LGwaHibOoGkQm8aTr_m__kLZljn1STsMgdJGZJTCW0n2Ngbhxn7oVgagmghYU3zJBlJCJR2w9efjSzzbK-0ZIQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:04:16 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe00@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 22:04:16 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$iW92VnQslM9jNMJZY5N7zeFp82xyW3jGlp3kL9KeDonpDCbKRV4tu, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDkyMzMwNTZ9.vOE1MQb0JLHmPyhsNCPdwIn1G1r1sw28K47HO8Utiehp6YryP6GKsJ5gStw-C1Hm0lPLsarkh63e_PXjLjHG_Q, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDk3NTE0NTZ9.LGwaHibOoGkQm8aTr_m__kLZljn1STsMgdJGZJTCW0n2Ngbhxn7oVgagmghYU3zJBlJCJR2w9efjSzzbK-0ZIQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:04:16 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$iW92VnQslM9jNMJZY5N7zeFp82xyW3jGlp3kL9KeDonpDCbKRV4tu, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDkyMzMwNTZ9.vOE1MQb0JLHmPyhsNCPdwIn1G1r1sw28K47HO8Utiehp6YryP6GKsJ5gStw-C1Hm0lPLsarkh63e_PXjLjHG_Q, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDk3NTE0NTZ9.LGwaHibOoGkQm8aTr_m__kLZljn1STsMgdJGZJTCW0n2Ngbhxn7oVgagmghYU3zJBlJCJR2w9efjSzzbK-0ZIQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:04:16 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$iW92VnQslM9jNMJZY5N7zeFp82xyW3jGlp3kL9KeDonpDCbKRV4tu, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDkyMzMwNTZ9.vOE1MQb0JLHmPyhsNCPdwIn1G1r1sw28K47HO8Utiehp6YryP6GKsJ5gStw-C1Hm0lPLsarkh63e_PXjLjHG_Q, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDk3NTE0NTZ9.LGwaHibOoGkQm8aTr_m__kLZljn1STsMgdJGZJTCW0n2Ngbhxn7oVgagmghYU3zJBlJCJR2w9efjSzzbK-0ZIQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:04:16 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$iW92VnQslM9jNMJZY5N7zeFp82xyW3jGlp3kL9KeDonpDCbKRV4tu, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDkyMzMwNTZ9.vOE1MQb0JLHmPyhsNCPdwIn1G1r1sw28K47HO8Utiehp6YryP6GKsJ5gStw-C1Hm0lPLsarkh63e_PXjLjHG_Q, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDk3NTE0NTZ9.LGwaHibOoGkQm8aTr_m__kLZljn1STsMgdJGZJTCW0n2Ngbhxn7oVgagmghYU3zJBlJCJR2w9efjSzzbK-0ZIQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:04:16 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$iW92VnQslM9jNMJZY5N7zeFp82xyW3jGlp3kL9KeDonpDCbKRV4tu, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDkyMzMwNTZ9.vOE1MQb0JLHmPyhsNCPdwIn1G1r1sw28K47HO8Utiehp6YryP6GKsJ5gStw-C1Hm0lPLsarkh63e_PXjLjHG_Q, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDk3NTE0NTZ9.LGwaHibOoGkQm8aTr_m__kLZljn1STsMgdJGZJTCW0n2Ngbhxn7oVgagmghYU3zJBlJCJR2w9efjSzzbK-0ZIQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:04:16 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$iW92VnQslM9jNMJZY5N7zeFp82xyW3jGlp3kL9KeDonpDCbKRV4tu, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDkyMzMwNTZ9.vOE1MQb0JLHmPyhsNCPdwIn1G1r1sw28K47HO8Utiehp6YryP6GKsJ5gStw-C1Hm0lPLsarkh63e_PXjLjHG_Q, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDk3NTE0NTZ9.LGwaHibOoGkQm8aTr_m__kLZljn1STsMgdJGZJTCW0n2Ngbhxn7oVgagmghYU3zJBlJCJR2w9efjSzzbK-0ZIQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:04:16 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$iW92VnQslM9jNMJZY5N7zeFp82xyW3jGlp3kL9KeDonpDCbKRV4tu, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDkyMzMwNTZ9.vOE1MQb0JLHmPyhsNCPdwIn1G1r1sw28K47HO8Utiehp6YryP6GKsJ5gStw-C1Hm0lPLsarkh63e_PXjLjHG_Q, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDk3NTE0NTZ9.LGwaHibOoGkQm8aTr_m__kLZljn1STsMgdJGZJTCW0n2Ngbhxn7oVgagmghYU3zJBlJCJR2w9efjSzzbK-0ZIQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:04:16 [http-nio-8081-exec-10] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe00@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 22:04:19 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - processTravelPayment called for app ID: 9. Auth email: erwe00@gmail.com
2025-06-05 22:04:19 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Finding or creating user for email: erwe00@gmail.com
2025-06-05 22:04:19 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - User 4 found/created for email: erwe00@gmail.com
2025-06-05 22:04:19 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe00@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 22:04:19 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Application ID 9 (type: TRAVEL) status updated to PAID after policy creation for user erwe00@gmail.com.
2025-06-05 22:04:19 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$iW92VnQslM9jNMJZY5N7zeFp82xyW3jGlp3kL9KeDonpDCbKRV4tu, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDkyMzMwNTZ9.vOE1MQb0JLHmPyhsNCPdwIn1G1r1sw28K47HO8Utiehp6YryP6GKsJ5gStw-C1Hm0lPLsarkh63e_PXjLjHG_Q, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDk3NTE0NTZ9.LGwaHibOoGkQm8aTr_m__kLZljn1STsMgdJGZJTCW0n2Ngbhxn7oVgagmghYU3zJBlJCJR2w9efjSzzbK-0ZIQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:04:19 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$iW92VnQslM9jNMJZY5N7zeFp82xyW3jGlp3kL9KeDonpDCbKRV4tu, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDkyMzMwNTZ9.vOE1MQb0JLHmPyhsNCPdwIn1G1r1sw28K47HO8Utiehp6YryP6GKsJ5gStw-C1Hm0lPLsarkh63e_PXjLjHG_Q, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDk3NTE0NTZ9.LGwaHibOoGkQm8aTr_m__kLZljn1STsMgdJGZJTCW0n2Ngbhxn7oVgagmghYU3zJBlJCJR2w9efjSzzbK-0ZIQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:04:19 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$iW92VnQslM9jNMJZY5N7zeFp82xyW3jGlp3kL9KeDonpDCbKRV4tu, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDkyMzMwNTZ9.vOE1MQb0JLHmPyhsNCPdwIn1G1r1sw28K47HO8Utiehp6YryP6GKsJ5gStw-C1Hm0lPLsarkh63e_PXjLjHG_Q, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDk3NTE0NTZ9.LGwaHibOoGkQm8aTr_m__kLZljn1STsMgdJGZJTCW0n2Ngbhxn7oVgagmghYU3zJBlJCJR2w9efjSzzbK-0ZIQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:04:19 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$iW92VnQslM9jNMJZY5N7zeFp82xyW3jGlp3kL9KeDonpDCbKRV4tu, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDkyMzMwNTZ9.vOE1MQb0JLHmPyhsNCPdwIn1G1r1sw28K47HO8Utiehp6YryP6GKsJ5gStw-C1Hm0lPLsarkh63e_PXjLjHG_Q, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDk3NTE0NTZ9.LGwaHibOoGkQm8aTr_m__kLZljn1STsMgdJGZJTCW0n2Ngbhxn7oVgagmghYU3zJBlJCJR2w9efjSzzbK-0ZIQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:04:19 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$iW92VnQslM9jNMJZY5N7zeFp82xyW3jGlp3kL9KeDonpDCbKRV4tu, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDkyMzMwNTZ9.vOE1MQb0JLHmPyhsNCPdwIn1G1r1sw28K47HO8Utiehp6YryP6GKsJ5gStw-C1Hm0lPLsarkh63e_PXjLjHG_Q, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDk3NTE0NTZ9.LGwaHibOoGkQm8aTr_m__kLZljn1STsMgdJGZJTCW0n2Ngbhxn7oVgagmghYU3zJBlJCJR2w9efjSzzbK-0ZIQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:04:19 [http-nio-8081-exec-7] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe00@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 22:04:35 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$iW92VnQslM9jNMJZY5N7zeFp82xyW3jGlp3kL9KeDonpDCbKRV4tu, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDkyMzMwNTZ9.vOE1MQb0JLHmPyhsNCPdwIn1G1r1sw28K47HO8Utiehp6YryP6GKsJ5gStw-C1Hm0lPLsarkh63e_PXjLjHG_Q, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDk3NTE0NTZ9.LGwaHibOoGkQm8aTr_m__kLZljn1STsMgdJGZJTCW0n2Ngbhxn7oVgagmghYU3zJBlJCJR2w9efjSzzbK-0ZIQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:04:35 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$iW92VnQslM9jNMJZY5N7zeFp82xyW3jGlp3kL9KeDonpDCbKRV4tu, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDkyMzMwNTZ9.vOE1MQb0JLHmPyhsNCPdwIn1G1r1sw28K47HO8Utiehp6YryP6GKsJ5gStw-C1Hm0lPLsarkh63e_PXjLjHG_Q, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDk3NTE0NTZ9.LGwaHibOoGkQm8aTr_m__kLZljn1STsMgdJGZJTCW0n2Ngbhxn7oVgagmghYU3zJBlJCJR2w9efjSzzbK-0ZIQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:04:35 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$iW92VnQslM9jNMJZY5N7zeFp82xyW3jGlp3kL9KeDonpDCbKRV4tu, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDkyMzMwNTZ9.vOE1MQb0JLHmPyhsNCPdwIn1G1r1sw28K47HO8Utiehp6YryP6GKsJ5gStw-C1Hm0lPLsarkh63e_PXjLjHG_Q, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDk3NTE0NTZ9.LGwaHibOoGkQm8aTr_m__kLZljn1STsMgdJGZJTCW0n2Ngbhxn7oVgagmghYU3zJBlJCJR2w9efjSzzbK-0ZIQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:04:35 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe00@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 22:04:35 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$iW92VnQslM9jNMJZY5N7zeFp82xyW3jGlp3kL9KeDonpDCbKRV4tu, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDkyMzMwNTZ9.vOE1MQb0JLHmPyhsNCPdwIn1G1r1sw28K47HO8Utiehp6YryP6GKsJ5gStw-C1Hm0lPLsarkh63e_PXjLjHG_Q, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDk3NTE0NTZ9.LGwaHibOoGkQm8aTr_m__kLZljn1STsMgdJGZJTCW0n2Ngbhxn7oVgagmghYU3zJBlJCJR2w9efjSzzbK-0ZIQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:04:35 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$iW92VnQslM9jNMJZY5N7zeFp82xyW3jGlp3kL9KeDonpDCbKRV4tu, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDkyMzMwNTZ9.vOE1MQb0JLHmPyhsNCPdwIn1G1r1sw28K47HO8Utiehp6YryP6GKsJ5gStw-C1Hm0lPLsarkh63e_PXjLjHG_Q, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDk3NTE0NTZ9.LGwaHibOoGkQm8aTr_m__kLZljn1STsMgdJGZJTCW0n2Ngbhxn7oVgagmghYU3zJBlJCJR2w9efjSzzbK-0ZIQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:04:35 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$iW92VnQslM9jNMJZY5N7zeFp82xyW3jGlp3kL9KeDonpDCbKRV4tu, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDkyMzMwNTZ9.vOE1MQb0JLHmPyhsNCPdwIn1G1r1sw28K47HO8Utiehp6YryP6GKsJ5gStw-C1Hm0lPLsarkh63e_PXjLjHG_Q, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDk3NTE0NTZ9.LGwaHibOoGkQm8aTr_m__kLZljn1STsMgdJGZJTCW0n2Ngbhxn7oVgagmghYU3zJBlJCJR2w9efjSzzbK-0ZIQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:04:35 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$iW92VnQslM9jNMJZY5N7zeFp82xyW3jGlp3kL9KeDonpDCbKRV4tu, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDkyMzMwNTZ9.vOE1MQb0JLHmPyhsNCPdwIn1G1r1sw28K47HO8Utiehp6YryP6GKsJ5gStw-C1Hm0lPLsarkh63e_PXjLjHG_Q, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDk3NTE0NTZ9.LGwaHibOoGkQm8aTr_m__kLZljn1STsMgdJGZJTCW0n2Ngbhxn7oVgagmghYU3zJBlJCJR2w9efjSzzbK-0ZIQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:04:35 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$iW92VnQslM9jNMJZY5N7zeFp82xyW3jGlp3kL9KeDonpDCbKRV4tu, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDkyMzMwNTZ9.vOE1MQb0JLHmPyhsNCPdwIn1G1r1sw28K47HO8Utiehp6YryP6GKsJ5gStw-C1Hm0lPLsarkh63e_PXjLjHG_Q, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDk3NTE0NTZ9.LGwaHibOoGkQm8aTr_m__kLZljn1STsMgdJGZJTCW0n2Ngbhxn7oVgagmghYU3zJBlJCJR2w9efjSzzbK-0ZIQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:04:35 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$iW92VnQslM9jNMJZY5N7zeFp82xyW3jGlp3kL9KeDonpDCbKRV4tu, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDkyMzMwNTZ9.vOE1MQb0JLHmPyhsNCPdwIn1G1r1sw28K47HO8Utiehp6YryP6GKsJ5gStw-C1Hm0lPLsarkh63e_PXjLjHG_Q, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDk3NTE0NTZ9.LGwaHibOoGkQm8aTr_m__kLZljn1STsMgdJGZJTCW0n2Ngbhxn7oVgagmghYU3zJBlJCJR2w9efjSzzbK-0ZIQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:04:35 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe00@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 22:04:35 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$iW92VnQslM9jNMJZY5N7zeFp82xyW3jGlp3kL9KeDonpDCbKRV4tu, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDkyMzMwNTZ9.vOE1MQb0JLHmPyhsNCPdwIn1G1r1sw28K47HO8Utiehp6YryP6GKsJ5gStw-C1Hm0lPLsarkh63e_PXjLjHG_Q, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDk3NTE0NTZ9.LGwaHibOoGkQm8aTr_m__kLZljn1STsMgdJGZJTCW0n2Ngbhxn7oVgagmghYU3zJBlJCJR2w9efjSzzbK-0ZIQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:04:35 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$iW92VnQslM9jNMJZY5N7zeFp82xyW3jGlp3kL9KeDonpDCbKRV4tu, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDkyMzMwNTZ9.vOE1MQb0JLHmPyhsNCPdwIn1G1r1sw28K47HO8Utiehp6YryP6GKsJ5gStw-C1Hm0lPLsarkh63e_PXjLjHG_Q, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDk3NTE0NTZ9.LGwaHibOoGkQm8aTr_m__kLZljn1STsMgdJGZJTCW0n2Ngbhxn7oVgagmghYU3zJBlJCJR2w9efjSzzbK-0ZIQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:04:35 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$iW92VnQslM9jNMJZY5N7zeFp82xyW3jGlp3kL9KeDonpDCbKRV4tu, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDkyMzMwNTZ9.vOE1MQb0JLHmPyhsNCPdwIn1G1r1sw28K47HO8Utiehp6YryP6GKsJ5gStw-C1Hm0lPLsarkh63e_PXjLjHG_Q, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDk3NTE0NTZ9.LGwaHibOoGkQm8aTr_m__kLZljn1STsMgdJGZJTCW0n2Ngbhxn7oVgagmghYU3zJBlJCJR2w9efjSzzbK-0ZIQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:04:35 [http-nio-8081-exec-7] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe00@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 22:04:35 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$iW92VnQslM9jNMJZY5N7zeFp82xyW3jGlp3kL9KeDonpDCbKRV4tu, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDkyMzMwNTZ9.vOE1MQb0JLHmPyhsNCPdwIn1G1r1sw28K47HO8Utiehp6YryP6GKsJ5gStw-C1Hm0lPLsarkh63e_PXjLjHG_Q, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDk3NTE0NTZ9.LGwaHibOoGkQm8aTr_m__kLZljn1STsMgdJGZJTCW0n2Ngbhxn7oVgagmghYU3zJBlJCJR2w9efjSzzbK-0ZIQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:04:35 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$iW92VnQslM9jNMJZY5N7zeFp82xyW3jGlp3kL9KeDonpDCbKRV4tu, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDkyMzMwNTZ9.vOE1MQb0JLHmPyhsNCPdwIn1G1r1sw28K47HO8Utiehp6YryP6GKsJ5gStw-C1Hm0lPLsarkh63e_PXjLjHG_Q, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDk3NTE0NTZ9.LGwaHibOoGkQm8aTr_m__kLZljn1STsMgdJGZJTCW0n2Ngbhxn7oVgagmghYU3zJBlJCJR2w9efjSzzbK-0ZIQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:04:35 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$iW92VnQslM9jNMJZY5N7zeFp82xyW3jGlp3kL9KeDonpDCbKRV4tu, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDkyMzMwNTZ9.vOE1MQb0JLHmPyhsNCPdwIn1G1r1sw28K47HO8Utiehp6YryP6GKsJ5gStw-C1Hm0lPLsarkh63e_PXjLjHG_Q, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDk3NTE0NTZ9.LGwaHibOoGkQm8aTr_m__kLZljn1STsMgdJGZJTCW0n2Ngbhxn7oVgagmghYU3zJBlJCJR2w9efjSzzbK-0ZIQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:06:56 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$SJrC62VjFIW06eMpCRnvR.hdytUiVrq/UE/4NvhJoKVgnNj4599Yy, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDkyMzMwNTZ9.vOE1MQb0JLHmPyhsNCPdwIn1G1r1sw28K47HO8Utiehp6YryP6GKsJ5gStw-C1Hm0lPLsarkh63e_PXjLjHG_Q, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDk3NTE0NTZ9.LGwaHibOoGkQm8aTr_m__kLZljn1STsMgdJGZJTCW0n2Ngbhxn7oVgagmghYU3zJBlJCJR2w9efjSzzbK-0ZIQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:06:56 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$SJrC62VjFIW06eMpCRnvR.hdytUiVrq/UE/4NvhJoKVgnNj4599Yy, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDkyMzMwNTZ9.vOE1MQb0JLHmPyhsNCPdwIn1G1r1sw28K47HO8Utiehp6YryP6GKsJ5gStw-C1Hm0lPLsarkh63e_PXjLjHG_Q, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDk3NTE0NTZ9.LGwaHibOoGkQm8aTr_m__kLZljn1STsMgdJGZJTCW0n2Ngbhxn7oVgagmghYU3zJBlJCJR2w9efjSzzbK-0ZIQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:06:56 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$SJrC62VjFIW06eMpCRnvR.hdytUiVrq/UE/4NvhJoKVgnNj4599Yy, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDkyMzMwNTZ9.vOE1MQb0JLHmPyhsNCPdwIn1G1r1sw28K47HO8Utiehp6YryP6GKsJ5gStw-C1Hm0lPLsarkh63e_PXjLjHG_Q, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDk3NTE0NTZ9.LGwaHibOoGkQm8aTr_m__kLZljn1STsMgdJGZJTCW0n2Ngbhxn7oVgagmghYU3zJBlJCJR2w9efjSzzbK-0ZIQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:06:56 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe00@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 22:06:56 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$SJrC62VjFIW06eMpCRnvR.hdytUiVrq/UE/4NvhJoKVgnNj4599Yy, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDkyMzMwNTZ9.vOE1MQb0JLHmPyhsNCPdwIn1G1r1sw28K47HO8Utiehp6YryP6GKsJ5gStw-C1Hm0lPLsarkh63e_PXjLjHG_Q, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDk3NTE0NTZ9.LGwaHibOoGkQm8aTr_m__kLZljn1STsMgdJGZJTCW0n2Ngbhxn7oVgagmghYU3zJBlJCJR2w9efjSzzbK-0ZIQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:06:56 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$SJrC62VjFIW06eMpCRnvR.hdytUiVrq/UE/4NvhJoKVgnNj4599Yy, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDkyMzMwNTZ9.vOE1MQb0JLHmPyhsNCPdwIn1G1r1sw28K47HO8Utiehp6YryP6GKsJ5gStw-C1Hm0lPLsarkh63e_PXjLjHG_Q, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDk3NTE0NTZ9.LGwaHibOoGkQm8aTr_m__kLZljn1STsMgdJGZJTCW0n2Ngbhxn7oVgagmghYU3zJBlJCJR2w9efjSzzbK-0ZIQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:06:56 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$SJrC62VjFIW06eMpCRnvR.hdytUiVrq/UE/4NvhJoKVgnNj4599Yy, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDkyMzMwNTZ9.vOE1MQb0JLHmPyhsNCPdwIn1G1r1sw28K47HO8Utiehp6YryP6GKsJ5gStw-C1Hm0lPLsarkh63e_PXjLjHG_Q, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDk3NTE0NTZ9.LGwaHibOoGkQm8aTr_m__kLZljn1STsMgdJGZJTCW0n2Ngbhxn7oVgagmghYU3zJBlJCJR2w9efjSzzbK-0ZIQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:06:56 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$SJrC62VjFIW06eMpCRnvR.hdytUiVrq/UE/4NvhJoKVgnNj4599Yy, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDkyMzMwNTZ9.vOE1MQb0JLHmPyhsNCPdwIn1G1r1sw28K47HO8Utiehp6YryP6GKsJ5gStw-C1Hm0lPLsarkh63e_PXjLjHG_Q, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDk3NTE0NTZ9.LGwaHibOoGkQm8aTr_m__kLZljn1STsMgdJGZJTCW0n2Ngbhxn7oVgagmghYU3zJBlJCJR2w9efjSzzbK-0ZIQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:06:56 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$SJrC62VjFIW06eMpCRnvR.hdytUiVrq/UE/4NvhJoKVgnNj4599Yy, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDkyMzMwNTZ9.vOE1MQb0JLHmPyhsNCPdwIn1G1r1sw28K47HO8Utiehp6YryP6GKsJ5gStw-C1Hm0lPLsarkh63e_PXjLjHG_Q, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDk3NTE0NTZ9.LGwaHibOoGkQm8aTr_m__kLZljn1STsMgdJGZJTCW0n2Ngbhxn7oVgagmghYU3zJBlJCJR2w9efjSzzbK-0ZIQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:06:56 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$SJrC62VjFIW06eMpCRnvR.hdytUiVrq/UE/4NvhJoKVgnNj4599Yy, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDkyMzMwNTZ9.vOE1MQb0JLHmPyhsNCPdwIn1G1r1sw28K47HO8Utiehp6YryP6GKsJ5gStw-C1Hm0lPLsarkh63e_PXjLjHG_Q, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDk3NTE0NTZ9.LGwaHibOoGkQm8aTr_m__kLZljn1STsMgdJGZJTCW0n2Ngbhxn7oVgagmghYU3zJBlJCJR2w9efjSzzbK-0ZIQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:06:56 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$SJrC62VjFIW06eMpCRnvR.hdytUiVrq/UE/4NvhJoKVgnNj4599Yy, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDkyMzMwNTZ9.vOE1MQb0JLHmPyhsNCPdwIn1G1r1sw28K47HO8Utiehp6YryP6GKsJ5gStw-C1Hm0lPLsarkh63e_PXjLjHG_Q, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2NjU2LCJleHAiOjE3NDk3NTE0NTZ9.LGwaHibOoGkQm8aTr_m__kLZljn1STsMgdJGZJTCW0n2Ngbhxn7oVgagmghYU3zJBlJCJR2w9efjSzzbK-0ZIQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:06:56 [http-nio-8081-exec-10] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe00@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 22:07:02 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$SJrC62VjFIW06eMpCRnvR.hdytUiVrq/UE/4NvhJoKVgnNj4599Yy, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2ODIyLCJleHAiOjE3NDkyMzMyMjJ9.xqQsPDHUspo6CD_UNCyuf1zJ4UeEvj3qN_k_AGb6Nj7JdefQ-Jyg178eoRL02BNDHyxPq8S9srQzBWc4QLCfmA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2ODIyLCJleHAiOjE3NDk3NTE2MjJ9.wHaoKNmS4GrW3oNuGjwNvC9Jzt2YvDa0YJjEd4YYsaAJTwHfvIgR0caAvnfLtjQ4hMemwPo9kVyAOmynDji0JA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:07:02 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$SJrC62VjFIW06eMpCRnvR.hdytUiVrq/UE/4NvhJoKVgnNj4599Yy, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2ODIyLCJleHAiOjE3NDkyMzMyMjJ9.xqQsPDHUspo6CD_UNCyuf1zJ4UeEvj3qN_k_AGb6Nj7JdefQ-Jyg178eoRL02BNDHyxPq8S9srQzBWc4QLCfmA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2ODIyLCJleHAiOjE3NDk3NTE2MjJ9.wHaoKNmS4GrW3oNuGjwNvC9Jzt2YvDa0YJjEd4YYsaAJTwHfvIgR0caAvnfLtjQ4hMemwPo9kVyAOmynDji0JA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:07:02 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$SJrC62VjFIW06eMpCRnvR.hdytUiVrq/UE/4NvhJoKVgnNj4599Yy, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2ODIyLCJleHAiOjE3NDkyMzMyMjJ9.xqQsPDHUspo6CD_UNCyuf1zJ4UeEvj3qN_k_AGb6Nj7JdefQ-Jyg178eoRL02BNDHyxPq8S9srQzBWc4QLCfmA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2ODIyLCJleHAiOjE3NDk3NTE2MjJ9.wHaoKNmS4GrW3oNuGjwNvC9Jzt2YvDa0YJjEd4YYsaAJTwHfvIgR0caAvnfLtjQ4hMemwPo9kVyAOmynDji0JA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:07:02 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe00@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 22:07:02 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$SJrC62VjFIW06eMpCRnvR.hdytUiVrq/UE/4NvhJoKVgnNj4599Yy, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2ODIyLCJleHAiOjE3NDkyMzMyMjJ9.xqQsPDHUspo6CD_UNCyuf1zJ4UeEvj3qN_k_AGb6Nj7JdefQ-Jyg178eoRL02BNDHyxPq8S9srQzBWc4QLCfmA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2ODIyLCJleHAiOjE3NDk3NTE2MjJ9.wHaoKNmS4GrW3oNuGjwNvC9Jzt2YvDa0YJjEd4YYsaAJTwHfvIgR0caAvnfLtjQ4hMemwPo9kVyAOmynDji0JA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:07:02 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$SJrC62VjFIW06eMpCRnvR.hdytUiVrq/UE/4NvhJoKVgnNj4599Yy, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2ODIyLCJleHAiOjE3NDkyMzMyMjJ9.xqQsPDHUspo6CD_UNCyuf1zJ4UeEvj3qN_k_AGb6Nj7JdefQ-Jyg178eoRL02BNDHyxPq8S9srQzBWc4QLCfmA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2ODIyLCJleHAiOjE3NDk3NTE2MjJ9.wHaoKNmS4GrW3oNuGjwNvC9Jzt2YvDa0YJjEd4YYsaAJTwHfvIgR0caAvnfLtjQ4hMemwPo9kVyAOmynDji0JA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:07:02 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$SJrC62VjFIW06eMpCRnvR.hdytUiVrq/UE/4NvhJoKVgnNj4599Yy, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2ODIyLCJleHAiOjE3NDkyMzMyMjJ9.xqQsPDHUspo6CD_UNCyuf1zJ4UeEvj3qN_k_AGb6Nj7JdefQ-Jyg178eoRL02BNDHyxPq8S9srQzBWc4QLCfmA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2ODIyLCJleHAiOjE3NDk3NTE2MjJ9.wHaoKNmS4GrW3oNuGjwNvC9Jzt2YvDa0YJjEd4YYsaAJTwHfvIgR0caAvnfLtjQ4hMemwPo9kVyAOmynDji0JA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:07:02 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$SJrC62VjFIW06eMpCRnvR.hdytUiVrq/UE/4NvhJoKVgnNj4599Yy, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2ODIyLCJleHAiOjE3NDkyMzMyMjJ9.xqQsPDHUspo6CD_UNCyuf1zJ4UeEvj3qN_k_AGb6Nj7JdefQ-Jyg178eoRL02BNDHyxPq8S9srQzBWc4QLCfmA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2ODIyLCJleHAiOjE3NDk3NTE2MjJ9.wHaoKNmS4GrW3oNuGjwNvC9Jzt2YvDa0YJjEd4YYsaAJTwHfvIgR0caAvnfLtjQ4hMemwPo9kVyAOmynDji0JA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:07:02 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$SJrC62VjFIW06eMpCRnvR.hdytUiVrq/UE/4NvhJoKVgnNj4599Yy, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2ODIyLCJleHAiOjE3NDkyMzMyMjJ9.xqQsPDHUspo6CD_UNCyuf1zJ4UeEvj3qN_k_AGb6Nj7JdefQ-Jyg178eoRL02BNDHyxPq8S9srQzBWc4QLCfmA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2ODIyLCJleHAiOjE3NDk3NTE2MjJ9.wHaoKNmS4GrW3oNuGjwNvC9Jzt2YvDa0YJjEd4YYsaAJTwHfvIgR0caAvnfLtjQ4hMemwPo9kVyAOmynDji0JA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:07:02 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$SJrC62VjFIW06eMpCRnvR.hdytUiVrq/UE/4NvhJoKVgnNj4599Yy, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2ODIyLCJleHAiOjE3NDkyMzMyMjJ9.xqQsPDHUspo6CD_UNCyuf1zJ4UeEvj3qN_k_AGb6Nj7JdefQ-Jyg178eoRL02BNDHyxPq8S9srQzBWc4QLCfmA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2ODIyLCJleHAiOjE3NDk3NTE2MjJ9.wHaoKNmS4GrW3oNuGjwNvC9Jzt2YvDa0YJjEd4YYsaAJTwHfvIgR0caAvnfLtjQ4hMemwPo9kVyAOmynDji0JA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:07:02 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=4, email=erwe00@gmail.com, password=$2a$10$SJrC62VjFIW06eMpCRnvR.hdytUiVrq/UE/4NvhJoKVgnNj4599Yy, firstName=erwe00, lastName=, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2ODIyLCJleHAiOjE3NDkyMzMyMjJ9.xqQsPDHUspo6CD_UNCyuf1zJ4UeEvj3qN_k_AGb6Nj7JdefQ-Jyg178eoRL02BNDHyxPq8S9srQzBWc4QLCfmA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMDBAZ21haWwuY29tIiwiaWF0IjoxNzQ5MTQ2ODIyLCJleHAiOjE3NDk3NTE2MjJ9.wHaoKNmS4GrW3oNuGjwNvC9Jzt2YvDa0YJjEd4YYsaAJTwHfvIgR0caAvnfLtjQ4hMemwPo9kVyAOmynDji0JA, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 22:07:02 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe00@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 22:07:04 [http-nio-8081-exec-8] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe00@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 22:07:04 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe00@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 22:08:18 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 6092 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 22:08:18 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 22:08:20 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 22:08:20 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 22:08:20 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-05 22:08:21 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.strahovka.entity.User
2025-06-05 22:08:21 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 22:08:21 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1069)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 22:08:21 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-05 22:08:21 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.strahovka.entity.User
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.strahovka.entity.User
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.strahovka.entity.User
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 68 common frames omitted
Caused by: java.lang.IllegalArgumentException: Not a managed type: class com.strahovka.entity.User
	at org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:193)
	at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:468)
	at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:98)
	at org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.<init>(JpaMetamodelEntityInformation.java:82)
	at org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:246)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:211)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:194)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:1)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 79 common frames omitted
2025-06-05 22:56:20 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 2408 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 22:56:20 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 22:56:22 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 22:56:22 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 22:56:22 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-05 22:56:23 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.strahovka.entity.User
2025-06-05 22:56:23 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 22:56:23 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1069)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 22:56:23 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-05 22:56:23 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.strahovka.entity.User
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.strahovka.entity.User
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.strahovka.entity.User
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 68 common frames omitted
Caused by: java.lang.IllegalArgumentException: Not a managed type: class com.strahovka.entity.User
	at org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:193)
	at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:468)
	at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:98)
	at org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.<init>(JpaMetamodelEntityInformation.java:82)
	at org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:246)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:211)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:194)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:1)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 79 common frames omitted
2025-06-05 22:58:29 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 8572 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 22:58:29 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 22:58:31 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 22:58:31 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 22:58:31 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-05 22:58:31 [main] WARN  o.h.boot.model.internal.EntityBinder - HHH000457: Joined inheritance hierarchy [com.strahovka.entity.Insurance$BaseApplication] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)
2025-06-05 22:58:32 [main] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [policyId] in table [`base_applications`]
2025-06-05 22:58:32 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-06-05 22:58:32 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 22:58:32 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1069)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 22:58:32 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-05 22:58:32 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [policyId] in table [`base_applications`]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 94 common frames omitted
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [policyId] in table [`base_applications`]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:364)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 101 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [policyId] in table [`base_applications`]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:145)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:46)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:97)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:75)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:295)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:388)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 105 common frames omitted
2025-06-05 23:01:23 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 16196 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 23:01:23 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 23:01:25 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 23:01:25 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-06-05 23:01:25 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 23:01:25 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/sun.nio.ch.Net.poll(Native Method)
 java.base/sun.nio.ch.NioSocketImpl.park(NioSocketImpl.java:191)
 java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:280)
 java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:304)
 java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:346)
 java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:796)
 java.base/java.net.Socket$SocketInputStream.implRead(Socket.java:1116)
 java.base/java.net.Socket$SocketInputStream.read(Socket.java:1103)
 org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)
 org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)
 org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)
 org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)
 org.postgresql.core.PGStream.receiveChar(PGStream.java:465)
 org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:589)
 org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:191)
 org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
 org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
 org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
 org.postgresql.Driver.makeConnection(Driver.java:443)
 org.postgresql.Driver.connect(Driver.java:297)
 com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
 com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
 com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
 com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
 com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
 java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 23:01:25 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-05 23:01:25 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Found more than one migration with version 119
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V119__fix_policy_id_column_name.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V119__fix_policy_id_column.sql (SQL)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:312)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 94 common frames omitted
Caused by: org.flywaydb.core.api.FlywayException: Found more than one migration with version 119
Offenders:
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V119__fix_policy_id_column_name.sql (SQL)
-> C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\db\migration\V119__fix_policy_id_column.sql (SQL)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.checkForIncompatibilities(CompositeMigrationResolver.java:87)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.doFindAvailableMigrations(CompositeMigrationResolver.java:120)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:107)
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:113)
	at org.flywaydb.core.internal.info.MigrationInfoServiceImpl.refresh(MigrationInfoServiceImpl.java:79)
	at org.flywaydb.core.internal.command.DbValidate.lambda$validate$0(DbValidate.java:108)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbValidate.validate(DbValidate.java:101)
	at org.flywaydb.core.Flyway.doValidate(Flyway.java:400)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:144)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 103 common frames omitted
2025-06-05 23:02:28 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 14316 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 23:02:28 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 23:02:29 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 23:02:30 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "status" отношения "base_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "user_id" отношения "base_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: отношение "insurance_packages" уже существует, пропускается (SQL State: 42P07 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "calculation_rules" отношения "insurance_guides" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "coverage_details" отношения "insurance_guides" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "description" отношения "insurance_guides" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "display_order" отношения "insurance_guides" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "important_notes" отношения "insurance_guides" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "required_documents" отношения "insurance_guides" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "status" отношения "insurance_policies" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "cashback" отношения "insurance_policies" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "status" отношения "insurance_policies" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "details" отношения "insurance_policies" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "package_discount" отношения "insurance_policies" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "package_name" отношения "insurance_policies" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "engine_power" отношения "osago_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "has_accidents_last_year" отношения "osago_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "is_unlimited_drivers" отношения "osago_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "previous_policy_number" отношения "osago_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "registration_certificate" отношения "osago_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "region_registration" отношения "osago_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "construction_type" отношения "property_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "cover_natural_disasters" отношения "property_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "cover_theft" отношения "property_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "cover_third_party_liability" отношения "property_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "has_fire_alarm" отношения "property_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "has_mortage" отношения "property_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "has_security_system" отношения "property_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "mortage_bank" отношения "property_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "ownership_document_number" отношения "property_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "property_address" отношения "property_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "property_area" отношения "property_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "cover_luggage" отношения "travel_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "cover_medical_expenses" отношения "travel_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "cover_sports_activities" отношения "travel_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "cover_trip_cancellation" отношения "travel_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "has_chronic_diseases" отношения "travel_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "passport_expiry" отношения "travel_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "planned_sports_activities" отношения "travel_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "purpose_of_trip" отношения "travel_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "status" отношения "base_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "status" отношения "osago_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "status" отношения "travel_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "status" отношения "health_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "status" отношения "property_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "status" отношения "insurance_policies" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "status" отношения "insurance_claims" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "status" отношения "insurance_packages" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "status" отношения "base_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "status" отношения "base_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "content" отношения "insurance_guides" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "updated_at" отношения "insurance_guides" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "passport_number" отношения "health_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "preferred_clinic" отношения "health_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "smoking_status" отношения "health_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "snils" отношения "health_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: столбец "cover_accidents" отношения "travel_applications" уже существует, пропускается (SQL State: 42701 - Error Code: 0)
2025-06-05 23:02:30 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-05 23:02:31 [main] WARN  o.h.boot.model.internal.EntityBinder - HHH000457: Joined inheritance hierarchy [com.strahovka.entity.Insurance$BaseApplication] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)
2025-06-05 23:02:32 [main] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [policyId] in table [`base_applications`]
2025-06-05 23:02:32 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-06-05 23:02:32 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 23:02:32 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1069)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 23:02:32 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-05 23:02:32 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:618)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at com.strahovka.StrahovkaApplication.main(StrahovkaApplication.java:13)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:145)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:105)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:499)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:218)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\security\JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4866)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:845)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:240)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtService' defined in file [C:\Users\jopa\IdeaProjects\strahovka\back\target\classes\com\strahovka\service\JwtService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.strahovka.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1685)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785)
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:685)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1335)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1165)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [policyId] in table [`base_applications`]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 94 common frames omitted
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [policyId] in table [`base_applications`]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:364)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)
	... 101 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [policyId] in table [`base_applications`]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:145)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:46)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:97)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:75)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:295)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:388)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 105 common frames omitted
2025-06-05 23:05:19 [main] INFO  com.strahovka.StrahovkaApplication - Starting StrahovkaApplication using Java 23.0.2 with PID 19460 (C:\Users\jopa\IdeaProjects\strahovka\back\target\classes started by jopa in C:\Users\jopa\IdeaProjects\strahovka)
2025-06-05 23:05:19 [main] INFO  com.strahovka.StrahovkaApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-05 23:05:21 [main] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: PostgreSQL 17.4 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2025-06-05 23:05:21 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-05 23:05:21 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-05 23:05:21 [main] WARN  o.h.boot.model.internal.EntityBinder - HHH000457: Joined inheritance hierarchy [com.strahovka.entity.Insurance$BaseApplication] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)
2025-06-05 23:05:23 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-05 23:05:24 [main] INFO  com.strahovka.StrahovkaApplication - Started StrahovkaApplication in 5.199 seconds (process running for 5.656)
2025-06-05 23:05:28 [http-nio-8081-exec-4] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
org.springframework.security.core.userdetails.UsernameNotFoundException: User not found
	at com.strahovka.config.ApplicationConfig.lambda$userDetailsService$0(ApplicationConfig.java:19)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.strahovka.config.ApplicationConfig.lambda$userDetailsService$1(ApplicationConfig.java:19)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:46)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 23:05:28 [http-nio-8081-exec-5] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
org.springframework.security.core.userdetails.UsernameNotFoundException: User not found
	at com.strahovka.config.ApplicationConfig.lambda$userDetailsService$0(ApplicationConfig.java:19)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.strahovka.config.ApplicationConfig.lambda$userDetailsService$1(ApplicationConfig.java:19)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:46)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 23:05:28 [http-nio-8081-exec-6] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
org.springframework.security.core.userdetails.UsernameNotFoundException: User not found
	at com.strahovka.config.ApplicationConfig.lambda$userDetailsService$0(ApplicationConfig.java:19)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.strahovka.config.ApplicationConfig.lambda$userDetailsService$1(ApplicationConfig.java:19)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:46)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 23:05:31 [http-nio-8081-exec-7] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.RuntimeException: User not found] with root cause
java.lang.RuntimeException: User not found
	at com.strahovka.service.AuthService.lambda$login$0(AuthService.java:24)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.strahovka.service.AuthService.login(AuthService.java:24)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717)
	at com.strahovka.service.AuthService$$SpringCGLIB$$0.login(<generated>)
	at com.strahovka.controller.AuthController.login(AuthController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.strahovka.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:38)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-06-05 23:05:39 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:05:39 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:05:39 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:05:39 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 23:05:39 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:05:39 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:05:39 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:05:39 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:05:39 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:05:39 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 23:05:39 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:05:39 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:05:51 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - createKaskoApplication called. Authenticated user email: erwe1488@gmail.com. Application payload email: null
2025-06-05 23:05:51 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Authenticated user: erwe1488@gmail.com. Email in application DTO: null
2025-06-05 23:05:51 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:05:51 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:05:51 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:05:51 [http-nio-8081-exec-9] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 23:05:51 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:05:51 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:05:51 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:05:51 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:05:51 [http-nio-8081-exec-5] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 0 active policies, new level: WOODEN
2025-06-05 23:05:51 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:05:51 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:05:51 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=WOODEN, policyCount=0), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:05:53 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - processKaskoPayment called for app ID: 1. Auth email: erwe1488@gmail.com
2025-06-05 23:05:53 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Finding or creating user for email: erwe1488@gmail.com
2025-06-05 23:05:53 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - User 2 found/created for email: erwe1488@gmail.com
2025-06-05 23:05:53 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 23:05:53 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Application ID 1 (type: AUTO) status updated to PAID after policy creation for user erwe1488@gmail.com.
2025-06-05 23:05:53 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:05:53 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:05:53 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:05:53 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:05:53 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:05:53 [http-nio-8081-exec-8] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 23:05:56 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:05:56 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:05:56 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:05:56 [http-nio-8081-exec-1] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 23:05:56 [http-nio-8081-exec-5] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:05:56 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:05:56 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:05:56 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:05:56 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:05:56 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:05:56 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:05:56 [http-nio-8081-exec-10] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 23:06:03 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:06:03 [http-nio-8081-exec-6] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:06:03 [http-nio-8081-exec-1] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:06:03 [http-nio-8081-exec-8] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 23:06:03 [http-nio-8081-exec-3] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:06:03 [http-nio-8081-exec-10] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:06:03 [http-nio-8081-exec-2] INFO  c.s.controller.InsuranceController - getOsagoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:06:03 [http-nio-8081-exec-9] INFO  c.s.controller.InsuranceController - getTravelApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:06:03 [http-nio-8081-exec-7] INFO  c.s.controller.InsuranceController - getKaskoApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:06:03 [http-nio-8081-exec-4] INFO  c.s.controller.InsuranceController - getHealthApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:06:03 [http-nio-8081-exec-6] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 23:06:03 [http-nio-8081-exec-8] INFO  c.s.controller.InsuranceController - getPropertyApplications called. Authentication: UsernamePasswordAuthenticationToken [Principal=User(id=2, email=erwe1488@gmail.com, password=$2a$10$ar3FGLDyP4RIuZGOA31FUe5tTOYCM9jw30az0fDpBzN0t0bHFJV8C, firstName=erwe1488@gmail.com, lastName=erwe1488@gmail.com, middleName=null, phone=null, role=USER, accessToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTIzNjczN30.UDhojEzcTh6CLSnkKxHkSCSMhV2dUF2mxbYmAr3aXyiwbc38gjicJWxLrNH7sZvWOCC6c4Ue50ZnJNFPZmocjA, refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJlcndlMTQ4OEBnbWFpbC5jb20iLCJpYXQiOjE3NDkxNTAzMzcsImV4cCI6MTc0OTc1NTEzN30.lYm1GzaxGfSMv8wY83yq_O5DUpTBr4iSBMLktsNdtDwETg9hH4jGkZNy_vRiwURH6pcxfRbmEu4qdXFxeu09fQ, level=BRONZE, policyCount=1), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USER]]
2025-06-05 23:06:18 [http-nio-8081-exec-10] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 23:06:18 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 23:06:50 [http-nio-8081-exec-3] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 1 active policies, new level: BRONZE
2025-06-05 23:06:50 [http-nio-8081-exec-2] INFO  c.strahovka.service.InsuranceService - Recalculated policy count for user erwe1488@gmail.com: 1 active policies, new level: BRONZE
